{"version":3,"file":"static/js/848.5cd3ea23.chunk.js","mappings":"sNAMe,SAASA,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,MAyBjB,OAvBAC,EAAAA,EAAAA,WAAU,KACRC,EAAAA,GAASC,KAAKC,kBAAkBC,MAAOC,EAAOC,KAC5C,GAAc,cAAVD,GAAyBC,EAAS,CAEpC,MAAMC,QAAsBC,EAAAA,EAAAA,IAAsBF,EAAQG,KAAKC,IAGzDC,EAAgB,IAAIC,KAAKN,EAAQG,KAAKI,YAEtCC,GADM,IAAIF,MACOG,UAAYJ,EAAcI,UAAa,IAI5DjB,EADEgB,IAAcP,EACP,cAEA,aAEb,MACET,EAAS,YAGZ,CAACA,KAGFkB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gDAA+CC,UAC5DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAACI,EAAAA,EAAO,CAACH,UAAU,sDACnBD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAeC,SAAC,qCAIrC,C","sources":["pages/AuthCallback.tsx"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { Loader2 } from 'lucide-react';\r\nimport { hasProviderConfigured } from '@/services/userAIPreferencesService';\r\n\r\nexport default function AuthCallback() {\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    supabase.auth.onAuthStateChange(async (event, session) => {\r\n      if (event === 'SIGNED_IN' && session) {\r\n        // Check if user has AI provider configured\r\n        const hasAIProvider = await hasProviderConfigured(session.user.id);\r\n\r\n        // Check if this is a new user (created recently)\r\n        const userCreatedAt = new Date(session.user.created_at);\r\n        const now = new Date();\r\n        const isNewUser = (now.getTime() - userCreatedAt.getTime()) < 5 * 60 * 1000; // 5 minutes\r\n\r\n        // Redirect new users without AI provider to onboarding\r\n        if (isNewUser && !hasAIProvider) {\r\n          navigate('/onboarding');\r\n        } else {\r\n          navigate('/workspace');\r\n        }\r\n      } else {\r\n        navigate('/auth');\r\n      }\r\n    });\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center\">\r\n      <div className=\"text-center\">\r\n        <Loader2 className=\"h-8 w-8 animate-spin text-green-500 mx-auto mb-4\" />\r\n        <p className=\"text-gray-400\">Completing authentication...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":["AuthCallback","navigate","useNavigate","useEffect","supabase","auth","onAuthStateChange","async","event","session","hasAIProvider","hasProviderConfigured","user","id","userCreatedAt","Date","created_at","isNewUser","getTime","_jsx","className","children","_jsxs","Loader2"],"sourceRoot":""}