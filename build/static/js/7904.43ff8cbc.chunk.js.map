{"version":3,"file":"static/js/7904.43ff8cbc.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/layout-dashboard.ts","hooks/useSubscription.ts","../node_modules/lucide-react/src/icons/menu.ts","services/subscriptionService.ts","../node_modules/lucide-react/src/icons/crown.ts","components/ui/beta-label.tsx","components/WorkspaceSidebar.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LayoutDashboard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI5IiB4PSIzIiB5PSIzIiByeD0iMSIgLz4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI1IiB4PSIxNCIgeT0iMyIgcng9IjEiIC8+CiAgPHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iOSIgeD0iMTQiIHk9IjEyIiByeD0iMSIgLz4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI1IiB4PSIzIiB5PSIxNiIgcng9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/layout-dashboard\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LayoutDashboard = createLucideIcon('LayoutDashboard', [\n  ['rect', { width: '7', height: '9', x: '3', y: '3', rx: '1', key: '10lvy0' }],\n  ['rect', { width: '7', height: '5', x: '14', y: '3', rx: '1', key: '16une8' }],\n  ['rect', { width: '7', height: '9', x: '14', y: '12', rx: '1', key: '1hutg5' }],\n  ['rect', { width: '7', height: '5', x: '3', y: '16', rx: '1', key: 'ldoo1y' }],\n]);\n\nexport default LayoutDashboard;\n","import { useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport SubscriptionService, {\r\n  UserSubscription,\r\n  UsageStats,\r\n  SubscriptionPlan\r\n} from '@/services/subscriptionService';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface UseSubscriptionReturn {\r\n  subscription: UserSubscription | null;\r\n  usage: UsageStats | null;\r\n  currentPlan: SubscriptionPlan | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  \r\n  // Actions\r\n  canPerformAction: (action: 'create_idea' | 'generate_prompt' | 'make_ai_call') => Promise<{\r\n    allowed: boolean;\r\n    reason?: string;\r\n    upgradeRequired?: boolean;\r\n  }>;\r\n  trackUsage: (action: 'create_idea' | 'generate_prompt' | 'make_ai_call', amount?: number) => Promise<boolean>;\r\n  startFreeTrial: () => Promise<boolean>;\r\n  cancelSubscription: (immediate?: boolean) => Promise<boolean>;\r\n  \r\n  // Computed properties\r\n  isFreeTier: boolean;\r\n  isProTier: boolean;\r\n  isEnterpriseTier: boolean;\r\n  isOnTrial: boolean;\r\n  trialDaysRemaining: number;\r\n  hasActiveSubscription: boolean;\r\n  \r\n  // Refresh data\r\n  refresh: () => Promise<void>;\r\n}\r\n\r\nexport const useSubscription = (): UseSubscriptionReturn => {\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n  \r\n  const [subscription, setSubscription] = useState<UserSubscription | null>(null);\r\n  const [usage, setUsage] = useState<UsageStats | null>(null);\r\n  const [currentPlan, setCurrentPlan] = useState<SubscriptionPlan | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isOnTrial, setIsOnTrial] = useState(false);\r\n  const [trialDaysRemaining, setTrialDaysRemaining] = useState(0);\r\n\r\n  const fetchSubscriptionData = useCallback(async () => {\r\n    if (!user?.id) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const [subscriptionData, usageData] = await Promise.all([\r\n        SubscriptionService.getUserSubscription(user.id),\r\n        SubscriptionService.getUserUsage(user.id)\r\n      ]);\r\n\r\n      setSubscription(subscriptionData);\r\n      setUsage(usageData);\r\n\r\n      // Set current plan\r\n      if (subscriptionData) {\r\n        const plan = SubscriptionService.getPlan(subscriptionData.planId);\r\n        setCurrentPlan(plan);\r\n      } else {\r\n        // Default to free plan\r\n        const freePlan = SubscriptionService.getPlan('free');\r\n        setCurrentPlan(freePlan);\r\n      }\r\n\r\n      // Check trial status\r\n      const trialStatus = await SubscriptionService.isOnTrial(user.id);\r\n      setIsOnTrial(trialStatus);\r\n\r\n      if (trialStatus) {\r\n        const daysRemaining = await SubscriptionService.getTrialDaysRemaining(user.id);\r\n        setTrialDaysRemaining(daysRemaining);\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('Error fetching subscription data:', err);\r\n      setError('Failed to load subscription data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user?.id]);\r\n\r\n  useEffect(() => {\r\n    fetchSubscriptionData();\r\n  }, [fetchSubscriptionData]);\r\n\r\n  const canPerformAction = useCallback(async (\r\n    action: 'create_idea' | 'generate_prompt' | 'make_ai_call'\r\n  ) => {\r\n    if (!user?.id) {\r\n      return { allowed: false, reason: 'User not authenticated' };\r\n    }\r\n\r\n    return await SubscriptionService.canPerformAction(user.id, action);\r\n  }, [user?.id]);\r\n\r\n  const trackUsage = useCallback(async (\r\n    action: 'create_idea' | 'generate_prompt' | 'make_ai_call',\r\n    amount: number = 1\r\n  ) => {\r\n    if (!user?.id) return false;\r\n\r\n    const success = await SubscriptionService.trackUsage(user.id, action, amount);\r\n    if (success) {\r\n      // Refresh usage data\r\n      const updatedUsage = await SubscriptionService.getUserUsage(user.id);\r\n      setUsage(updatedUsage);\r\n    }\r\n    return success;\r\n  }, [user?.id]);\r\n\r\n  const startFreeTrial = useCallback(async () => {\r\n    if (!user?.id) return false;\r\n\r\n    const success = await SubscriptionService.startFreeTrial(user.id);\r\n    if (success) {\r\n      toast({\r\n        title: \"Trial Started!\",\r\n        description: \"Your 7-day Pro trial has begun. Enjoy unlimited access!\",\r\n      });\r\n      await fetchSubscriptionData();\r\n    } else {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to start trial. Please try again.\",\r\n        variant: \"destructive\"\r\n      });\r\n    }\r\n    return success;\r\n  }, [user?.id, toast, fetchSubscriptionData]);\r\n\r\n  const cancelSubscription = useCallback(async (immediate: boolean = false) => {\r\n    if (!user?.id) return false;\r\n\r\n    const success = await SubscriptionService.cancelSubscription(user.id, immediate);\r\n    if (success) {\r\n      toast({\r\n        title: immediate ? \"Subscription Cancelled\" : \"Cancellation Scheduled\",\r\n        description: immediate \r\n          ? \"Your subscription has been cancelled immediately.\"\r\n          : \"Your subscription will be cancelled at the end of the current period.\",\r\n      });\r\n      await fetchSubscriptionData();\r\n    } else {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to cancel subscription. Please try again.\",\r\n        variant: \"destructive\"\r\n      });\r\n    }\r\n    return success;\r\n  }, [user?.id, toast, fetchSubscriptionData]);\r\n\r\n  // Computed properties\r\n  const isFreeTier = currentPlan?.tier === 'free' || !subscription;\r\n  const isProTier = currentPlan?.tier === 'pro';\r\n  const isEnterpriseTier = currentPlan?.tier === 'enterprise';\r\n  const hasActiveSubscription = subscription?.status === 'active' || subscription?.status === 'trial';\r\n\r\n  return {\r\n    subscription,\r\n    usage,\r\n    currentPlan,\r\n    loading,\r\n    error,\r\n    \r\n    // Actions\r\n    canPerformAction,\r\n    trackUsage,\r\n    startFreeTrial,\r\n    cancelSubscription,\r\n    \r\n    // Computed properties\r\n    isFreeTier,\r\n    isProTier,\r\n    isEnterpriseTier,\r\n    isOnTrial,\r\n    trialDaysRemaining,\r\n    hasActiveSubscription,\r\n    \r\n    // Refresh\r\n    refresh: fetchSubscriptionData\r\n  };\r\n};\r\n\r\nexport default useSubscription;\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Menu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iNCIgeDI9IjIwIiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iNCIgeDI9IjIwIiB5MT0iNiIgeTI9IjYiIC8+CiAgPGxpbmUgeDE9IjQiIHgyPSIyMCIgeTE9IjE4IiB5Mj0iMTgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/menu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Menu = createLucideIcon('Menu', [\n  ['line', { x1: '4', x2: '20', y1: '12', y2: '12', key: '1e0a9i' }],\n  ['line', { x1: '4', x2: '20', y1: '6', y2: '6', key: '1owob3' }],\n  ['line', { x1: '4', x2: '20', y1: '18', y2: '18', key: 'yk5zj1' }],\n]);\n\nexport default Menu;\n","import { supabase } from '@/lib/supabase';\r\n\r\nexport type SubscriptionTier = 'free' | 'pro' | 'enterprise';\r\nexport type SubscriptionStatus = 'active' | 'inactive' | 'trial' | 'expired' | 'cancelled';\r\n\r\nexport interface SubscriptionPlan {\r\n  id: string;\r\n  name: string;\r\n  tier: SubscriptionTier;\r\n  price: number;\r\n  currency: string;\r\n  interval: 'month' | 'year';\r\n  features: string[];\r\n  limits: {\r\n    ideas: number | 'unlimited';\r\n    prompts: number | 'unlimited';\r\n    aiCalls: number | 'unlimited';\r\n    teamMembers: number | 'unlimited';\r\n    storage: string;\r\n  };\r\n  popular?: boolean;\r\n}\r\n\r\nexport interface UserSubscription {\r\n  id: string;\r\n  userId: string;\r\n  planId: string;\r\n  tier: SubscriptionTier;\r\n  status: SubscriptionStatus;\r\n  currentPeriodStart: string;\r\n  currentPeriodEnd: string;\r\n  trialEndsAt?: string;\r\n  cancelAtPeriodEnd: boolean;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport interface UsageStats {\r\n  ideasCreated: number;\r\n  promptsGenerated: number;\r\n  aiCallsMade: number;\r\n  storageUsed: number;\r\n  resetDate: string;\r\n}\r\n\r\nexport const SUBSCRIPTION_PLANS: SubscriptionPlan[] = [\r\n  {\r\n    id: 'free',\r\n    name: 'Free',\r\n    tier: 'free',\r\n    price: 0,\r\n    currency: 'USD',\r\n    interval: 'month',\r\n    features: [\r\n      '1 idea in Idea Vault',\r\n      '10 AI prompts per month',\r\n      'Basic templates',\r\n      'Community support',\r\n      'Basic AI tools access'\r\n    ],\r\n    limits: {\r\n      ideas: 1,\r\n      prompts: 10,\r\n      aiCalls: 50,\r\n      teamMembers: 1,\r\n      storage: '100MB'\r\n    }\r\n  },\r\n  {\r\n    id: 'pro-monthly',\r\n    name: 'Pro',\r\n    tier: 'pro',\r\n    price: 29,\r\n    currency: 'USD',\r\n    interval: 'month',\r\n    features: [\r\n      'Unlimited ideas',\r\n      'Unlimited AI prompts',\r\n      'Advanced templates',\r\n      'Priority support',\r\n      'MVP Studio access',\r\n      'Team collaboration (5 members)',\r\n      'Export capabilities',\r\n      'Advanced AI tools'\r\n    ],\r\n    limits: {\r\n      ideas: 'unlimited',\r\n      prompts: 'unlimited',\r\n      aiCalls: 'unlimited',\r\n      teamMembers: 5,\r\n      storage: '10GB'\r\n    },\r\n    popular: true\r\n  },\r\n  {\r\n    id: 'pro-yearly',\r\n    name: 'Pro (Yearly)',\r\n    tier: 'pro',\r\n    price: 290,\r\n    currency: 'USD',\r\n    interval: 'year',\r\n    features: [\r\n      'Everything in Pro Monthly',\r\n      '2 months free',\r\n      'Priority feature requests',\r\n      'Advanced analytics'\r\n    ],\r\n    limits: {\r\n      ideas: 'unlimited',\r\n      prompts: 'unlimited',\r\n      aiCalls: 'unlimited',\r\n      teamMembers: 5,\r\n      storage: '10GB'\r\n    }\r\n  },\r\n  {\r\n    id: 'enterprise',\r\n    name: 'Enterprise',\r\n    tier: 'enterprise',\r\n    price: 99,\r\n    currency: 'USD',\r\n    interval: 'month',\r\n    features: [\r\n      'Everything in Pro',\r\n      'Unlimited team members',\r\n      'Custom AI training',\r\n      'Dedicated support',\r\n      'Advanced analytics',\r\n      'Custom integrations',\r\n      'SSO support',\r\n      'API access'\r\n    ],\r\n    limits: {\r\n      ideas: 'unlimited',\r\n      prompts: 'unlimited',\r\n      aiCalls: 'unlimited',\r\n      teamMembers: 'unlimited',\r\n      storage: '100GB'\r\n    }\r\n  }\r\n];\r\n\r\nclass SubscriptionService {\r\n  /**\r\n   * Get user's current subscription\r\n   */\r\n  static async getUserSubscription(userId: string): Promise<UserSubscription | null> {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('user_subscriptions')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .single();\r\n\r\n      if (error && error.code !== 'PGRST116') {\r\n        console.error('Error fetching user subscription:', error);\r\n        return null;\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Error in getUserSubscription:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get user's usage statistics\r\n   */\r\n  static async getUserUsage(userId: string): Promise<UsageStats | null> {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('user_usage_stats')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .single();\r\n\r\n      if (error && error.code !== 'PGRST116') {\r\n        console.error('Error fetching user usage:', error);\r\n        return null;\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Error in getUserUsage:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if user can perform an action based on their subscription\r\n   */\r\n  static async canPerformAction(\r\n    userId: string, \r\n    action: 'create_idea' | 'generate_prompt' | 'make_ai_call'\r\n  ): Promise<{ allowed: boolean; reason?: string; upgradeRequired?: boolean }> {\r\n    try {\r\n      const subscription = await this.getUserSubscription(userId);\r\n      const usage = await this.getUserUsage(userId);\r\n\r\n      if (!subscription) {\r\n        // Default to free tier if no subscription found\r\n        return this.checkFreeTierLimits(usage, action);\r\n      }\r\n\r\n      const plan = SUBSCRIPTION_PLANS.find(p => p.id === subscription.planId);\r\n      if (!plan) {\r\n        return { allowed: false, reason: 'Invalid subscription plan' };\r\n      }\r\n\r\n      // Check if subscription is active\r\n      if (subscription.status !== 'active' && subscription.status !== 'trial') {\r\n        return { \r\n          allowed: false, \r\n          reason: 'Subscription is not active', \r\n          upgradeRequired: true \r\n        };\r\n      }\r\n\r\n      // Check if trial has expired\r\n      if (subscription.status === 'trial' && subscription.trialEndsAt) {\r\n        const trialEnd = new Date(subscription.trialEndsAt);\r\n        if (trialEnd < new Date()) {\r\n          return { \r\n            allowed: false, \r\n            reason: 'Trial has expired', \r\n            upgradeRequired: true \r\n          };\r\n        }\r\n      }\r\n\r\n      return this.checkPlanLimits(plan, usage, action);\r\n    } catch (error) {\r\n      console.error('Error in canPerformAction:', error);\r\n      return { allowed: false, reason: 'Error checking permissions' };\r\n    }\r\n  }\r\n\r\n  private static checkFreeTierLimits(\r\n    usage: UsageStats | null, \r\n    action: string\r\n  ): { allowed: boolean; reason?: string; upgradeRequired?: boolean } {\r\n    const freePlan = SUBSCRIPTION_PLANS.find(p => p.tier === 'free')!;\r\n    return this.checkPlanLimits(freePlan, usage, action);\r\n  }\r\n\r\n  private static checkPlanLimits(\r\n    plan: SubscriptionPlan, \r\n    usage: UsageStats | null, \r\n    action: string\r\n  ): { allowed: boolean; reason?: string; upgradeRequired?: boolean } {\r\n    if (!usage) {\r\n      // If no usage data, allow action (will be tracked)\r\n      return { allowed: true };\r\n    }\r\n\r\n    switch (action) {\r\n      case 'create_idea':\r\n        if (plan.limits.ideas === 'unlimited') return { allowed: true };\r\n        if (usage.ideasCreated >= plan.limits.ideas) {\r\n          return { \r\n            allowed: false, \r\n            reason: `You've reached your limit of ${plan.limits.ideas} ideas`, \r\n            upgradeRequired: true \r\n          };\r\n        }\r\n        return { allowed: true };\r\n\r\n      case 'generate_prompt':\r\n        if (plan.limits.prompts === 'unlimited') return { allowed: true };\r\n        if (usage.promptsGenerated >= plan.limits.prompts) {\r\n          return { \r\n            allowed: false, \r\n            reason: `You've reached your limit of ${plan.limits.prompts} prompts this month`, \r\n            upgradeRequired: true \r\n          };\r\n        }\r\n        return { allowed: true };\r\n\r\n      case 'make_ai_call':\r\n        if (plan.limits.aiCalls === 'unlimited') return { allowed: true };\r\n        if (usage.aiCallsMade >= plan.limits.aiCalls) {\r\n          return { \r\n            allowed: false, \r\n            reason: `You've reached your limit of ${plan.limits.aiCalls} AI calls this month`, \r\n            upgradeRequired: true \r\n          };\r\n        }\r\n        return { allowed: true };\r\n\r\n      default:\r\n        return { allowed: true };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Track usage for a specific action\r\n   */\r\n  static async trackUsage(\r\n    userId: string,\r\n    action: 'create_idea' | 'generate_prompt' | 'make_ai_call',\r\n    amount: number = 1\r\n  ): Promise<boolean> {\r\n    try {\r\n      const { error } = await supabase.rpc('increment_user_usage', {\r\n        user_id: userId,\r\n        action_type: action,\r\n        increment_amount: amount\r\n      });\r\n\r\n      if (error) {\r\n        console.error('Error tracking usage:', error);\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error in trackUsage:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create or update user subscription\r\n   */\r\n  static async updateSubscription(\r\n    userId: string,\r\n    planId: string,\r\n    status: SubscriptionStatus = 'active'\r\n  ): Promise<boolean> {\r\n    try {\r\n      const plan = SUBSCRIPTION_PLANS.find(p => p.id === planId);\r\n      if (!plan) {\r\n        console.error('Invalid plan ID:', planId);\r\n        return false;\r\n      }\r\n\r\n      const now = new Date();\r\n      const periodEnd = new Date(now);\r\n      if (plan.interval === 'month') {\r\n        periodEnd.setMonth(periodEnd.getMonth() + 1);\r\n      } else {\r\n        periodEnd.setFullYear(periodEnd.getFullYear() + 1);\r\n      }\r\n\r\n      const subscriptionData = {\r\n        user_id: userId,\r\n        plan_id: planId,\r\n        tier: plan.tier,\r\n        status,\r\n        current_period_start: now.toISOString(),\r\n        current_period_end: periodEnd.toISOString(),\r\n        cancel_at_period_end: false,\r\n        updated_at: now.toISOString()\r\n      };\r\n\r\n      const { error } = await supabase\r\n        .from('user_subscriptions')\r\n        .upsert(subscriptionData, { onConflict: 'user_id' });\r\n\r\n      if (error) {\r\n        console.error('Error updating subscription:', error);\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error in updateSubscription:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Start free trial\r\n   */\r\n  static async startFreeTrial(userId: string): Promise<boolean> {\r\n    try {\r\n      const now = new Date();\r\n      const trialEnd = new Date(now);\r\n      trialEnd.setDate(trialEnd.getDate() + 7); // 7-day trial\r\n\r\n      const subscriptionData = {\r\n        user_id: userId,\r\n        plan_id: 'pro-monthly',\r\n        tier: 'pro' as SubscriptionTier,\r\n        status: 'trial' as SubscriptionStatus,\r\n        current_period_start: now.toISOString(),\r\n        current_period_end: trialEnd.toISOString(),\r\n        trial_ends_at: trialEnd.toISOString(),\r\n        cancel_at_period_end: false,\r\n        updated_at: now.toISOString()\r\n      };\r\n\r\n      const { error } = await supabase\r\n        .from('user_subscriptions')\r\n        .upsert(subscriptionData, { onConflict: 'user_id' });\r\n\r\n      if (error) {\r\n        console.error('Error starting trial:', error);\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error in startFreeTrial:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cancel subscription\r\n   */\r\n  static async cancelSubscription(userId: string, immediate: boolean = false): Promise<boolean> {\r\n    try {\r\n      const updateData = immediate\r\n        ? { status: 'cancelled' as SubscriptionStatus, updated_at: new Date().toISOString() }\r\n        : { cancel_at_period_end: true, updated_at: new Date().toISOString() };\r\n\r\n      const { error } = await supabase\r\n        .from('user_subscriptions')\r\n        .update(updateData)\r\n        .eq('user_id', userId);\r\n\r\n      if (error) {\r\n        console.error('Error cancelling subscription:', error);\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error in cancelSubscription:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get subscription plan by ID\r\n   */\r\n  static getPlan(planId: string): SubscriptionPlan | null {\r\n    return SUBSCRIPTION_PLANS.find(p => p.id === planId) || null;\r\n  }\r\n\r\n  /**\r\n   * Get all available plans\r\n   */\r\n  static getAllPlans(): SubscriptionPlan[] {\r\n    return SUBSCRIPTION_PLANS;\r\n  }\r\n\r\n  /**\r\n   * Get plans for a specific tier\r\n   */\r\n  static getPlansByTier(tier: SubscriptionTier): SubscriptionPlan[] {\r\n    return SUBSCRIPTION_PLANS.filter(p => p.tier === tier);\r\n  }\r\n\r\n  /**\r\n   * Check if user is on trial\r\n   */\r\n  static async isOnTrial(userId: string): Promise<boolean> {\r\n    const subscription = await this.getUserSubscription(userId);\r\n    if (!subscription) return false;\r\n\r\n    if (subscription.status !== 'trial') return false;\r\n\r\n    if (subscription.trialEndsAt) {\r\n      const trialEnd = new Date(subscription.trialEndsAt);\r\n      return trialEnd > new Date();\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Get days remaining in trial\r\n   */\r\n  static async getTrialDaysRemaining(userId: string): Promise<number> {\r\n    const subscription = await this.getUserSubscription(userId);\r\n    if (!subscription || subscription.status !== 'trial' || !subscription.trialEndsAt) {\r\n      return 0;\r\n    }\r\n\r\n    const trialEnd = new Date(subscription.trialEndsAt);\r\n    const now = new Date();\r\n    const diffTime = trialEnd.getTime() - now.getTime();\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n\r\n    return Math.max(0, diffDays);\r\n  }\r\n}\r\n\r\nexport default SubscriptionService;\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Crown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuNTYyIDMuMjY2YS41LjUgMCAwIDEgLjg3NiAwTDE1LjM5IDguODdhMSAxIDAgMCAwIDEuNTE2LjI5NEwyMS4xODMgNS41YS41LjUgMCAwIDEgLjc5OC41MTlsLTIuODM0IDEwLjI0NmExIDEgMCAwIDEtLjk1Ni43MzRINS44MWExIDEgMCAwIDEtLjk1Ny0uNzM0TDIuMDIgNi4wMmEuNS41IDAgMCAxIC43OTgtLjUxOWw0LjI3NiAzLjY2NGExIDEgMCAwIDAgMS41MTYtLjI5NHoiIC8+CiAgPHBhdGggZD0iTTUgMjFoMTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/crown\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Crown = createLucideIcon('Crown', [\n  [\n    'path',\n    {\n      d: 'M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z',\n      key: '1vdc57',\n    },\n  ],\n  ['path', { d: 'M5 21h14', key: '11awu3' }],\n]);\n\nexport default Crown;\n","/**\n * Beta Label Component\n * A small, reusable beta indicator for specific features or sections\n */\n\nimport React from 'react';\nimport { Badge } from '@/components/ui/badge';\nimport { cn } from '@/lib/utils';\n\ninterface BetaLabelProps {\n  className?: string;\n  variant?: 'default' | 'secondary' | 'outline' | 'destructive';\n  size?: 'sm' | 'default' | 'lg';\n  text?: string;\n  pulse?: boolean;\n}\n\nexport function BetaLabel({ \n  className,\n  variant = 'default',\n  size = 'sm',\n  text = 'BETA',\n  pulse = false\n}: BetaLabelProps) {\n  return (\n    <Badge \n      variant={variant}\n      className={cn(\n        'font-semibold tracking-wide',\n        size === 'sm' && 'text-xs px-1.5 py-0.5',\n        size === 'default' && 'text-sm px-2 py-1',\n        size === 'lg' && 'text-base px-3 py-1.5',\n        pulse && 'animate-pulse',\n        variant === 'default' && 'bg-blue-600/20 text-blue-300 border-blue-600/40 hover:bg-blue-600/30',\n        variant === 'secondary' && 'bg-yellow-600/20 text-yellow-300 border-yellow-600/40 hover:bg-yellow-600/30',\n        variant === 'outline' && 'bg-green-600/20 text-green-300 border-green-600/40 hover:bg-green-600/30',\n        variant === 'destructive' && 'bg-red-600/20 text-red-300 border-red-600/40 hover:bg-red-600/30',\n        className\n      )}\n    >\n      {text}\n    </Badge>\n  );\n}\n\nexport default BetaLabel;\n","import React, { useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport {\r\n  LayoutDashboard,\r\n  Lightbulb,\r\n  Code,\r\n  Users,\r\n  Search,\r\n  Brain,\r\n  MessageSquare,\r\n  X,\r\n  FileText,\r\n  Menu,\r\n  Target,\r\n  Shield\r\n} from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\";\r\nimport { useAdmin } from \"@/contexts/AdminContext\";\r\nimport { BetaLabel } from \"@/components/ui/beta-label\";\r\n\r\ninterface SidebarItemProps {\r\n  icon: React.ElementType;\r\n  label: string;\r\n  path: string;\r\n  isActive: boolean;\r\n  onClick?: () => void;\r\n  isBeta?: boolean;\r\n  betaVariant?: 'default' | 'secondary' | 'outline' | 'destructive';\r\n}\r\n\r\nconst SidebarItem = ({ icon: Icon, label, path, isActive, onClick, isBeta, betaVariant = 'default' }: SidebarItemProps) => {\r\n  return (\r\n    <Link\r\n      to={path}\r\n      onClick={onClick}\r\n      className={`flex items-center gap-3 w-full px-3 py-2 rounded-md text-sm transition-all duration-200 ${\r\n        isActive\r\n          ? \"bg-green-600/20 text-green-400 border-l-2 border-green-400\"\r\n          : \"text-gray-400 hover:bg-black/30 hover:text-white hover:border-l-2 hover:border-green-500/50\"\r\n      }`}\r\n    >\r\n      <Icon className=\"h-5 w-5\" />\r\n      <span className=\"flex-1\">{label}</span>\r\n      {isBeta && (\r\n        <BetaLabel\r\n          variant={betaVariant}\r\n          size=\"sm\"\r\n          className=\"ml-auto\"\r\n        />\r\n      )}\r\n    </Link>\r\n  );\r\n};\r\n\r\ninterface WorkspaceSidebarProps {\r\n  isOpen?: boolean;\r\n  setIsOpen?: (open: boolean) => void;\r\n}\r\n\r\nconst WorkspaceSidebar = ({ isOpen = false, setIsOpen = () => {} }: WorkspaceSidebarProps) => {\r\n  const location = useLocation();\r\n  const currentPath = location.pathname;\r\n\r\n  const { isAdmin } = useAdmin();\r\n\r\n  const handleLinkClick = () => {\r\n    if (setIsOpen) {\r\n      setIsOpen(false);\r\n    }\r\n  };\r\n\r\n  // Close sidebar when route changes\r\n  useEffect(() => {\r\n    if (setIsOpen) {\r\n      setIsOpen(false);\r\n    }\r\n  }, [location.pathname, setIsOpen]);\r\n\r\n  const modules = [\r\n    { id: \"dashboard\", name: \"Dashboard\", icon: LayoutDashboard, path: \"/workspace\" },\r\n    { id: \"idea-vault\", name: \"Idea Vault\", icon: Lightbulb, path: \"/workspace/idea-vault\" },\r\n    { id: \"ideaforge\", name: \"IdeaForge\", icon: Target, path: \"/workspace/ideaforge\", isBeta: true, betaVariant: 'secondary' as const },\r\n    { id: \"mvp-studio\", name: \"MVP Studio\", icon: Code, path: \"/workspace/mvp-studio\" },\r\n    { id: \"ai-tools\", name: \"AI Tools Hub\", icon: Brain, path: \"/workspace/ai-tools\" },\r\n    { id: \"docs-decks\", name: \"Docs & Decks\", icon: FileText, path: \"/workspace/docs-decks\" },\r\n    { id: \"teamspace\", name: \"TeamSpace\", icon: Users, path: \"/workspace/teamspace\", isBeta: true, betaVariant: 'secondary' as const },\r\n    { id: \"investor-radar\", name: \"Investor Radar\", icon: Search, path: \"/workspace/investor-radar\", isBeta: true, betaVariant: 'secondary' as const },\r\n  ];\r\n\r\n  const sidebarContent = (\r\n    <div className=\"h-full flex flex-col workspace-sidebar\">\r\n      <div className=\"p-4 flex items-center border-b border-white/10\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"rounded-full bg-gradient-to-br from-green-500 to-green-600 w-8 h-8 flex items-center justify-center\">\r\n            <span className=\"font-bold text-white text-sm\">SW</span>\r\n          </div>\r\n          <div className=\"flex flex-col gap-1\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"font-bold text-lg text-white\">StartWise</span>\r\n              <Badge\r\n                variant=\"secondary\"\r\n                className=\"bg-blue-600/20 text-blue-300 border-blue-600/40 text-xs font-semibold\"\r\n              >\r\n                BETA\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"px-2 py-4 flex-1 overflow-y-auto\">\r\n        <nav className=\"space-y-1\">\r\n          {modules.map((module) => (\r\n            <SidebarItem\r\n              key={module.id}\r\n              icon={module.icon}\r\n              label={module.name}\r\n              path={module.path}\r\n              onClick={handleLinkClick}\r\n              isBeta={module.isBeta}\r\n              betaVariant={module.betaVariant}\r\n              isActive={\r\n                module.path === \"/workspace\"\r\n                  ? currentPath === \"/workspace\"\r\n                  : currentPath.startsWith(module.path)\r\n              }\r\n            />\r\n          ))}\r\n\r\n          {/* Admin Panel Link - Only visible to admin users */}\r\n          {isAdmin && (\r\n            <>\r\n              <div className=\"my-4 border-t border-white/10\"></div>\r\n              <SidebarItem\r\n                icon={Shield}\r\n                label=\"Admin Panel\"\r\n                path=\"/admin\"\r\n                onClick={handleLinkClick}\r\n                isActive={currentPath.startsWith(\"/admin\")}\r\n              />\r\n            </>\r\n          )}\r\n        </nav>\r\n      </div>\r\n      <div className=\"p-4 border-t border-white/10\">\r\n        <div className=\"workspace-card p-4\">\r\n          <div className=\"flex items-center gap-2 mb-3\">\r\n            <div className=\"p-1.5 bg-green-500/20 rounded\">\r\n              <MessageSquare className=\"h-4 w-4 text-green-400\" />\r\n            </div>\r\n            <h4 className=\"text-sm font-medium text-white\">Founder's GPT</h4>\r\n          </div>\r\n          <p className=\"text-xs text-gray-400 mb-3\">\r\n            Get advice on your startup journey from your AI co-founder\r\n          </p>\r\n          <button className=\"w-full bg-black/50 hover:bg-black/70 px-3 py-2 rounded text-xs text-left text-gray-300 hover:text-white transition-colors border border-white/10\">\r\n            Ask Founder's GPT...\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Use Sheet for both mobile and desktop for consistent off-canvas behavior\r\n  return (\r\n    <Sheet open={isOpen} onOpenChange={setIsOpen || (() => {})}>\r\n      <SheetContent\r\n        side=\"left\"\r\n        className=\"w-64 bg-black/95 backdrop-blur-xl border-r border-white/10 p-0 text-white\"\r\n      >\r\n        {sidebarContent}\r\n      </SheetContent>\r\n    </Sheet>\r\n  );\r\n};\r\n\r\n// Hamburger Menu Button Component\r\ninterface SidebarToggleProps {\r\n  onClick: () => void;\r\n  className?: string;\r\n}\r\n\r\nexport const SidebarToggle = ({ onClick, className }: SidebarToggleProps) => {\r\n  return (\r\n    <Button\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      className={`text-gray-400 hover:text-white hover:bg-black/30 ${className}`}\r\n      onClick={onClick}\r\n    >\r\n      <Menu className=\"h-5 w-5\" />\r\n      <span className=\"sr-only\">Toggle Sidebar</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default WorkspaceSidebar;\r\n"],"names":["LayoutDashboard","createLucideIcon","width","height","x","y","rx","key","useSubscription","user","useAuth","toast","useToast","subscription","setSubscription","useState","usage","setUsage","currentPlan","setCurrentPlan","loading","setLoading","error","setError","isOnTrial","setIsOnTrial","trialDaysRemaining","setTrialDaysRemaining","fetchSubscriptionData","useCallback","async","id","subscriptionData","usageData","Promise","all","SubscriptionService","getUserSubscription","getUserUsage","plan","getPlan","planId","freePlan","trialStatus","daysRemaining","getTrialDaysRemaining","err","console","useEffect","canPerformAction","action","allowed","reason","trackUsage","amount","arguments","length","undefined","success","updatedUsage","startFreeTrial","title","description","variant","cancelSubscription","immediate","isFreeTier","tier","isProTier","isEnterpriseTier","hasActiveSubscription","status","refresh","Menu","x1","x2","y1","y2","SUBSCRIPTION_PLANS","name","price","currency","interval","features","limits","ideas","prompts","aiCalls","teamMembers","storage","popular","userId","data","supabase","from","select","eq","single","code","this","checkFreeTierLimits","find","p","upgradeRequired","trialEndsAt","Date","checkPlanLimits","ideasCreated","concat","promptsGenerated","aiCallsMade","rpc","user_id","action_type","increment_amount","updateSubscription","now","periodEnd","setMonth","getMonth","setFullYear","getFullYear","plan_id","current_period_start","toISOString","current_period_end","cancel_at_period_end","updated_at","upsert","onConflict","trialEnd","setDate","getDate","trial_ends_at","updateData","update","getAllPlans","getPlansByTier","filter","diffTime","getTime","diffDays","Math","ceil","max","Crown","d","BetaLabel","_ref","className","size","text","pulse","_jsx","Badge","cn","children","SidebarItem","icon","Icon","label","path","isActive","onClick","isBeta","betaVariant","_jsxs","Link","to","SidebarToggle","_ref3","Button","_ref2","isOpen","setIsOpen","location","useLocation","currentPath","pathname","isAdmin","useAdmin","handleLinkClick","modules","Lightbulb","Target","Code","Brain","FileText","Users","Search","sidebarContent","map","module","startsWith","_Fragment","Shield","MessageSquare","Sheet","open","onOpenChange","SheetContent","side"],"sourceRoot":""}