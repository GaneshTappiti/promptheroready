"use strict";(self.webpackChunkpromptheroready=self.webpackChunkpromptheroready||[]).push([[617],{20617:(e,s,t)=>{t.r(s),t.d(s,{default:()=>k});var l=t(89379),a=t(9950),i=t(28429),r=t(38493),c=t(94208),n=t(21273),o=t(91367),d=t(68108),h=t(19900),m=t(90983),x=t(77737),b=t(29975),u=t(51654),j=t(7838),g=t(30621),v=t(40978),f=t(86667),N=t(52376),w=t(44414);const p=e=>{var s;let{slide:t,theme:a}=e;return(0,w.jsxs)("div",{className:"w-full aspect-video p-8 flex flex-col",style:{backgroundColor:(null===(s=t.background)||void 0===s?void 0:s.value)||a.colors.surface,fontFamily:a.fonts.body},children:[(0,w.jsx)("h1",{className:"text-3xl font-bold mb-6",style:{color:a.colors.text,fontFamily:a.fonts.heading},children:t.title}),(0,w.jsx)("div",{className:"flex-1",children:t.elements.map(e=>(0,w.jsxs)("div",{className:"mb-4",style:(0,l.A)({position:"relative",left:"".concat(e.position.x,"%"),top:"".concat(e.position.y,"%"),width:"".concat(e.position.width,"%"),height:"".concat(e.position.height,"%")},e.style),children:["text"===e.type&&(0,w.jsx)("div",{className:"prose",style:{color:a.colors.text},dangerouslySetInnerHTML:{__html:e.content}}),"list"===e.type&&(0,w.jsx)("ul",{className:"list-disc list-inside space-y-2",style:{color:a.colors.text},children:e.content.split("\n").map((e,s)=>(0,w.jsx)("li",{children:e},s))}),"quote"===e.type&&(0,w.jsx)("blockquote",{className:"border-l-4 pl-4 italic text-lg",style:{borderColor:a.colors.primary,color:a.colors.textSecondary},children:e.content})]},e.id))})]})},k=e=>{let{presentationId:s,presentation:t,mode:l="view"}=e;const{id:k}=(0,i.g)(),y=(0,i.Zp)(),{toast:A}=(0,n.dj)(),{user:C}=(0,o.A)(),[E,S]=(0,a.useState)(t||null),[$,F]=(0,a.useState)(0),[z,D]=(0,a.useState)("present"===l),[L,M]=(0,a.useState)(!1),[P,q]=(0,a.useState)(!t),[T,B]=(0,a.useState)(null),I=s||k;(0,a.useEffect)(()=>{!E&&I&&C&&_()},[I,C]);const _=async()=>{if(I&&C)try{q(!0);const{data:e,error:s}=await f.m.getPresentation(I,C.id);if(s||!e)throw new Error((null===s||void 0===s?void 0:s.message)||"Presentation not found");S(e)}catch(T){console.error("Error loading presentation:",T),B(T.message),A({title:"Error",description:"Failed to load presentation.",variant:"destructive"})}finally{q(!1)}};(0,a.useEffect)(()=>{const e=e=>{if(E)switch(e.key){case"ArrowRight":case" ":e.preventDefault(),G();break;case"ArrowLeft":e.preventDefault(),H();break;case"Escape":z&&D(!1);break;case"f":case"F11":e.preventDefault(),O()}};if(z)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[E,$,z]);const G=(0,a.useCallback)(()=>{E&&F(e=>Math.min(e+1,E.slides.length-1))},[E]),H=(0,a.useCallback)(()=>{F(e=>Math.max(e-1,0))},[]),O=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()};if(P)return(0,w.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-green-950 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400 mx-auto mb-4"}),(0,w.jsx)("p",{className:"text-white",children:"Loading presentation..."})]})});if(T||!E)return(0,w.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-green-950 flex items-center justify-center",children:(0,w.jsxs)("div",{className:"text-center",children:[(0,w.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Presentation Not Found"}),(0,w.jsx)("p",{className:"text-gray-400 mb-6",children:T||"The requested presentation could not be loaded."}),(0,w.jsxs)(r.$,{onClick:()=>y("/workspace/docs-decks"),children:[(0,w.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Back to Documents"]})]})});const R=E.slides[$],Z=(0,N.O4)(E.theme,E.customTheme),J=($+1)/E.slides.length*100;return z?(0,w.jsxs)("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:Z.colors.background,color:Z.colors.text,fontFamily:Z.fonts.body},children:[(0,w.jsxs)("div",{className:"absolute top-4 left-4 right-4 z-10 flex justify-between items-center",children:[(0,w.jsxs)(r.$,{variant:"ghost",size:"sm",onClick:()=>D(!1),className:"bg-black/20 hover:bg-black/40 text-white",children:[(0,w.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Exit"]}),(0,w.jsx)("div",{className:"flex items-center gap-2 bg-black/20 rounded-lg px-3 py-1",children:(0,w.jsxs)("span",{className:"text-sm text-white",children:[$+1," / ",E.slides.length]})})]}),(0,w.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,w.jsx)("div",{className:"w-full max-w-6xl",children:(0,w.jsx)(p,{slide:R,theme:Z})})}),(0,w.jsxs)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-2",children:[(0,w.jsx)(r.$,{variant:"ghost",size:"sm",onClick:H,disabled:0===$,className:"bg-black/20 hover:bg-black/40 text-white",children:(0,w.jsx)(d.A,{className:"h-4 w-4"})}),(0,w.jsx)(r.$,{variant:"ghost",size:"sm",onClick:G,disabled:$===E.slides.length-1,className:"bg-black/20 hover:bg-black/40 text-white",children:(0,w.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,w.jsx)("div",{className:"absolute bottom-0 left-0 right-0",children:(0,w.jsx)(c.k,{value:J,className:"h-1 rounded-none"})})]}):(0,w.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-green-950",children:[(0,w.jsx)("div",{className:"sticky top-0 z-10 bg-black/80 backdrop-blur-xl border-b border-white/10",children:(0,w.jsx)("div",{className:"px-6 py-4",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"flex items-center gap-4",children:[(0,w.jsxs)(r.$,{variant:"ghost",onClick:()=>y("/workspace/docs-decks"),className:"text-gray-400 hover:text-white",children:[(0,w.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h1",{className:"text-xl font-bold text-white",children:E.title}),(0,w.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,w.jsx)(x.A,{className:"h-3 w-3"}),E.estimatedDuration||15," min",(0,w.jsx)(b.A,{className:"h-3 w-3 ml-2"}),E.targetAudience||"General"]})]})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2",children:[(0,w.jsxs)(r.$,{variant:"outline",onClick:()=>M(!L),className:"border-white/20 text-white hover:bg-white/10",children:[L?(0,w.jsx)(u.A,{className:"h-4 w-4"}):(0,w.jsx)(j.A,{className:"h-4 w-4"}),"Notes"]}),(0,w.jsxs)(r.$,{onClick:()=>D(!0),className:"bg-green-600 hover:bg-green-700",children:[(0,w.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Present"]}),(0,w.jsx)(r.$,{variant:"outline",onClick:()=>{I&&y("/workspace/docs-decks/presentation/".concat(I,"/edit"))},className:"border-white/20 text-white hover:bg-white/10",children:(0,w.jsx)(v.A,{className:"h-4 w-4"})})]})]})})}),(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsxs)("div",{className:"w-64 bg-black/40 border-r border-white/10 p-4",children:[(0,w.jsx)("h3",{className:"text-white font-medium mb-4",children:"Slides"}),(0,w.jsx)("div",{className:"space-y-2",children:E.slides.map((e,s)=>(0,w.jsxs)("button",{onClick:()=>(e=>{E&&F(Math.max(0,Math.min(e,E.slides.length-1)))})(s),className:"w-full p-2 rounded-lg text-left transition-colors ".concat(s===$?"bg-green-600 text-white":"bg-white/5 text-gray-300 hover:bg-white/10"),children:[(0,w.jsxs)("div",{className:"text-xs font-medium mb-1",children:["Slide ",s+1]}),(0,w.jsx)("div",{className:"text-xs opacity-75 truncate",children:e.title})]},e.id))})]}),(0,w.jsxs)("div",{className:"flex-1 p-6",children:[(0,w.jsx)("div",{className:"bg-white rounded-lg shadow-xl",children:(0,w.jsx)(p,{slide:R,theme:Z})}),(0,w.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,w.jsxs)(r.$,{variant:"outline",onClick:H,disabled:0===$,className:"border-white/20 text-white hover:bg-white/10",children:[(0,w.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Previous"]}),(0,w.jsxs)("div",{className:"text-white text-sm",children:[$+1," of ",E.slides.length]}),(0,w.jsxs)(r.$,{variant:"outline",onClick:G,disabled:$===E.slides.length-1,className:"border-white/20 text-white hover:bg-white/10",children:["Next",(0,w.jsx)(m.A,{className:"h-4 w-4 ml-2"})]})]})]}),L&&(0,w.jsxs)("div",{className:"w-80 bg-black/40 border-l border-white/10 p-4",children:[(0,w.jsx)("h3",{className:"text-white font-medium mb-4",children:"Speaker Notes"}),(0,w.jsx)("div",{className:"text-gray-300 text-sm",children:R.notes||"No notes for this slide."})]})]})]})}}}]);