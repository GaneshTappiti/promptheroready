{"version":3,"file":"static/js/8927.16c08a50.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/infinity.ts","../node_modules/lucide-react/src/icons/download.ts","../node_modules/lucide-react/src/icons/moon.ts","components/ui/scroll-area.tsx","../node_modules/lucide-react/src/icons/link.ts","../node_modules/lucide-react/src/icons/sun.ts","lib/supabase-connection-helpers.ts","../node_modules/lucide-react/src/icons/wand-sparkles.ts","../node_modules/lucide-react/src/icons/eye.ts","stores/ideaStore.ts","../node_modules/lucide-react/src/icons/globe.ts","../node_modules/lucide-react/src/icons/play.ts","../node_modules/lucide-react/src/icons/crown.ts","../node_modules/lucide-react/src/icons/dollar-sign.ts","../node_modules/lucide-react/src/icons/circle-check.ts","../node_modules/lucide-react/src/icons/map.ts","../node_modules/lucide-react/src/icons/building.ts","../node_modules/lucide-react/src/icons/chrome.ts","../node_modules/lucide-react/src/icons/smile.ts","components/mvp-studio/PagePromptGenerator.tsx","components/mvp-studio/ExportablePromptsSystem.tsx","components/mvp-studio/MVPWizard.tsx","../node_modules/@radix-ui/react-collapsible/src/collapsible.tsx","components/ui/collapsible.tsx","components/ui/prompt-viewer.tsx","components/mvp-studio/MVPResultsDisplay.tsx","components/mvp-studio/IdeaPromptHistory.tsx","pages/MVPStudio.tsx","components/UpgradePrompt.tsx","components/ui/ai-response.tsx","../node_modules/lucide-react/src/icons/layers.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Infinity\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTJjLTItMi42Ny00LTQtNi00YTQgNCAwIDEgMCAwIDhjMiAwIDQtMS4zMyA2LTRabTAgMGMyIDIuNjcgNCA0IDYgNGE0IDQgMCAwIDAgMC04Yy0yIDAtNCAxLjMzLTYgNFoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/infinity\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Infinity = createLucideIcon('Infinity', [\n  [\n    'path',\n    {\n      d: 'M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z',\n      key: '1z0uae',\n    },\n  ],\n]);\n\nexport default Infinity;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSI3IDEwIDEyIDE1IDE3IDEwIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTUiIHkyPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('Download', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '7 10 12 15 17 10', key: '2ggqvy' }],\n  ['line', { x1: '12', x2: '12', y1: '15', y2: '3', key: '1vk2je' }],\n]);\n\nexport default Download;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Moon\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM2E2IDYgMCAwIDAgOSA5IDkgOSAwIDEgMS05LTlaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/moon\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Moon = createLucideIcon('Moon', [\n  ['path', { d: 'M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z', key: 'a7tn18' }],\n]);\n\nexport default Moon;\n","import * as React from \"react\"\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <ScrollAreaPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative overflow-hidden\", className)}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\r\n      {children}\r\n    </ScrollAreaPrimitive.Viewport>\r\n    <ScrollBar />\r\n    <ScrollAreaPrimitive.Corner />\r\n  </ScrollAreaPrimitive.Root>\r\n))\r\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\r\n\r\nconst ScrollBar = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\r\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n    ref={ref}\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"flex touch-none select-none transition-colors\",\r\n      orientation === \"vertical\" &&\r\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\r\n      orientation === \"horizontal\" &&\r\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\r\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n))\r\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\r\n\r\nexport { ScrollArea, ScrollBar }\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Link\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTNhNSA1IDAgMCAwIDcuNTQuNTRsMy0zYTUgNSAwIDAgMC03LjA3LTcuMDdsLTEuNzIgMS43MSIgLz4KICA8cGF0aCBkPSJNMTQgMTFhNSA1IDAgMCAwLTcuNTQtLjU0bC0zIDNhNSA1IDAgMCAwIDcuMDcgNy4wN2wxLjcxLTEuNzEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Link = createLucideIcon('Link', [\n  ['path', { d: 'M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71', key: '1cjeqo' }],\n  ['path', { d: 'M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71', key: '19qd67' }],\n]);\n\nexport default Link;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Sun\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI0IiAvPgogIDxwYXRoIGQ9Ik0xMiAydjIiIC8+CiAgPHBhdGggZD0iTTEyIDIwdjIiIC8+CiAgPHBhdGggZD0ibTQuOTMgNC45MyAxLjQxIDEuNDEiIC8+CiAgPHBhdGggZD0ibTE3LjY2IDE3LjY2IDEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJNMiAxMmgyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxMmgyIiAvPgogIDxwYXRoIGQ9Im02LjM0IDE3LjY2LTEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJtMTkuMDcgNC45My0xLjQxIDEuNDEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/sun\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sun = createLucideIcon('Sun', [\n  ['circle', { cx: '12', cy: '12', r: '4', key: '4exip2' }],\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'M12 20v2', key: '1lh1kg' }],\n  ['path', { d: 'm4.93 4.93 1.41 1.41', key: '149t6j' }],\n  ['path', { d: 'm17.66 17.66 1.41 1.41', key: 'ptbguv' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n  ['path', { d: 'm6.34 17.66-1.41 1.41', key: '1m8zz5' }],\n  ['path', { d: 'm19.07 4.93-1.41 1.41', key: '1shlcs' }],\n]);\n\nexport default Sun;\n","// =====================================================\r\n// SUPABASE CONNECTION HELPERS\r\n// =====================================================\r\n// This file provides connection helpers for different modules\r\n// Re-exports from database-helpers for backward compatibility\r\n\r\nimport {\r\n  workspaceHelpers,\r\n  ideaVaultHelpers,\r\n  ideaForgeHelpers,\r\n  mvpStudioHelpers,\r\n  teamSpaceHelpers,\r\n  docsDecksHelpers,\r\n  onboardingHelpers,\r\n  profileHelpers,\r\n  adminHelpers,\r\n  subscriptionHelpers,\r\n  blueprintZoneHelpers as blueprintZoneHelpersOriginal,\r\n  allHelpers\r\n} from './database-helpers';\r\n\r\n// Re-export all helpers for backward compatibility\r\nexport const blueprintZoneHelpers = blueprintZoneHelpersOriginal;\r\nexport { docsDecksHelpers };\r\nexport { ideaForgeHelpers };\r\nexport const investorRadarHelpers = {\r\n  // Investor-specific helpers\r\n  async getInvestors(userId: string, filters?: unknown) {\r\n    return allHelpers.investorRadar.getInvestors(userId, filters);\r\n  },\r\n  async createInvestor(data: unknown) {\r\n    return allHelpers.investorRadar.createInvestor(data as any);\r\n  },\r\n  async updateInvestor(id: string, data: unknown) {\r\n    return allHelpers.investorRadar.updateInvestor(id, data);\r\n  },\r\n  async deleteInvestor(id: string) {\r\n    return allHelpers.investorRadar.deleteInvestor(id);\r\n  },\r\n  async getFundingRounds(userId: string) {\r\n    return allHelpers.investorRadar.getFundingRounds(userId);\r\n  }\r\n};\r\n\r\nexport { mvpStudioHelpers };\r\nexport const pitchPerfectHelpers = {\r\n  // Pitch Perfect specific helpers\r\n  async getPitchScripts(userId: string, scriptType?: string) {\r\n    return allHelpers.pitchPerfect.getPitchScripts(userId, scriptType);\r\n  },\r\n  async createPitchScript(data: unknown) {\r\n    return allHelpers.pitchPerfect.createPitchScript(data as any);\r\n  },\r\n  async getPitchDecks(userId: string, deckType?: string) {\r\n    return allHelpers.pitchPerfect.getPitchDecks(userId, deckType);\r\n  },\r\n  async createPitchDeck(data: unknown) {\r\n    return allHelpers.pitchPerfect.createPitchDeck(data as any);\r\n  },\r\n  async getPitchVideos(userId: string, videoType?: string) {\r\n    return allHelpers.pitchPerfect.getPitchVideos(userId, videoType);\r\n  },\r\n  async createPitchVideo(data: unknown) {\r\n    return allHelpers.pitchPerfect.createPitchVideo(data as any);\r\n  }\r\n};\r\n\r\nexport const taskPlannerHelpers = {\r\n  // Task Planner specific helpers\r\n  async getTasks(userId: string, filters?: { status?: string; priority?: string; projectId?: string }) {\r\n    return allHelpers.taskPlanner.getTasks(userId, filters);\r\n  },\r\n  async createTask(data: unknown) {\r\n    return allHelpers.taskPlanner.createTask(data as any);\r\n  },\r\n  async updateTask(id: string, data: unknown) {\r\n    return allHelpers.taskPlanner.updateTask(id, data);\r\n  },\r\n  async deleteTask(id: string) {\r\n    return allHelpers.taskPlanner.deleteTask(id);\r\n  },\r\n  async getProjects(userId: string) {\r\n    return allHelpers.taskPlanner.getProjects(userId);\r\n  },\r\n  async createProject(data: unknown) {\r\n    return allHelpers.taskPlanner.createProject(data as any);\r\n  }\r\n};\r\n\r\n// Export all helpers as a single object for convenience\r\nexport const connectionHelpers = {\r\n  blueprintZone: blueprintZoneHelpers,\r\n  docsDecks: docsDecksHelpers,\r\n  ideaForge: ideaForgeHelpers,\r\n  investorRadar: investorRadarHelpers,\r\n  mvpStudio: mvpStudioHelpers,\r\n  pitchPerfect: pitchPerfectHelpers,\r\n  taskPlanner: taskPlannerHelpers,\r\n  workspace: workspaceHelpers,\r\n  ideaVault: ideaVaultHelpers,\r\n  teamSpace: teamSpaceHelpers,\r\n  onboarding: onboardingHelpers,\r\n  profile: profileHelpers,\r\n  admin: adminHelpers,\r\n  subscription: subscriptionHelpers\r\n};\r\n\r\nexport default connectionHelpers;\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name WandSparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNjQgMy42NC0xLjI4LTEuMjhhMS4yMSAxLjIxIDAgMCAwLTEuNzIgMEwyLjM2IDE4LjY0YTEuMjEgMS4yMSAwIDAgMCAwIDEuNzJsMS4yOCAxLjI4YTEuMiAxLjIgMCAwIDAgMS43MiAwTDIxLjY0IDUuMzZhMS4yIDEuMiAwIDAgMCAwLTEuNzIiIC8+CiAgPHBhdGggZD0ibTE0IDcgMyAzIiAvPgogIDxwYXRoIGQ9Ik01IDZ2NCIgLz4KICA8cGF0aCBkPSJNMTkgMTR2NCIgLz4KICA8cGF0aCBkPSJNMTAgMnYyIiAvPgogIDxwYXRoIGQ9Ik03IDhIMyIgLz4KICA8cGF0aCBkPSJNMjEgMTZoLTQiIC8+CiAgPHBhdGggZD0iTTExIDNIOSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/wand-sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst WandSparkles = createLucideIcon('WandSparkles', [\n  [\n    'path',\n    {\n      d: 'm21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72',\n      key: 'ul74o6',\n    },\n  ],\n  ['path', { d: 'm14 7 3 3', key: '1r5n42' }],\n  ['path', { d: 'M5 6v4', key: 'ilb8ba' }],\n  ['path', { d: 'M19 14v4', key: 'blhpug' }],\n  ['path', { d: 'M10 2v2', key: '7u0qdc' }],\n  ['path', { d: 'M7 8H3', key: 'zfb6yr' }],\n  ['path', { d: 'M21 16h-4', key: '1cnmox' }],\n  ['path', { d: 'M11 3H9', key: '1obp7u' }],\n]);\n\nexport default WandSparkles;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('Eye', [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Eye;\n","import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\n\r\n// Types for our idea and prompt system\r\nexport interface ActiveIdea {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  status: 'draft' | 'validated' | 'exploring' | 'archived';\r\n  category?: string;\r\n  tags: string[];\r\n  validation_score?: number;\r\n  market_opportunity?: string;\r\n  risk_assessment?: string;\r\n  monetization_strategy?: string;\r\n  key_features?: string[];\r\n  next_steps?: string[];\r\n  competitor_analysis?: string;\r\n  target_market?: string;\r\n  problem_statement?: string;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nexport interface PromptData {\r\n  id: string;\r\n  prompt: string;\r\n  response: string;\r\n  timestamp: string;\r\n  section: string;\r\n  // Additional metadata for MVP Studio organization\r\n  ideaId?: string;\r\n  ideaTitle?: string;\r\n  pageType?: string;\r\n  appType?: string;\r\n  tools?: string[];\r\n}\r\n\r\nexport interface IdeaForgePrompts {\r\n  targetUser?: PromptData;\r\n  features?: PromptData;\r\n  appStructure?: PromptData;\r\n  uiDesign?: PromptData;\r\n  pageMapping?: PromptData;\r\n}\r\n\r\nexport interface MVPStudioPrompts {\r\n  toolRecommendation?: PromptData;\r\n  homepage?: PromptData;\r\n  onboarding?: PromptData;\r\n  dashboard?: PromptData;\r\n  settings?: PromptData;\r\n  mapping?: PromptData;\r\n  [key: string]: PromptData | undefined;\r\n}\r\n\r\nexport interface PromptHistory {\r\n  ideaforge: IdeaForgePrompts;\r\n  mvpStudio: MVPStudioPrompts;\r\n}\r\n\r\nexport interface UserSettings {\r\n  aiProvider: 'openai' | 'claude' | 'gemini' | 'deepseek';\r\n  apiKey?: string;\r\n  preferredTools: string[];\r\n  budget: 'free' | 'low' | 'medium' | 'high';\r\n  skillLevel: 'beginner' | 'intermediate' | 'advanced';\r\n  appType: 'web' | 'mobile' | 'saas' | 'extension';\r\n  // Subscription settings\r\n  subscriptionTier: 'free' | 'pro' | 'enterprise';\r\n  subscriptionStatus: 'active' | 'inactive' | 'trial' | 'expired';\r\n  trialEndsAt?: string;\r\n  subscriptionEndsAt?: string;\r\n}\r\n\r\ninterface IdeaStore {\r\n  // Active idea state\r\n  activeIdea: ActiveIdea | null;\r\n  setActiveIdea: (idea: ActiveIdea | null) => void;\r\n  updateActiveIdea: (updates: Partial<ActiveIdea>) => void;\r\n  \r\n  // Prompt history\r\n  promptHistory: PromptHistory;\r\n  addPrompt: (section: 'ideaforge' | 'mvpStudio', key: string, prompt: PromptData) => void;\r\n  getPrompt: (section: 'ideaforge' | 'mvpStudio', key: string) => PromptData | undefined;\r\n  clearPromptHistory: () => void;\r\n  \r\n  // User settings\r\n  userSettings: UserSettings;\r\n  updateUserSettings: (settings: Partial<UserSettings>) => void;\r\n  \r\n  // Navigation state\r\n  currentStep: 'workshop' | 'vault' | 'ideaforge' | 'mvpstudio';\r\n  setCurrentStep: (step: 'workshop' | 'vault' | 'ideaforge' | 'mvpstudio') => void;\r\n  \r\n  // Free tier restrictions\r\n  hasActiveIdea: boolean;\r\n  setHasActiveIdea: (hasIdea: boolean) => void;\r\n  canCreateNewIdea: () => boolean;\r\n  canGeneratePrompts: () => boolean;\r\n  canAccessFeature: (feature: 'workspace' | 'idea-vault' | 'ideaforge' | 'mvp-studio' | 'prompts' | 'export') => boolean;\r\n  getPromptLimit: () => number;\r\n  getRemainingPrompts: () => number;\r\n  \r\n  // Utility functions\r\n  resetAll: () => void;\r\n  exportPrompts: () => string;\r\n  getPromptsByIdea: (ideaId: string, section?: 'ideaforge' | 'mvpStudio') => PromptData[];\r\n  exportIdeaPrompts: (ideaId: string) => string;\r\n}\r\n\r\nconst initialPromptHistory: PromptHistory = {\r\n  ideaforge: {},\r\n  mvpStudio: {}\r\n};\r\n\r\nconst initialUserSettings: UserSettings = {\r\n  aiProvider: 'gemini',\r\n  preferredTools: [],\r\n  budget: 'free',\r\n  skillLevel: 'beginner',\r\n  appType: 'web',\r\n  subscriptionTier: 'free',\r\n  subscriptionStatus: 'active'\r\n};\r\n\r\nexport const useIdeaStore = create<IdeaStore>()(\r\n  persist(\r\n    (set, get) => ({\r\n      // Active idea state\r\n      activeIdea: null,\r\n      setActiveIdea: (idea) => set({ activeIdea: idea }),\r\n      updateActiveIdea: (updates) => set((state) => ({\r\n        activeIdea: state.activeIdea ? { ...state.activeIdea, ...updates } : null\r\n      })),\r\n      \r\n      // Prompt history\r\n      promptHistory: initialPromptHistory,\r\n      addPrompt: (section, key, prompt) => set((state) => ({\r\n        promptHistory: {\r\n          ...state.promptHistory,\r\n          [section]: {\r\n            ...state.promptHistory[section],\r\n            [key]: prompt\r\n          }\r\n        }\r\n      })),\r\n      getPrompt: (section, key) => {\r\n        const state = get();\r\n        return state.promptHistory[section][key];\r\n      },\r\n      clearPromptHistory: () => set({ promptHistory: initialPromptHistory }),\r\n      \r\n      // User settings\r\n      userSettings: initialUserSettings,\r\n      updateUserSettings: (settings) => set((state) => ({\r\n        userSettings: { ...state.userSettings, ...settings }\r\n      })),\r\n      \r\n      // Navigation state\r\n      currentStep: 'workshop',\r\n      setCurrentStep: (step) => set({ currentStep: step }),\r\n      \r\n      // Free tier restrictions\r\n      hasActiveIdea: false,\r\n      setHasActiveIdea: (hasIdea) => set({ hasActiveIdea: hasIdea }),\r\n\r\n      canCreateNewIdea: () => {\r\n        const state = get();\r\n        if (state.userSettings.subscriptionTier === 'pro' || state.userSettings.subscriptionTier === 'enterprise') {\r\n          return true;\r\n        }\r\n        // Free tier: only 1 active idea at a time\r\n        return !state.hasActiveIdea;\r\n      },\r\n\r\n      canGeneratePrompts: () => {\r\n        const state = get();\r\n        if (state.userSettings.subscriptionTier === 'pro' || state.userSettings.subscriptionTier === 'enterprise') {\r\n          return true;\r\n        }\r\n        // Free tier: limited prompts\r\n        return state.getRemainingPrompts() > 0;\r\n      },\r\n\r\n      canAccessFeature: (feature) => {\r\n        const state = get();\r\n        const isPro = state.userSettings.subscriptionTier === 'pro' || state.userSettings.subscriptionTier === 'enterprise';\r\n\r\n        switch (feature) {\r\n          case 'workspace':\r\n          case 'idea-vault':\r\n            // Workspace and Idea Vault are unlimited for everyone\r\n            return true;\r\n\r\n          case 'ideaforge':\r\n          case 'mvp-studio':\r\n            // These require an active idea but are accessible to free users\r\n            return state.hasActiveIdea;\r\n\r\n          case 'prompts':\r\n            // Prompt generation has limits for free tier\r\n            return isPro || state.getRemainingPrompts() > 0;\r\n\r\n          case 'export':\r\n            // Advanced export features are Pro only\r\n            return isPro;\r\n\r\n          default:\r\n            return true;\r\n        }\r\n      },\r\n\r\n      getPromptLimit: () => {\r\n        const state = get();\r\n        switch (state.userSettings.subscriptionTier) {\r\n          case 'pro':\r\n          case 'enterprise':\r\n            return -1; // Unlimited\r\n          case 'free':\r\n          default:\r\n            return 10; // 10 prompts per idea for free tier\r\n        }\r\n      },\r\n\r\n      getRemainingPrompts: () => {\r\n        const state = get();\r\n        const limit = state.getPromptLimit();\r\n        if (limit === -1) return -1; // Unlimited\r\n\r\n        if (!state.activeIdea) return limit;\r\n\r\n        const usedPrompts = state.getPromptsByIdea(state.activeIdea.id).length;\r\n        return Math.max(0, limit - usedPrompts);\r\n      },\r\n      \r\n      // Utility functions\r\n      resetAll: () => set({\r\n        activeIdea: null,\r\n        promptHistory: initialPromptHistory,\r\n        currentStep: 'workshop',\r\n        hasActiveIdea: false\r\n      }),\r\n      \r\n      exportPrompts: () => {\r\n        const state = get();\r\n        const allPrompts = {\r\n          idea: state.activeIdea,\r\n          ideaforge: state.promptHistory.ideaforge,\r\n          mvpStudio: state.promptHistory.mvpStudio,\r\n          exportedAt: new Date().toISOString()\r\n        };\r\n        return JSON.stringify(allPrompts, null, 2);\r\n      },\r\n\r\n      getPromptsByIdea: (ideaId: string, section?: 'ideaforge' | 'mvpStudio') => {\r\n        const state = get();\r\n        const allPrompts: PromptData[] = [];\r\n\r\n        if (!section || section === 'ideaforge') {\r\n          Object.values(state.promptHistory.ideaforge).forEach(prompt => {\r\n            if (prompt && (prompt.ideaId === ideaId || prompt.section.includes(ideaId))) {\r\n              allPrompts.push(prompt);\r\n            }\r\n          });\r\n        }\r\n\r\n        if (!section || section === 'mvpStudio') {\r\n          Object.values(state.promptHistory.mvpStudio).forEach(prompt => {\r\n            if (prompt && (prompt.ideaId === ideaId || prompt.section.includes(ideaId))) {\r\n              allPrompts.push(prompt);\r\n            }\r\n          });\r\n        }\r\n\r\n        return allPrompts.sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\r\n      },\r\n\r\n      exportIdeaPrompts: (ideaId: string) => {\r\n        const state = get();\r\n        const ideaPrompts = state.getPromptsByIdea(ideaId);\r\n        const organizedPrompts = {\r\n          ideaId,\r\n          ideaTitle: state.activeIdea?.title || 'Unknown',\r\n          totalPrompts: ideaPrompts.length,\r\n          ideaforgePrompts: ideaPrompts.filter(p => p.section.includes('ideaforge') || !p.ideaId),\r\n          mvpStudioPrompts: ideaPrompts.filter(p => p.section.includes('mvpStudio') || p.ideaId),\r\n          exportedAt: new Date().toISOString()\r\n        };\r\n        return JSON.stringify(organizedPrompts, null, 2);\r\n      }\r\n    }),\r\n    {\r\n      name: 'prompthero-idea-store',\r\n      partialize: (state) => ({\r\n        activeIdea: state.activeIdea,\r\n        promptHistory: state.promptHistory,\r\n        userSettings: state.userSettings,\r\n        hasActiveIdea: state.hasActiveIdea\r\n      })\r\n    }\r\n  )\r\n);\r\n\r\n// Helper hooks for specific sections\r\nexport const useActiveIdea = () => {\r\n  const activeIdea = useIdeaStore((state) => state.activeIdea);\r\n  const setActiveIdea = useIdeaStore((state) => state.setActiveIdea);\r\n  const updateActiveIdea = useIdeaStore((state) => state.updateActiveIdea);\r\n  return { activeIdea, setActiveIdea, updateActiveIdea };\r\n};\r\n\r\nexport const usePromptHistory = () => {\r\n  const promptHistory = useIdeaStore((state) => state.promptHistory);\r\n  const addPrompt = useIdeaStore((state) => state.addPrompt);\r\n  const getPrompt = useIdeaStore((state) => state.getPrompt);\r\n  const clearPromptHistory = useIdeaStore((state) => state.clearPromptHistory);\r\n  const exportPrompts = useIdeaStore((state) => state.exportPrompts);\r\n  return { promptHistory, addPrompt, getPrompt, clearPromptHistory, exportPrompts };\r\n};\r\n\r\nexport const useUserSettings = () => {\r\n  const userSettings = useIdeaStore((state) => state.userSettings);\r\n  const updateUserSettings = useIdeaStore((state) => state.updateUserSettings);\r\n  return { userSettings, updateUserSettings };\r\n};\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Globe\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMmExNC41IDE0LjUgMCAwIDAgMCAyMCAxNC41IDE0LjUgMCAwIDAgMC0yMCIgLz4KICA8cGF0aCBkPSJNMiAxMmgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/globe\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Globe = createLucideIcon('Globe', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20', key: '13o1zl' }],\n  ['path', { d: 'M2 12h20', key: '9i4pu4' }],\n]);\n\nexport default Globe;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Play\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjYgMyAyMCAxMiA2IDIxIDYgMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Play = createLucideIcon('Play', [\n  ['polygon', { points: '6 3 20 12 6 21 6 3', key: '1oa8hb' }],\n]);\n\nexport default Play;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Crown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuNTYyIDMuMjY2YS41LjUgMCAwIDEgLjg3NiAwTDE1LjM5IDguODdhMSAxIDAgMCAwIDEuNTE2LjI5NEwyMS4xODMgNS41YS41LjUgMCAwIDEgLjc5OC41MTlsLTIuODM0IDEwLjI0NmExIDEgMCAwIDEtLjk1Ni43MzRINS44MWExIDEgMCAwIDEtLjk1Ny0uNzM0TDIuMDIgNi4wMmEuNS41IDAgMCAxIC43OTgtLjUxOWw0LjI3NiAzLjY2NGExIDEgMCAwIDAgMS41MTYtLjI5NHoiIC8+CiAgPHBhdGggZD0iTTUgMjFoMTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/crown\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Crown = createLucideIcon('Crown', [\n  [\n    'path',\n    {\n      d: 'M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z',\n      key: '1vdc57',\n    },\n  ],\n  ['path', { d: 'M5 21h14', key: '11awu3' }],\n]);\n\nexport default Crown;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name DollarSign\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSIyMiIgLz4KICA8cGF0aCBkPSJNMTcgNUg5LjVhMy41IDMuNSAwIDAgMCAwIDdoNWEzLjUgMy41IDAgMCAxIDAgN0g2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/dollar-sign\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst DollarSign = createLucideIcon('DollarSign', [\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '22', key: '7eqyqh' }],\n  ['path', { d: 'M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6', key: '1b0p4s' }],\n]);\n\nexport default DollarSign;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('CircleCheck', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n]);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Map\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuMTA2IDUuNTUzYTIgMiAwIDAgMCAxLjc4OCAwbDMuNjU5LTEuODNBMSAxIDAgMCAxIDIxIDQuNjE5djEyLjc2NGExIDEgMCAwIDEtLjU1My44OTRsLTQuNTUzIDIuMjc3YTIgMiAwIDAgMS0xLjc4OCAwbC00LjIxMi0yLjEwNmEyIDIgMCAwIDAtMS43ODggMGwtMy42NTkgMS44M0ExIDEgMCAwIDEgMyAxOS4zODFWNi42MThhMSAxIDAgMCAxIC41NTMtLjg5NGw0LjU1My0yLjI3N2EyIDIgMCAwIDEgMS43ODggMHoiIC8+CiAgPHBhdGggZD0iTTE1IDUuNzY0djE1IiAvPgogIDxwYXRoIGQ9Ik05IDMuMjM2djE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/map\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Map = createLucideIcon('Map', [\n  [\n    'path',\n    {\n      d: 'M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z',\n      key: '169xi5',\n    },\n  ],\n  ['path', { d: 'M15 5.764v15', key: '1pn4in' }],\n  ['path', { d: 'M9 3.236v15', key: '1uimfh' }],\n]);\n\nexport default Map;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Building\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMjAiIHg9IjQiIHk9IjIiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNOSAyMnYtNGg2djQiIC8+CiAgPHBhdGggZD0iTTggNmguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDZoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiA2aC4wMSIgLz4KICA8cGF0aCBkPSJNMTIgMTBoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiAxNGguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDEwaC4wMSIgLz4KICA8cGF0aCBkPSJNMTYgMTRoLjAxIiAvPgogIDxwYXRoIGQ9Ik04IDEwaC4wMSIgLz4KICA8cGF0aCBkPSJNOCAxNGguMDEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/building\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Building = createLucideIcon('Building', [\n  ['rect', { width: '16', height: '20', x: '4', y: '2', rx: '2', ry: '2', key: '76otgf' }],\n  ['path', { d: 'M9 22v-4h6v4', key: 'r93iot' }],\n  ['path', { d: 'M8 6h.01', key: '1dz90k' }],\n  ['path', { d: 'M16 6h.01', key: '1x0f13' }],\n  ['path', { d: 'M12 6h.01', key: '1vi96p' }],\n  ['path', { d: 'M12 10h.01', key: '1nrarc' }],\n  ['path', { d: 'M12 14h.01', key: '1etili' }],\n  ['path', { d: 'M16 10h.01', key: '1m94wz' }],\n  ['path', { d: 'M16 14h.01', key: '1gbofw' }],\n  ['path', { d: 'M8 10h.01', key: '19clt8' }],\n  ['path', { d: 'M8 14h.01', key: '6423bh' }],\n]);\n\nexport default Building;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Chrome\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI0IiAvPgogIDxsaW5lIHgxPSIyMS4xNyIgeDI9IjEyIiB5MT0iOCIgeTI9IjgiIC8+CiAgPGxpbmUgeDE9IjMuOTUiIHgyPSI4LjU0IiB5MT0iNi4wNiIgeTI9IjE0IiAvPgogIDxsaW5lIHgxPSIxMC44OCIgeDI9IjE1LjQ2IiB5MT0iMjEuOTQiIHkyPSIxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chrome\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n * @deprecated Brand icons have been deprecated and are due to be removed, please refer to https://github.com/lucide-icons/lucide/issues/670. We recommend using https://simpleicons.org/?q=chrome instead. This icon will be removed in v1.0\n */\nconst Chrome = createLucideIcon('Chrome', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '12', r: '4', key: '4exip2' }],\n  ['line', { x1: '21.17', x2: '12', y1: '8', y2: '8', key: 'a0cw5f' }],\n  ['line', { x1: '3.95', x2: '8.54', y1: '6.06', y2: '14', key: '1kftof' }],\n  ['line', { x1: '10.88', x2: '15.46', y1: '21.94', y2: '14', key: '1ymyh8' }],\n]);\n\nexport default Chrome;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Smile\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxNHMxLjUgMiA0IDIgNC0yIDQtMiIgLz4KICA8bGluZSB4MT0iOSIgeDI9IjkuMDEiIHkxPSI5IiB5Mj0iOSIgLz4KICA8bGluZSB4MT0iMTUiIHgyPSIxNS4wMSIgeTE9IjkiIHkyPSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/smile\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Smile = createLucideIcon('Smile', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 14s1.5 2 4 2 4-2 4-2', key: '1y1vjs' }],\n  ['line', { x1: '9', x2: '9.01', y1: '9', y2: '9', key: 'yxxnd0' }],\n  ['line', { x1: '15', x2: '15.01', y1: '9', y2: '9', key: '1p4y9e' }],\n]);\n\nexport default Smile;\n","import React, { useState } from 'react';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { \r\n  Copy, \r\n  ExternalLink, \r\n  Sparkles, \r\n  Palette, \r\n  Monitor, \r\n  Smartphone,\r\n  Eye,\r\n  Edit3,\r\n  CheckCircle2,\r\n  ArrowRight,\r\n  Wand2\r\n} from \"lucide-react\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { useAnalytics } from \"@/services/mvpStudioAnalytics\";\r\nimport { PagePrompt } from \"@/types/ideaforge\";\r\nimport { BuilderToolRecommendation } from \"@/services/frameworkGenerator\";\r\n\r\ninterface PagePromptGeneratorProps {\r\n  pagePrompts: PagePrompt[];\r\n  builderTools: BuilderToolRecommendation[];\r\n  currentPageIndex: number;\r\n  onPageChange: (index: number) => void;\r\n  onPromptUpdate: (index: number, prompt: string) => void;\r\n  onComplete: () => void;\r\n}\r\n\r\nconst PagePromptGenerator: React.FC<PagePromptGeneratorProps> = ({\r\n  pagePrompts,\r\n  builderTools,\r\n  currentPageIndex,\r\n  onPageChange,\r\n  onPromptUpdate,\r\n  onComplete\r\n}) => {\r\n  const { toast } = useToast();\r\n  const analytics = useAnalytics();\r\n  const [selectedBuilder, setSelectedBuilder] = useState(builderTools[0]?.tool.name || 'framer');\r\n  const [customizations, setCustomizations] = useState({\r\n    colorScheme: 'default',\r\n    animation: 'subtle',\r\n    spacing: 'comfortable',\r\n    typography: 'modern'\r\n  });\r\n\r\n  const currentPage = pagePrompts[currentPageIndex];\r\n  const isLastPage = currentPageIndex === pagePrompts.length - 1;\r\n\r\n  // Safety checks\r\n  if (!pagePrompts || pagePrompts.length === 0) {\r\n    return (\r\n      <div className=\"text-center p-8\">\r\n        <p className=\"text-muted-foreground\">No pages generated yet. Please generate the framework first.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!currentPage) {\r\n    return (\r\n      <div className=\"text-center p-8\">\r\n        <p className=\"text-muted-foreground\">Loading page data...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!builderTools || builderTools.length === 0) {\r\n    return (\r\n      <div className=\"text-center p-8\">\r\n        <p className=\"text-muted-foreground\">No builder tools available. Please try regenerating the framework.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const copyPrompt = (prompt: string, pageName: string) => {\r\n    navigator.clipboard.writeText(prompt);\r\n\r\n    // Track page prompt generation\r\n    analytics.trackPagePromptGeneration(\r\n      pageName,\r\n      selectedBuilder,\r\n      prompt.length,\r\n      true\r\n    );\r\n\r\n    toast({\r\n      title: \"Prompt Copied!\",\r\n      description: `${pageName} prompt copied to clipboard. Ready to paste into ${selectedBuilder}!`\r\n    });\r\n  };\r\n\r\n  const openBuilder = (url: string, toolName: string) => {\r\n    window.open(url, '_blank');\r\n    toast({\r\n      title: `Opening ${toolName}`,\r\n      description: \"Paste your copied prompt to start building!\"\r\n    });\r\n  };\r\n\r\n  const generateEnhancedPrompt = (basePrompt: string) => {\r\n    const enhancements = {\r\n      colorScheme: {\r\n        'vibrant': 'Use vibrant, energetic colors with high contrast',\r\n        'pastel': 'Use soft, pastel colors for a gentle, approachable feel',\r\n        'monochrome': 'Use a sophisticated monochrome palette with accent colors',\r\n        'default': 'Use a balanced color palette appropriate for the design style'\r\n      },\r\n      animation: {\r\n        'none': 'No animations - focus on static, clean design',\r\n        'subtle': 'Add subtle hover effects and smooth transitions',\r\n        'dynamic': 'Include engaging animations and micro-interactions',\r\n        'playful': 'Use fun, bouncy animations that delight users'\r\n      },\r\n      spacing: {\r\n        'compact': 'Use tight spacing for information-dense layouts',\r\n        'comfortable': 'Use comfortable spacing for easy reading and navigation',\r\n        'spacious': 'Use generous whitespace for a premium, luxurious feel'\r\n      },\r\n      typography: {\r\n        'modern': 'Use modern, clean sans-serif fonts',\r\n        'classic': 'Use traditional, readable serif fonts',\r\n        'playful': 'Use friendly, rounded fonts with personality',\r\n        'technical': 'Use monospace or technical fonts for a developer feel'\r\n      }\r\n    };\r\n\r\n    const enhancementText = Object.entries(customizations)\r\n      .map(([key, value]) => enhancements[key as keyof typeof enhancements][value])\r\n      .join('. ');\r\n\r\n    return `${basePrompt}\r\n\r\n## Enhanced Design Requirements\r\n${enhancementText}\r\n\r\n## Builder-Specific Instructions\r\n${getBuilderInstructions(selectedBuilder)}\r\n\r\n## Quality Checklist\r\n- ✅ Responsive design for all screen sizes\r\n- ✅ Accessibility compliance (WCAG 2.1)\r\n- ✅ Fast loading and performance optimized\r\n- ✅ Consistent with overall app design system\r\n- ✅ User-friendly and intuitive interface`;\r\n  };\r\n\r\n  const getBuilderInstructions = (builder: string) => {\r\n    const instructions: Record<string, string> = {\r\n      'framer': `\r\n**Framer Instructions:**\r\n- Use Framer's component variants for different states\r\n- Implement smooth page transitions and micro-interactions\r\n- Utilize Framer's responsive breakpoint system\r\n- Add hover effects and interactive elements\r\n- Use Framer's built-in CMS for dynamic content`,\r\n      \r\n      'flutterflow': `\r\n**FlutterFlow Instructions:**\r\n- Design with mobile-first approach\r\n- Use FlutterFlow's widget library and custom widgets\r\n- Implement proper navigation and state management\r\n- Add Firebase integration for backend functionality\r\n- Ensure cross-platform compatibility (iOS/Android)`,\r\n      \r\n      'webflow': `\r\n**Webflow Instructions:**\r\n- Use Webflow's class-based styling system\r\n- Implement responsive design with Webflow's grid\r\n- Add Webflow CMS for dynamic content management\r\n- Use Webflow's interaction system for animations\r\n- Optimize for SEO with proper meta tags and structure`,\r\n      \r\n      'bubble': `\r\n**Bubble Instructions:**\r\n- Design with Bubble's responsive engine\r\n- Use Bubble's database for data storage and management\r\n- Implement workflows for user interactions and logic\r\n- Add proper privacy rules for data security\r\n- Utilize Bubble's plugin ecosystem for extended functionality`\r\n    };\r\n    \r\n    return instructions[builder.toLowerCase()] || 'Follow platform-specific best practices for optimal results.';\r\n  };\r\n\r\n  const getBuilderSpecificPrompt = () => {\r\n    if (!currentPage) {\r\n      return 'Loading prompt...';\r\n    }\r\n\r\n    if (currentPage.builderSpecific && currentPage.builderSpecific[selectedBuilder.toLowerCase()]) {\r\n      return currentPage.builderSpecific[selectedBuilder.toLowerCase()];\r\n    }\r\n\r\n    if (!currentPage.prompt) {\r\n      return 'Prompt not yet generated. Please wait...';\r\n    }\r\n\r\n    return generateEnhancedPrompt(currentPage.prompt);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Page Navigation */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-xl font-semibold\">Page-by-Page UI Generation</h3>\r\n          <p className=\"text-muted-foreground\">\r\n            Generate optimized prompts for each page ({currentPageIndex + 1} of {pagePrompts.length})\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => onPageChange(Math.max(0, currentPageIndex - 1))}\r\n            disabled={currentPageIndex === 0}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => onPageChange(Math.min(pagePrompts.length - 1, currentPageIndex + 1))}\r\n            disabled={isLastPage}\r\n          >\r\n            Next\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Page Overview */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        {pagePrompts.map((page, index) => (\r\n          <Card \r\n            key={index}\r\n            className={`cursor-pointer transition-all ${\r\n              index === currentPageIndex \r\n                ? 'ring-2 ring-primary bg-primary/5' \r\n                : 'hover:bg-muted/50'\r\n            }`}\r\n            onClick={() => onPageChange(index)}\r\n          >\r\n            <CardContent className=\"p-4\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h4 className=\"font-medium\">{page.pageName}</h4>\r\n                {index <= currentPageIndex && (\r\n                  <CheckCircle2 className=\"h-4 w-4 text-green-500\" />\r\n                )}\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-1\">\r\n                {page.components.slice(0, 3).map((component, idx) => (\r\n                  <Badge key={idx} variant=\"secondary\" className=\"text-xs\">\r\n                    {component}\r\n                  </Badge>\r\n                ))}\r\n                {page.components.length > 3 && (\r\n                  <Badge variant=\"outline\" className=\"text-xs\">\r\n                    +{page.components.length - 3}\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Current Page Details */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Sparkles className=\"h-5 w-5 text-primary\" />\r\n            {currentPage.pageName} Page\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Builder Selection */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"text-sm font-medium mb-2 block\">Choose Builder Tool</label>\r\n              <Select value={selectedBuilder} onValueChange={setSelectedBuilder}>\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {builderTools.map((tool) => (\r\n                    <SelectItem key={tool.tool.id} value={tool.tool.name}>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span>{tool.tool.name}</span>\r\n                        <Badge variant=\"outline\" className=\"text-xs\">\r\n                          {tool.estimatedTime}\r\n                        </Badge>\r\n                      </div>\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              {builderTools.slice(0, 3).map((tool) => (\r\n                <Button\r\n                  key={tool.tool.id}\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => openBuilder(tool.tool.officialUrl, tool.tool.name)}\r\n                  className=\"flex-1\"\r\n                >\r\n                  <ExternalLink className=\"h-3 w-3 mr-1\" />\r\n                  {tool.tool.name}\r\n                </Button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Customization Options */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n            <div>\r\n              <label className=\"text-sm font-medium mb-2 block\">Color Scheme</label>\r\n              <Select \r\n                value={customizations.colorScheme} \r\n                onValueChange={(value) => setCustomizations(prev => ({ ...prev, colorScheme: value }))}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"default\">Default</SelectItem>\r\n                  <SelectItem value=\"vibrant\">Vibrant</SelectItem>\r\n                  <SelectItem value=\"pastel\">Pastel</SelectItem>\r\n                  <SelectItem value=\"monochrome\">Monochrome</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-sm font-medium mb-2 block\">Animation</label>\r\n              <Select \r\n                value={customizations.animation} \r\n                onValueChange={(value) => setCustomizations(prev => ({ ...prev, animation: value }))}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"none\">None</SelectItem>\r\n                  <SelectItem value=\"subtle\">Subtle</SelectItem>\r\n                  <SelectItem value=\"dynamic\">Dynamic</SelectItem>\r\n                  <SelectItem value=\"playful\">Playful</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-sm font-medium mb-2 block\">Spacing</label>\r\n              <Select \r\n                value={customizations.spacing} \r\n                onValueChange={(value) => setCustomizations(prev => ({ ...prev, spacing: value }))}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"compact\">Compact</SelectItem>\r\n                  <SelectItem value=\"comfortable\">Comfortable</SelectItem>\r\n                  <SelectItem value=\"spacious\">Spacious</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-sm font-medium mb-2 block\">Typography</label>\r\n              <Select \r\n                value={customizations.typography} \r\n                onValueChange={(value) => setCustomizations(prev => ({ ...prev, typography: value }))}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"modern\">Modern</SelectItem>\r\n                  <SelectItem value=\"classic\">Classic</SelectItem>\r\n                  <SelectItem value=\"playful\">Playful</SelectItem>\r\n                  <SelectItem value=\"technical\">Technical</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Generated Prompt */}\r\n          <div>\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <label className=\"text-sm font-medium\">Generated Prompt</label>\r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => copyPrompt(getBuilderSpecificPrompt(), currentPage.pageName)}\r\n                >\r\n                  <Copy className=\"h-3 w-3 mr-1\" />\r\n                  Copy\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    const selectedTool = builderTools.find(t => t.tool.name === selectedBuilder);\r\n                    if (selectedTool) {\r\n                      openBuilder(selectedTool.tool.officialUrl, selectedTool.tool.name);\r\n                    }\r\n                  }}\r\n                >\r\n                  <ExternalLink className=\"h-3 w-3 mr-1\" />\r\n                  Open {selectedBuilder}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <Textarea\r\n              value={getBuilderSpecificPrompt()}\r\n              onChange={(e) => onPromptUpdate(currentPageIndex, e.target.value)}\r\n              className=\"min-h-[300px] font-mono text-sm\"\r\n              placeholder=\"Generated prompt will appear here...\"\r\n            />\r\n          </div>\r\n\r\n          {/* Page Components */}\r\n          <div>\r\n            <label className=\"text-sm font-medium mb-2 block\">Page Components</label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {currentPage.components.map((component, index) => (\r\n                <Badge key={index} variant=\"secondary\">\r\n                  {component}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex justify-between\">\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => onPageChange(Math.max(0, currentPageIndex - 1))}\r\n                disabled={currentPageIndex === 0}\r\n              >\r\n                Previous Page\r\n              </Button>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              {!isLastPage ? (\r\n                <Button\r\n                  onClick={() => onPageChange(currentPageIndex + 1)}\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  Next Page\r\n                  <ArrowRight className=\"h-4 w-4\" />\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  onClick={onComplete}\r\n                  className=\"flex items-center gap-2 bg-gradient-to-r from-primary to-primary/80\"\r\n                >\r\n                  Generate Navigation\r\n                  <Wand2 className=\"h-4 w-4\" />\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PagePromptGenerator;\r\n","import React, { useState } from 'react';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { \r\n  Download, \r\n  Copy, \r\n  ExternalLink, \r\n  FileText, \r\n  Package,\r\n  Share2,\r\n  Sparkles,\r\n  Code,\r\n  Palette,\r\n  Link,\r\n  CheckCircle2,\r\n  Eye,\r\n  Zap\r\n} from \"lucide-react\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { useAnalytics } from \"@/services/mvpStudioAnalytics\";\r\nimport { GeneratedFramework } from \"@/services/frameworkGenerator\";\r\nimport { PagePrompt } from \"@/types/ideaforge\";\r\n\r\ninterface ExportablePromptsSystemProps {\r\n  framework: GeneratedFramework;\r\n  pagePrompts: PagePrompt[];\r\n  linkingPrompt: string;\r\n  appName: string;\r\n}\r\n\r\nconst ExportablePromptsSystem: React.FC<ExportablePromptsSystemProps> = ({\r\n  framework,\r\n  pagePrompts,\r\n  linkingPrompt,\r\n  appName\r\n}) => {\r\n  const { toast } = useToast();\r\n  const analytics = useAnalytics();\r\n  const [exportFormat, setExportFormat] = useState<'gpt-ready' | 'markdown' | 'json' | 'notion' | 'txt'>('gpt-ready');\r\n  const [selectedBuilder, setSelectedBuilder] = useState(framework.builderTools[0]?.tool.name.toLowerCase() || 'framer');\r\n  const [includeInstructions, setIncludeInstructions] = useState(true);\r\n  const [currentPromptIndex, setCurrentPromptIndex] = useState(0);\r\n\r\n  const generateExportContent = () => {\r\n    switch (exportFormat) {\r\n      case 'gpt-ready':\r\n        return generateGPTReadyExport();\r\n      case 'markdown':\r\n        return generateMarkdownExport();\r\n      case 'json':\r\n        return generateJSONExport();\r\n      case 'notion':\r\n        return generateNotionExport();\r\n      case 'txt':\r\n        return generateTextExport();\r\n      default:\r\n        return generateGPTReadyExport();\r\n    }\r\n  };\r\n\r\n  const generateGPTReadyExport = () => {\r\n    const builderInstructions = getBuilderSpecificInstructions(selectedBuilder);\r\n\r\n    return `# ${appName} - GPT-Ready Prompts for ${selectedBuilder.charAt(0).toUpperCase() + selectedBuilder.slice(1)}\r\n\r\n## 🎯 How to Use These Prompts\r\n\r\n1. **Copy each prompt individually** - Don't paste all at once\r\n2. **Start with Framework Prompt** - This creates your app structure\r\n3. **Then use Page Prompts one by one** - For each screen/page\r\n4. **Finish with Navigation Prompt** - To connect everything\r\n5. **Paste into ${selectedBuilder.charAt(0).toUpperCase() + selectedBuilder.slice(1)}** - Follow the builder-specific instructions below\r\n\r\n${builderInstructions}\r\n\r\n---\r\n\r\n## 🏗️ FRAMEWORK PROMPT\r\n**Use this first to create your app structure**\r\n\r\n\\`\\`\\`\r\n${framework.prompts.framework}\r\n\\`\\`\\`\r\n\r\n---\r\n\r\n## 🎨 PAGE PROMPTS\r\n**Use these one by one for each page**\r\n\r\n${pagePrompts.map((page, index) => `\r\n### ${index + 1}. ${page.pageName} Page\r\n\r\n\\`\\`\\`\r\n${page.builderSpecific[selectedBuilder] || page.prompt}\r\n\\`\\`\\`\r\n\r\n**Components:** ${page.components.join(', ')}\r\n**Layout:** ${page.layout}\r\n\r\n---`).join('')}\r\n\r\n## 🔗 NAVIGATION PROMPT\r\n**Use this last to connect all pages**\r\n\r\n\\`\\`\\`\r\n${linkingPrompt}\r\n\\`\\`\\`\r\n\r\n---\r\n\r\n## 📋 Quick Checklist\r\n\r\n- [ ] Framework prompt used ✅\r\n${pagePrompts.map((page, index) => `- [ ] ${page.pageName} page created ✅`).join('\\n')}\r\n- [ ] Navigation implemented ✅\r\n- [ ] App tested ✅\r\n\r\n**Generated on:** ${new Date().toLocaleDateString()}\r\n**Builder:** ${selectedBuilder.charAt(0).toUpperCase() + selectedBuilder.slice(1)}\r\n**Total Prompts:** ${pagePrompts.length + 2}`;\r\n  };\r\n\r\n  const getBuilderSpecificInstructions = (builder: string) => {\r\n    const instructions = {\r\n      'framer': `\r\n## 🎨 Framer Instructions\r\n\r\n1. **Open Framer** → Create new project\r\n2. **Use AI Assistant** → Paste framework prompt first\r\n3. **Create Components** → Use page prompts for each screen\r\n4. **Add Interactions** → Use navigation prompt for linking\r\n5. **Preview & Test** → Check all flows work\r\n\r\n**Pro Tips:**\r\n- Use Framer's component variants for different states\r\n- Add smooth transitions between pages\r\n- Utilize responsive breakpoints\r\n- Test on mobile and desktop`,\r\n\r\n      'flutterflow': `\r\n## 📱 FlutterFlow Instructions\r\n\r\n1. **Create New Project** → Choose Flutter app\r\n2. **Set Up Pages** → Use framework prompt to plan structure\r\n3. **Design Each Page** → Use page prompts in UI Builder\r\n4. **Add Navigation** → Use navigation prompt for routing\r\n5. **Configure Backend** → Add Firebase if needed\r\n\r\n**Pro Tips:**\r\n- Start with mobile-first design\r\n- Use FlutterFlow's widget library\r\n- Set up proper state management\r\n- Test on both iOS and Android simulators`,\r\n\r\n      'uizard': `\r\n## 🎯 Uizard Instructions\r\n\r\n1. **Start New Project** → Choose app type\r\n2. **Use AI Design** → Paste framework prompt\r\n3. **Generate Screens** → Use page prompts individually\r\n4. **Connect Flows** → Use navigation prompt\r\n5. **Export Code** → Download when ready\r\n\r\n**Pro Tips:**\r\n- Use Uizard's AI to generate from text\r\n- Iterate on designs with AI suggestions\r\n- Export to code when satisfied\r\n- Test user flows before finalizing`,\r\n\r\n      'builder.io': `\r\n## 🏗️ Builder.io Instructions\r\n\r\n1. **Create New Project** → Choose framework (React/Vue/etc)\r\n2. **Set Up Pages** → Use framework prompt for structure\r\n3. **Design Components** → Use page prompts for each section\r\n4. **Add Navigation** → Implement routing with navigation prompt\r\n5. **Publish** → Deploy when ready\r\n\r\n**Pro Tips:**\r\n- Use Builder's visual editor\r\n- Leverage component library\r\n- Set up proper SEO\r\n- Test performance before launch`\r\n    };\r\n\r\n    return instructions[builder as keyof typeof instructions] || instructions['framer'];\r\n  };\r\n\r\n  const generateMarkdownExport = () => {\r\n    const selectedTool = framework.builderTools.find(t => t.tool.name === selectedBuilder);\r\n    \r\n    return `# ${appName} - MVP Builder Prompts\r\n\r\nGenerated on: ${new Date().toLocaleDateString()}\r\nRecommended Builder: **${selectedBuilder}**\r\nEstimated Time: ${selectedTool?.estimatedTime || '1-2 weeks'}\r\n\r\n## 🏗️ Framework Overview\r\n\r\n### App Structure\r\n- **Type**: ${framework.appStructure.type}\r\n- **Architecture**: ${framework.appStructure.architecture}\r\n- **Core Modules**: ${framework.appStructure.coreModules.join(', ')}\r\n\r\n### Tech Stack Recommendation\r\n- **Frontend**: ${framework.techStack.frontend.join(', ')}\r\n- **Backend**: ${framework.techStack.backend.join(', ')}\r\n- **Database**: ${framework.techStack.database.join(', ')}\r\n- **Deployment**: ${framework.techStack.deployment.join(', ')}\r\n\r\n**Reasoning**: ${framework.techStack.reasoning}\r\n\r\n## 📋 Framework Generation Prompt\r\n\r\n\\`\\`\\`\r\n${framework.prompts.framework}\r\n\\`\\`\\`\r\n\r\n## 📄 Page-by-Page Prompts\r\n\r\n${pagePrompts.map((page, index) => `\r\n### ${index + 1}. ${page.pageName} Page\r\n\r\n**Components**: ${page.components.join(', ')}\r\n**Layout**: ${page.layout}\r\n\r\n#### ${selectedBuilder} Prompt:\r\n\\`\\`\\`\r\n${page.builderSpecific[selectedBuilder.toLowerCase()] || page.prompt}\r\n\\`\\`\\`\r\n\r\n---\r\n`).join('')}\r\n\r\n## 🔗 Navigation & Linking Prompt\r\n\r\n\\`\\`\\`\r\n${linkingPrompt}\r\n\\`\\`\\`\r\n\r\n## 🛠️ Recommended Builder Tools\r\n\r\n${framework.builderTools.map(tool => `\r\n### ${tool.tool.name}\r\n- **Suitability Score**: ${tool.suitabilityScore}/100\r\n- **Estimated Time**: ${tool.estimatedTime}\r\n- **Complexity**: ${tool.complexity}\r\n- **URL**: ${tool.tool.officialUrl}\r\n\r\n**Why Recommended**: ${tool.reasons.join(', ')}\r\n`).join('')}\r\n\r\n## 🚀 Quick Start Guide\r\n\r\n1. **Choose Your Builder**: We recommend ${selectedBuilder} for this project\r\n2. **Start with Framework**: Copy the framework prompt and paste it into ${selectedBuilder}\r\n3. **Build Page by Page**: Use each page prompt to create individual screens\r\n4. **Connect with Navigation**: Implement the linking prompt for seamless navigation\r\n5. **Deploy**: Use ${framework.techStack.deployment[0]} for quick deployment\r\n\r\n${includeInstructions ? `\r\n## 📖 Builder-Specific Instructions\r\n\r\n### ${selectedBuilder} Setup:\r\n${getBuilderSetupInstructions(selectedBuilder)}\r\n\r\n### Tips for Success:\r\n- Start with the framework prompt to establish the overall structure\r\n- Build pages in order of priority (high → medium → low)\r\n- Test navigation flow between pages regularly\r\n- Use the recommended tech stack for best compatibility\r\n- Deploy early and iterate based on user feedback\r\n` : ''}\r\n\r\n---\r\n*Generated by MVP Studio - Your AI-Powered MVP Builder*`;\r\n  };\r\n\r\n  const generateJSONExport = () => {\r\n    return JSON.stringify({\r\n      appName,\r\n      generatedAt: new Date().toISOString(),\r\n      recommendedBuilder: selectedBuilder,\r\n      framework: {\r\n        structure: framework.appStructure,\r\n        techStack: framework.techStack,\r\n        prompt: framework.prompts.framework\r\n      },\r\n      pages: pagePrompts.map(page => ({\r\n        name: page.pageName,\r\n        components: page.components,\r\n        layout: page.layout,\r\n        prompt: page.builderSpecific[selectedBuilder.toLowerCase()] || page.prompt\r\n      })),\r\n      navigation: {\r\n        structure: framework.navigation,\r\n        prompt: linkingPrompt\r\n      },\r\n      builderTools: framework.builderTools.map(tool => ({\r\n        name: tool.tool.name,\r\n        url: tool.tool.officialUrl,\r\n        suitabilityScore: tool.suitabilityScore,\r\n        estimatedTime: tool.estimatedTime,\r\n        reasons: tool.reasons\r\n      }))\r\n    }, null, 2);\r\n  };\r\n\r\n  const generateNotionExport = () => {\r\n    return `# ${appName} MVP Builder Guide\r\n\r\n## Overview\r\nApp Type: ${framework.appStructure.type}\r\nRecommended Builder: ${selectedBuilder}\r\nGenerated: ${new Date().toLocaleDateString()}\r\n\r\n## Framework Prompt\r\n${framework.prompts.framework}\r\n\r\n## Page Prompts\r\n${pagePrompts.map((page, index) => `\r\n## ${page.pageName}\r\n${page.builderSpecific[selectedBuilder.toLowerCase()] || page.prompt}\r\n`).join('')}\r\n\r\n## Navigation\r\n${linkingPrompt}\r\n\r\n## Tools\r\n${framework.builderTools.map(tool => `- ${tool.tool.name}: ${tool.tool.officialUrl}`).join('\\n')}`;\r\n  };\r\n\r\n  const generateTextExport = () => {\r\n    return `${appName} - MVP Builder Prompts\r\n\r\n=== FRAMEWORK ===\r\n${framework.prompts.framework}\r\n\r\n=== PAGES ===\r\n${pagePrompts.map((page, index) => `\r\n--- ${page.pageName.toUpperCase()} ---\r\n${page.builderSpecific[selectedBuilder.toLowerCase()] || page.prompt}\r\n`).join('')}\r\n\r\n=== NAVIGATION ===\r\n${linkingPrompt}\r\n\r\n=== TOOLS ===\r\n${framework.builderTools.map(tool => `${tool.tool.name}: ${tool.tool.officialUrl}`).join('\\n')}`;\r\n  };\r\n\r\n  const getBuilderSetupInstructions = (builder: string) => {\r\n    const instructions: Record<string, string> = {\r\n      'framer': `1. Sign up at framer.com\r\n2. Create a new project\r\n3. Use the AI website generator feature\r\n4. Paste the framework prompt first\r\n5. Create pages using individual page prompts\r\n6. Connect pages with Framer's link system`,\r\n      \r\n      'flutterflow': `1. Sign up at flutterflow.io\r\n2. Create a new Flutter project\r\n3. Set up Firebase integration\r\n4. Use the visual builder with page prompts\r\n5. Implement navigation between screens\r\n6. Test on both iOS and Android`,\r\n      \r\n      'webflow': `1. Sign up at webflow.com\r\n2. Create a new site project\r\n3. Use Webflow's designer with prompts\r\n4. Set up CMS for dynamic content\r\n5. Implement responsive design\r\n6. Publish to Webflow hosting`,\r\n      \r\n      'bubble': `1. Sign up at bubble.io\r\n2. Create a new web app\r\n3. Set up database structure\r\n4. Use visual editor with prompts\r\n5. Create workflows for interactions\r\n6. Set up privacy rules and deploy`\r\n    };\r\n    \r\n    return instructions[builder.toLowerCase()] || 'Follow platform-specific setup instructions';\r\n  };\r\n\r\n  const copyToClipboard = (content: string, type: string) => {\r\n    try {\r\n      navigator.clipboard.writeText(content);\r\n      toast({\r\n        title: \"Copied!\",\r\n        description: `${type} copied to clipboard`\r\n      });\r\n    } catch (error) {\r\n      // Fallback for browsers that don't support clipboard API\r\n      const textArea = document.createElement('textarea');\r\n      textArea.value = content;\r\n      document.body.appendChild(textArea);\r\n      textArea.select();\r\n      document.execCommand('copy');\r\n      document.body.removeChild(textArea);\r\n\r\n      toast({\r\n        title: \"Copied!\",\r\n        description: `${type} copied to clipboard`\r\n      });\r\n    }\r\n  };\r\n\r\n  const downloadFile = (content: string, filename: string) => {\r\n    const blob = new Blob([content], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = filename;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n\r\n    // Track export action\r\n    analytics.trackExportAction(\r\n      exportFormat,\r\n      selectedBuilder,\r\n      pagePrompts.length\r\n    );\r\n\r\n    toast({\r\n      title: \"Downloaded!\",\r\n      description: `${filename} has been downloaded`\r\n    });\r\n  };\r\n\r\n  const openBuilder = (url: string, name: string) => {\r\n    window.open(url, '_blank');\r\n    toast({\r\n      title: `Opening ${name}`,\r\n      description: \"Ready to start building your MVP!\"\r\n    });\r\n  };\r\n\r\n  // Safety checks\r\n  if (!framework || !pagePrompts || pagePrompts.length === 0) {\r\n    return (\r\n      <div className=\"text-center p-8\">\r\n        <p className=\"text-muted-foreground\">No framework data available. Please generate the framework first.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const exportContent = generateExportContent();\r\n  const filename = `${appName.toLowerCase().replace(/\\s+/g, '-')}-mvp-prompts.${exportFormat}`;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Download className=\"h-5 w-5\" />\r\n            Export MVP Prompts\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n            <div>\r\n              <label className=\"text-sm font-medium mb-2 block\">Export Format</label>\r\n              <Select value={exportFormat} onValueChange={(value: string) => setExportFormat(value as any)}>\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"gpt-ready\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Zap className=\"h-4 w-4 text-primary\" />\r\n                      GPT-Ready Prompts (Recommended)\r\n                    </div>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"markdown\">Markdown (.md)</SelectItem>\r\n                  <SelectItem value=\"json\">JSON (.json)</SelectItem>\r\n                  <SelectItem value=\"notion\">Notion Format</SelectItem>\r\n                  <SelectItem value=\"txt\">Plain Text (.txt)</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"text-sm font-medium mb-2 block\">Target Builder</label>\r\n              <Select value={selectedBuilder} onValueChange={setSelectedBuilder}>\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"framer\">🎨 Framer</SelectItem>\r\n                  <SelectItem value=\"flutterflow\">📱 FlutterFlow</SelectItem>\r\n                  <SelectItem value=\"uizard\">🎯 Uizard</SelectItem>\r\n                  <SelectItem value=\"builder.io\">🏗️ Builder.io</SelectItem>\r\n                  {framework.builderTools.map((tool) => (\r\n                    <SelectItem key={tool.tool.id} value={tool.tool.name}>\r\n                      {tool.tool.name}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"flex items-end\">\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"w-full\"\r\n                onClick={() => setIncludeInstructions(!includeInstructions)}\r\n              >\r\n                {includeInstructions ? <CheckCircle2 className=\"h-4 w-4 mr-2\" /> : <Eye className=\"h-4 w-4 mr-2\" />}\r\n                {includeInstructions ? 'Instructions Included' : 'Add Instructions'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Quick Actions */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center gap-3 mb-3\">\r\n            <Copy className=\"h-5 w-5 text-primary\" />\r\n            <h4 className=\"font-medium\">Copy All Prompts</h4>\r\n          </div>\r\n          <p className=\"text-sm text-muted-foreground mb-3\">\r\n            Copy the complete prompt bundle to clipboard\r\n          </p>\r\n          <Button \r\n            variant=\"outline\" \r\n            className=\"w-full\"\r\n            onClick={() => copyToClipboard(exportContent, 'Complete prompt bundle')}\r\n          >\r\n            Copy Bundle\r\n          </Button>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center gap-3 mb-3\">\r\n            <Download className=\"h-5 w-5 text-primary\" />\r\n            <h4 className=\"font-medium\">Download File</h4>\r\n          </div>\r\n          <p className=\"text-sm text-muted-foreground mb-3\">\r\n            Download prompts as {exportFormat.toUpperCase()} file\r\n          </p>\r\n          <Button \r\n            variant=\"outline\" \r\n            className=\"w-full\"\r\n            onClick={() => downloadFile(exportContent, filename)}\r\n          >\r\n            Download {exportFormat.toUpperCase()}\r\n          </Button>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center gap-3 mb-3\">\r\n            <ExternalLink className=\"h-5 w-5 text-primary\" />\r\n            <h4 className=\"font-medium\">Open Builder</h4>\r\n          </div>\r\n          <p className=\"text-sm text-muted-foreground mb-3\">\r\n            Launch {selectedBuilder} to start building\r\n          </p>\r\n          <Button \r\n            className=\"w-full\"\r\n            onClick={() => {\r\n              const tool = framework.builderTools.find(t => t.tool.name === selectedBuilder);\r\n              if (tool) openBuilder(tool.tool.officialUrl, tool.tool.name);\r\n            }}\r\n          >\r\n            Open {selectedBuilder}\r\n          </Button>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Preview */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <FileText className=\"h-5 w-5\" />\r\n            Export Preview\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Textarea\r\n            value={exportContent}\r\n            readOnly\r\n            className=\"min-h-[300px] font-mono text-xs\"\r\n            placeholder=\"Export preview will appear here...\"\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Builder Tools Grid */}\r\n      <div>\r\n        <h4 className=\"text-lg font-semibold mb-4\">Recommended Builder Tools</h4>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {framework.builderTools.map((tool, index) => (\r\n            <Card key={index} className=\"p-4\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <div>\r\n                  <h5 className=\"font-medium\">{tool.tool.name}</h5>\r\n                  <p className=\"text-sm text-muted-foreground\">{tool.tool.description}</p>\r\n                </div>\r\n                <Badge variant={tool.suitabilityScore >= 80 ? 'default' : 'secondary'}>\r\n                  {tool.suitabilityScore}/100\r\n                </Badge>\r\n              </div>\r\n              \r\n              <div className=\"space-y-2 mb-4\">\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span>Estimated Time:</span>\r\n                  <span className=\"font-medium\">{tool.estimatedTime}</span>\r\n                </div>\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span>Complexity:</span>\r\n                  <Badge variant=\"outline\" className=\"text-xs\">\r\n                    {tool.complexity}\r\n                  </Badge>\r\n                </div>\r\n                <div className=\"text-sm\">\r\n                  <span className=\"font-medium\">Why recommended:</span>\r\n                  <p className=\"text-muted-foreground\">{tool.reasons.join(', ')}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  className=\"flex-1\"\r\n                  onClick={() => setSelectedBuilder(tool.tool.name)}\r\n                >\r\n                  Select\r\n                </Button>\r\n                <Button\r\n                  size=\"sm\"\r\n                  className=\"flex-1\"\r\n                  onClick={() => openBuilder(tool.tool.officialUrl, tool.tool.name)}\r\n                >\r\n                  <ExternalLink className=\"h-3 w-3 mr-1\" />\r\n                  Open\r\n                </Button>\r\n              </div>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Success Actions */}\r\n      <div className=\"text-center pt-6 border-t\">\r\n        <div className=\"flex items-center justify-center gap-2 mb-4\">\r\n          <CheckCircle2 className=\"h-5 w-5 text-green-500\" />\r\n          <span className=\"font-medium\">Your MVP Blueprint is Ready!</span>\r\n        </div>\r\n        <div className=\"flex flex-col sm:flex-row gap-3 justify-center\">\r\n          <Button\r\n            size=\"lg\"\r\n            onClick={() => {\r\n              copyToClipboard(exportContent, 'Complete MVP blueprint');\r\n              const tool = framework.builderTools.find(t => t.tool.name === selectedBuilder);\r\n              if (tool) {\r\n                setTimeout(() => openBuilder(tool.tool.officialUrl, tool.tool.name), 1000);\r\n              }\r\n            }}\r\n            className=\"bg-gradient-to-r from-primary to-primary/80\"\r\n          >\r\n            <Zap className=\"h-4 w-4 mr-2\" />\r\n            Copy & Launch {selectedBuilder}\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"lg\"\r\n            onClick={() => downloadFile(exportContent, filename)}\r\n          >\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Download for Later\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExportablePromptsSystem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport {\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Smartphone,\r\n  Globe,\r\n  Zap,\r\n  Chrome,\r\n  Brain,\r\n  Palette,\r\n  Monitor,\r\n  Moon,\r\n  Sun,\r\n  Briefcase,\r\n  Smile,\r\n  Building,\r\n  Copy,\r\n  ExternalLink,\r\n  CheckCircle2,\r\n  ArrowRight,\r\n  Layers,\r\n  Link,\r\n  Sparkles,\r\n  Play\r\n} from \"lucide-react\";\r\nimport {\r\n  MVPWizardData,\r\n  AppType,\r\n  UITheme,\r\n  DesignStyle,\r\n  Platform,\r\n  MVPAnalysisResult,\r\n  PagePrompt,\r\n  BuilderTool\r\n} from \"@/types/ideaforge\";\r\nimport { aiProviderService } from \"@/services/aiProviderService\";\r\nimport { MVPPromptTemplateService, EnhancedWizardData } from \"@/services/mvpPromptTemplates\";\r\nimport { FrameworkGeneratorService, FrameworkGenerationRequest, GeneratedFramework } from \"@/services/frameworkGenerator\";\r\nimport PagePromptGenerator from \"./PagePromptGenerator\";\r\nimport ExportablePromptsSystem from \"./ExportablePromptsSystem\";\r\nimport { useAnalytics } from \"@/services/mvpStudioAnalytics\";\r\nimport { AIRequest } from \"@/types/aiProvider\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\n\r\ninterface MVPWizardProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onComplete: (result: MVPAnalysisResult) => void;\r\n}\r\n\r\nconst MVPWizard: React.FC<MVPWizardProps> = ({ isOpen, onClose, onComplete }) => {\r\n  const { toast } = useToast();\r\n  const { user } = useAuth();\r\n  const analytics = useAnalytics();\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [wizardData, setWizardData] = useState<MVPWizardData>({\r\n    step1: { appName: \"\", appType: \"web-app\" },\r\n    step2: { theme: \"dark\", designStyle: \"minimal\" },\r\n    step3: { platforms: [\"web\"] },\r\n    step4: { selectedAI: \"\" },\r\n    userPrompt: \"\"\r\n  });\r\n\r\n  // Enhanced wizard state for better UX\r\n  const [enhancedData, setEnhancedData] = useState({\r\n    description: \"\",\r\n    colorPreference: \"\",\r\n    targetAudience: \"\",\r\n    promptStyle: \"detailed\",\r\n    keyFeatures: [] as string[],\r\n    targetUsers: \"\",\r\n    currentStepValid: false\r\n  });\r\n\r\n  // Enhanced prompt-by-prompt state for sequential delivery\r\n  const [promptFlow, setPromptFlow] = useState<'setup' | 'framework' | 'pages' | 'linking' | 'complete'>('setup');\r\n  const [frameworkPrompt, setFrameworkPrompt] = useState<string>('');\r\n  const [pagePrompts, setPagePrompts] = useState<PagePrompt[]>([]);\r\n  const [linkingPrompt, setLinkingPrompt] = useState<string>('');\r\n  const [currentPageIndex, setCurrentPageIndex] = useState(0);\r\n  const [recommendedTools, setRecommendedTools] = useState<BuilderTool[]>([]);\r\n  const [generatedFramework, setGeneratedFramework] = useState<GeneratedFramework | null>(null);\r\n\r\n  // Sequential prompt delivery state\r\n  const [promptStage, setPromptStage] = useState<'framework' | 'page' | 'linking' | 'complete'>('framework');\r\n  const [completedPrompts, setCompletedPrompts] = useState<{\r\n    framework: boolean;\r\n    pages: boolean[];\r\n    linking: boolean;\r\n  }>({\r\n    framework: false,\r\n    pages: [],\r\n    linking: false\r\n  });\r\n  const [focusedPrompt, setFocusedPrompt] = useState<string>('');\r\n  const [promptHistory, setPromptHistory] = useState<Array<{\r\n    type: 'framework' | 'page' | 'linking';\r\n    title: string;\r\n    prompt: string;\r\n    timestamp: Date;\r\n    pageIndex?: number;\r\n  }>>([]);\r\n\r\n  const totalSteps = 5;\r\n  const progress = (currentStep / totalSteps) * 100;\r\n\r\n  // Enhanced step configuration\r\n  const stepConfig = [\r\n    {\r\n      id: 1,\r\n      title: \"Project Foundation\",\r\n      description: \"Define your app's core identity and purpose\",\r\n      icon: <Building className=\"h-5 w-5\" />,\r\n      fields: [\"appName\", \"appType\", \"description\"]\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Visual Identity\",\r\n      description: \"Choose your app's look and feel\",\r\n      icon: <Palette className=\"h-5 w-5\" />,\r\n      fields: [\"theme\", \"designStyle\", \"colorPreference\"]\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Platform Strategy\",\r\n      description: \"Select where your app will live\",\r\n      icon: <Globe className=\"h-5 w-5\" />,\r\n      fields: [\"platforms\", \"targetAudience\"]\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"AI Engine Setup\",\r\n      description: \"Choose your AI assistant for generation\",\r\n      icon: <Brain className=\"h-5 w-5\" />,\r\n      fields: [\"selectedAI\", \"promptStyle\"]\r\n    },\r\n    {\r\n      id: 5,\r\n      title: \"Vision & Requirements\",\r\n      description: \"Describe your complete app vision\",\r\n      icon: <Sparkles className=\"h-5 w-5\" />,\r\n      fields: [\"userPrompt\", \"keyFeatures\", \"targetUsers\"]\r\n    }\r\n  ];\r\n\r\n  const appTypes: { value: AppType; label: string; icon: React.ReactNode; description: string }[] = [\r\n    { value: \"web-app\", label: \"Web App\", icon: <Globe className=\"h-5 w-5\" />, description: \"Browser-based application\" },\r\n    { value: \"mobile-app\", label: \"Mobile App\", icon: <Smartphone className=\"h-5 w-5\" />, description: \"iOS/Android application\" },\r\n    { value: \"saas-tool\", label: \"SaaS Tool\", icon: <Zap className=\"h-5 w-5\" />, description: \"Software as a Service platform\" },\r\n    { value: \"chrome-extension\", label: \"Chrome Extension\", icon: <Chrome className=\"h-5 w-5\" />, description: \"Browser extension\" },\r\n    { value: \"ai-app\", label: \"AI App\", icon: <Brain className=\"h-5 w-5\" />, description: \"AI-powered application\" }\r\n  ];\r\n\r\n  const themes: { value: UITheme; label: string; icon: React.ReactNode }[] = [\r\n    { value: \"dark\", label: \"Dark\", icon: <Moon className=\"h-5 w-5\" /> },\r\n    { value: \"light\", label: \"Light\", icon: <Sun className=\"h-5 w-5\" /> }\r\n  ];\r\n\r\n  const designStyles: { value: DesignStyle; label: string; icon: React.ReactNode; description: string }[] = [\r\n    { value: \"minimal\", label: \"Minimal & Clean\", icon: <Monitor className=\"h-5 w-5\" />, description: \"Simple, focused design\" },\r\n    { value: \"playful\", label: \"Playful & Animated\", icon: <Smile className=\"h-5 w-5\" />, description: \"Fun, engaging interface\" },\r\n    { value: \"business\", label: \"Business & Professional\", icon: <Building className=\"h-5 w-5\" />, description: \"Corporate, formal look\" }\r\n  ];\r\n\r\n  const platforms: { value: Platform; label: string; description: string }[] = [\r\n    { value: \"web\", label: \"Web\", description: \"Browser-based\" },\r\n    { value: \"android\", label: \"Android\", description: \"Google Play Store\" },\r\n    { value: \"ios\", label: \"iOS\", description: \"Apple App Store\" },\r\n    { value: \"cross-platform\", label: \"Cross-platform\", description: \"Flutter/React Native\" }\r\n  ];\r\n\r\n  const builderTools: BuilderTool[] = [\r\n    {\r\n      name: \"Framer\",\r\n      type: \"web\",\r\n      description: \"AI-powered website builder with advanced design capabilities and animations\",\r\n      url: \"https://framer.com\",\r\n      openUrl: \"https://framer.com/projects/new\",\r\n      icon: \"🎨\",\r\n      bestFor: [\"Landing pages\", \"Web apps\", \"Portfolios\", \"Interactive prototypes\"]\r\n    },\r\n    {\r\n      name: \"FlutterFlow\",\r\n      type: \"mobile\",\r\n      description: \"Visual app builder for Flutter with Firebase integration and native performance\",\r\n      url: \"https://flutterflow.io\",\r\n      openUrl: \"https://app.flutterflow.io/create\",\r\n      icon: \"📱\",\r\n      bestFor: [\"Mobile apps\", \"Cross-platform\", \"Firebase apps\", \"Real-time features\"]\r\n    },\r\n    {\r\n      name: \"Webflow\",\r\n      type: \"web\",\r\n      description: \"Professional web design tool with CMS, hosting, and e-commerce capabilities\",\r\n      url: \"https://webflow.com\",\r\n      openUrl: \"https://webflow.com/dashboard/sites/new\",\r\n      icon: \"🌐\",\r\n      bestFor: [\"Professional websites\", \"CMS\", \"E-commerce\", \"SEO-optimized sites\"]\r\n    },\r\n    {\r\n      name: \"Bubble\",\r\n      type: \"web\",\r\n      description: \"Full-stack no-code platform for complex web applications with database\",\r\n      url: \"https://bubble.io\",\r\n      openUrl: \"https://bubble.io/build\",\r\n      icon: \"🫧\",\r\n      bestFor: [\"SaaS platforms\", \"Complex workflows\", \"Database-driven apps\", \"User authentication\"]\r\n    },\r\n    {\r\n      name: \"Glide\",\r\n      type: \"mobile\",\r\n      description: \"Turn spreadsheets into beautiful mobile apps with AI assistance\",\r\n      url: \"https://glideapps.com\",\r\n      openUrl: \"https://go.glideapps.com/\",\r\n      icon: \"✨\",\r\n      bestFor: [\"Data-driven apps\", \"Quick MVPs\", \"Internal tools\", \"Spreadsheet integration\"]\r\n    },\r\n    {\r\n      name: \"Adalo\",\r\n      type: \"mobile\",\r\n      description: \"Native mobile app builder with custom actions and integrations\",\r\n      url: \"https://adalo.com\",\r\n      openUrl: \"https://app.adalo.com/apps/new\",\r\n      icon: \"📲\",\r\n      bestFor: [\"Native mobile apps\", \"Custom actions\", \"Third-party integrations\", \"Marketplace apps\"]\r\n    },\r\n    {\r\n      name: \"Softr\",\r\n      type: \"web\",\r\n      description: \"Build web apps from Airtable with pre-built blocks and templates\",\r\n      url: \"https://softr.io\",\r\n      openUrl: \"https://studio.softr.io/\",\r\n      icon: \"🧱\",\r\n      bestFor: [\"Airtable integration\", \"Client portals\", \"Internal tools\", \"Directory sites\"]\r\n    },\r\n    {\r\n      name: \"Retool\",\r\n      type: \"web\",\r\n      description: \"Build internal tools and admin panels with drag-and-drop components\",\r\n      url: \"https://retool.com\",\r\n      openUrl: \"https://retool.com/products/apps\",\r\n      icon: \"🔧\",\r\n      bestFor: [\"Internal tools\", \"Admin panels\", \"Data dashboards\", \"CRUD operations\"]\r\n    },\r\n    {\r\n      name: \"Figma + Dev Mode\",\r\n      type: \"web\",\r\n      description: \"Design in Figma and use Dev Mode for handoff to developers\",\r\n      url: \"https://figma.com\",\r\n      openUrl: \"https://figma.com/files/recent\",\r\n      icon: \"🎯\",\r\n      bestFor: [\"Design handoff\", \"Prototyping\", \"Design systems\", \"Developer collaboration\"]\r\n    }\r\n  ];\r\n\r\n  // Enhanced prompt generation functions\r\n  const generateFrameworkPrompt = (data: MVPWizardData): string => {\r\n    const { step1, step2, step3, userPrompt } = data;\r\n    const platformText = step3.platforms.join(\", \");\r\n\r\n    return `You are an expert app designer and UX architect. I want to build a ${step1.appType.replace('-', ' ')} called \"${step1.appName}\" for ${platformText} platform(s).\r\n\r\n**Project Vision:**\r\n${userPrompt}\r\n\r\n${enhancedData.description ? `**Additional Context:**\r\n${enhancedData.description}` : ''}\r\n\r\n**Design Requirements:**\r\n- Theme: ${step2.theme} mode\r\n- Design Style: ${step2.designStyle}\r\n- Target Platform(s): ${platformText}\r\n${enhancedData.colorPreference ? `- Color Preference: ${enhancedData.colorPreference}` : ''}\r\n${enhancedData.targetAudience ? `- Target Audience: ${enhancedData.targetAudience}` : ''}\r\n${enhancedData.targetUsers ? `- Target Users: ${enhancedData.targetUsers}` : ''}\r\n${enhancedData.keyFeatures.length > 0 ? `- Key Features: ${enhancedData.keyFeatures.join(', ')}` : ''}\r\n\r\n**Prompt Style:** ${enhancedData.promptStyle === 'detailed' ? 'Provide comprehensive, detailed analysis' : 'Keep analysis concise and focused'}\r\n\r\n**Please create a complete framework including:**\r\n\r\n1. **Page Structure** (5-8 pages maximum):\r\n   - Page name and purpose\r\n   - Key components needed\r\n   - Layout type (sidebar, vertical, centered, etc.)\r\n   - User interactions\r\n\r\n2. **Navigation Flow:**\r\n   - Navigation type (sidebar, tabs, bottom nav, etc.)\r\n   - Page hierarchy and relationships\r\n   - User journey mapping\r\n\r\n3. **Technical Recommendations:**\r\n   - Best tech stack for this type of app\r\n   - Recommended no-code/AI builders\r\n   - Integration requirements\r\n\r\n4. **User Experience:**\r\n   - Primary user actions\r\n   - Key user flows\r\n   - Success metrics\r\n\r\n**Output Format:**\r\nProvide a structured JSON response with:\r\n\\`\\`\\`json\r\n{\r\n  \"pages\": [{\"name\": \"\", \"description\": \"\", \"components\": [], \"layout\": \"\", \"interactions\": []}],\r\n  \"navigation\": {\"type\": \"\", \"structure\": [], \"userFlow\": []},\r\n  \"techStack\": {\"recommended\": \"\", \"alternatives\": []},\r\n  \"builderTools\": [{\"name\": \"\", \"reason\": \"\", \"bestFor\": []}],\r\n  \"userJourney\": [\"step1\", \"step2\", \"...\"],\r\n  \"keyFeatures\": [\"feature1\", \"feature2\", \"...\"]\r\n}\r\n\\`\\`\\``;\r\n  };\r\n\r\n  const generatePagePrompt = (pageName: string, pageData: unknown, data: MVPWizardData): string => {\r\n    const platformSpecific = data.step3.platforms.includes('web') ?\r\n      'Include responsive design for mobile, tablet, and desktop viewports.' :\r\n      (data.step3.platforms.includes('android') || data.step3.platforms.includes('ios')) ?\r\n      'Focus on mobile-first design with touch-friendly interactions.' :\r\n      'Optimize for the target platform requirements.';\r\n\r\n    return `Design the complete UI for the \"${pageName}\" page of \"${data.step1.appName}\".\r\n\r\n**Design Specifications:**\r\n- Theme: ${data.step2.theme} mode with ${data.step2.designStyle} aesthetic\r\n- App Type: ${data.step1.appType.replace('-', ' ')}\r\n- Platform: ${data.step3.platforms.join(', ')}\r\n\r\n**Page Details:**\r\n- Purpose: ${(pageData as any)?.description || 'Not specified'}\r\n- Layout Style: ${(pageData as any)?.layout || 'Not specified'}\r\n- Key Components: ${(pageData as any)?.components?.join(', ') || 'Not specified'}\r\n\r\n**Design Requirements:**\r\n1. **Layout & Structure:**\r\n   - Component hierarchy and positioning\r\n   - Spacing and grid system\r\n   - ${platformSpecific}\r\n\r\n2. **Visual Design:**\r\n   - Color scheme for ${data.step2.theme} theme\r\n   - Typography and font sizes\r\n   - Icons and visual elements\r\n   - ${data.step2.designStyle} design patterns\r\n\r\n3. **Interactions & Animations:**\r\n   - Button states and hover effects\r\n   - Loading states and feedback\r\n   - Micro-interactions and transitions\r\n   - User flow within the page\r\n\r\n4. **Content Structure:**\r\n   - Placeholder text and copy\r\n   - Image placeholders and sizes\r\n   - Data display patterns\r\n\r\n**Output for AI Builder:**\r\nProvide a detailed, copy-paste ready prompt that includes:\r\n- Exact component descriptions\r\n- Styling specifications\r\n- Layout instructions\r\n- Interactive behavior\r\n- Responsive considerations\r\n\r\nFormat this as a comprehensive prompt that can be directly used in tools like Framer, FlutterFlow, Webflow, or other AI builders.`;\r\n  };\r\n\r\n  const generateLinkingPrompt = (pages: unknown[], data: MVPWizardData): string => {\r\n    const pageNames = pages.map(p => (p as any)?.pageName || 'Untitled').join(', ');\r\n    const appType = data.step1.appType.replace('-', ' ');\r\n\r\n    return `Create the complete navigation and linking system for \"${data.step1.appName}\" (${appType}).\r\n\r\n**Pages to Connect:**\r\n${pageNames}\r\n\r\n**Navigation Requirements:**\r\n\r\n1. **Navigation Structure:**\r\n   - Primary navigation method (sidebar, tabs, bottom nav, header menu)\r\n   - Secondary navigation patterns\r\n   - Breadcrumb requirements\r\n   - Back button behavior\r\n\r\n2. **Routing & Paths:**\r\n   - URL structure and routing paths\r\n   - Deep linking capabilities\r\n   - Route parameters and dynamic routes\r\n   - Default/home page routing\r\n\r\n3. **User Flow Logic:**\r\n   - Authentication-gated pages\r\n   - Onboarding flow sequence\r\n   - Error page handling (404, 500)\r\n   - Loading states between pages\r\n\r\n4. **Platform-Specific Navigation:**\r\n   ${data.step3.platforms.includes('web') ?\r\n     '- Browser navigation (back/forward buttons)\\n   - URL sharing and bookmarking\\n   - Tab management' :\r\n     '- Mobile navigation patterns\\n   - Gesture-based navigation\\n   - Hardware back button handling'}\r\n\r\n5. **State Management:**\r\n   - Navigation state persistence\r\n   - User context across pages\r\n   - Data passing between pages\r\n   - Session management\r\n\r\n**Builder Implementation:**\r\nProvide specific instructions for implementing this navigation in:\r\n- Route configuration code/settings\r\n- Navigation component setup\r\n- State management setup\r\n- Conditional rendering logic\r\n\r\n**Output Format:**\r\nStructure this as actionable implementation steps that can be directly applied in no-code builders like FlutterFlow, Framer, or traditional development frameworks.`;\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentStep < totalSteps) {\r\n      setCurrentStep(currentStep + 1);\r\n    } else {\r\n      handleStartPromptFlow();\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentStep > 1) {\r\n      setCurrentStep(currentStep - 1);\r\n    }\r\n  };\r\n\r\n  const handleStartPromptFlow = () => {\r\n    setPromptFlow('framework');\r\n    toast({\r\n      title: \"Starting Prompt Flow\",\r\n      description: \"Let's build your MVP step by step!\"\r\n    });\r\n  };\r\n\r\n  const handleGenerateFramework = async () => {\r\n    setIsGenerating(true);\r\n    const startTime = Date.now();\r\n\r\n    try {\r\n      // Create framework generation request\r\n      const frameworkRequest: FrameworkGenerationRequest = {\r\n        appName: wizardData.step1.appName,\r\n        appType: wizardData.step1.appType,\r\n        description: enhancedData.description,\r\n        platforms: wizardData.step3.platforms,\r\n        theme: wizardData.step2.theme,\r\n        designStyle: wizardData.step2.designStyle,\r\n        targetAudience: enhancedData.targetAudience,\r\n        keyFeatures: enhancedData.keyFeatures,\r\n        complexity: enhancedData.keyFeatures.length > 5 ? 'complex' :\r\n                   enhancedData.keyFeatures.length > 2 ? 'medium' : 'simple'\r\n      };\r\n\r\n      // Generate comprehensive framework\r\n      const framework = await FrameworkGeneratorService.generateFramework(frameworkRequest);\r\n      setGeneratedFramework(framework);\r\n\r\n      // Set the generated prompts\r\n      setFrameworkPrompt(framework.prompts.framework);\r\n      setPagePrompts(framework.prompts.pages);\r\n      setLinkingPrompt(framework.prompts.linking);\r\n\r\n      // Initialize sequential prompt delivery state\r\n      setCompletedPrompts({\r\n        framework: true,\r\n        pages: new Array(framework.prompts.pages.length).fill(false),\r\n        linking: false\r\n      });\r\n\r\n      // Add framework prompt to history\r\n      setPromptHistory(prev => [...prev, {\r\n        type: 'framework',\r\n        title: 'Project Framework',\r\n        prompt: framework.prompts.framework,\r\n        timestamp: new Date()\r\n      }]);\r\n\r\n      // Set focused prompt for sequential delivery\r\n      setFocusedPrompt(framework.prompts.framework);\r\n      setPromptStage('framework');\r\n\r\n      // Set recommended tools from framework\r\n      const toolsForRecommendation: BuilderTool[] = framework.builderTools.map(bt => ({\r\n        name: bt.tool.name,\r\n        type: (wizardData.step1.appType === 'mobile-app' ? 'mobile' : 'web') as 'web' | 'mobile' | 'cross-platform',\r\n        description: bt.tool.description,\r\n        url: bt.tool.officialUrl,\r\n        openUrl: bt.tool.officialUrl,\r\n        icon: \"🛠️\",\r\n        bestFor: bt.tool.bestFor\r\n      }));\r\n      setRecommendedTools(toolsForRecommendation);\r\n\r\n      // Track successful framework generation\r\n      analytics.trackFrameworkGeneration(\r\n        wizardData.step1.appType,\r\n        frameworkRequest.complexity,\r\n        startTime,\r\n        true\r\n      );\r\n\r\n      // Track tool recommendations\r\n      analytics.trackToolRecommendation(\r\n        wizardData.step1.appType,\r\n        framework.builderTools.map(bt => bt.tool.name)\r\n      );\r\n\r\n      setPromptFlow('pages');\r\n      toast({\r\n        title: \"🚀 Framework Generated!\",\r\n        description: `Created ${framework.pages.length} pages with ${framework.builderTools.length} tool recommendations. Ready for page-by-page prompts!`\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Framework generation error:\", error);\r\n\r\n      // Track failed framework generation\r\n      analytics.trackFrameworkGeneration(\r\n        wizardData.step1.appType,\r\n        enhancedData.keyFeatures.length > 5 ? 'complex' :\r\n        enhancedData.keyFeatures.length > 2 ? 'medium' : 'simple',\r\n        startTime,\r\n        false,\r\n        error instanceof Error ? (error as Error).message : 'Unknown error'\r\n      );\r\n\r\n      toast({\r\n        title: \"Generation Failed\",\r\n        description: \"Failed to generate framework. Please try again.\",\r\n        variant: \"destructive\"\r\n      });\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  // Sequential prompt flow handlers\r\n  const handleNextPrompt = () => {\r\n    if (promptStage === 'framework') {\r\n      // Move to first page prompt\r\n      setPromptStage('page');\r\n      setCurrentPageIndex(0);\r\n      if (pagePrompts.length > 0) {\r\n        setFocusedPrompt(pagePrompts[0].prompt);\r\n        // Add page prompt to history\r\n        setPromptHistory(prev => [...prev, {\r\n          type: 'page',\r\n          title: pagePrompts[0].pageName,\r\n          prompt: pagePrompts[0].prompt,\r\n          timestamp: new Date(),\r\n          pageIndex: 0\r\n        }]);\r\n      }\r\n    } else if (promptStage === 'page') {\r\n      const nextPageIndex = currentPageIndex + 1;\r\n      if (nextPageIndex < pagePrompts.length) {\r\n        // Move to next page\r\n        setCurrentPageIndex(nextPageIndex);\r\n        setFocusedPrompt(pagePrompts[nextPageIndex].prompt);\r\n        // Mark current page as completed\r\n        const updatedCompleted = { ...completedPrompts };\r\n        updatedCompleted.pages[currentPageIndex] = true;\r\n        setCompletedPrompts(updatedCompleted);\r\n        // Add page prompt to history\r\n        setPromptHistory(prev => [...prev, {\r\n          type: 'page',\r\n          title: pagePrompts[nextPageIndex].pageName,\r\n          prompt: pagePrompts[nextPageIndex].prompt,\r\n          timestamp: new Date(),\r\n          pageIndex: nextPageIndex\r\n        }]);\r\n      } else {\r\n        // Move to linking stage\r\n        setPromptStage('linking');\r\n        setFocusedPrompt(linkingPrompt);\r\n        // Mark last page as completed\r\n        const updatedCompleted = { ...completedPrompts };\r\n        updatedCompleted.pages[currentPageIndex] = true;\r\n        setCompletedPrompts(updatedCompleted);\r\n        // Add linking prompt to history\r\n        setPromptHistory(prev => [...prev, {\r\n          type: 'linking',\r\n          title: 'Navigation & Linking',\r\n          prompt: linkingPrompt,\r\n          timestamp: new Date()\r\n        }]);\r\n      }\r\n    } else if (promptStage === 'linking') {\r\n      // Complete the flow\r\n      setPromptStage('complete');\r\n      const updatedCompleted = { ...completedPrompts };\r\n      updatedCompleted.linking = true;\r\n      setCompletedPrompts(updatedCompleted);\r\n    }\r\n  };\r\n\r\n  const handlePreviousPrompt = () => {\r\n    if (promptStage === 'page' && currentPageIndex > 0) {\r\n      const prevPageIndex = currentPageIndex - 1;\r\n      setCurrentPageIndex(prevPageIndex);\r\n      setFocusedPrompt(pagePrompts[prevPageIndex].prompt);\r\n    } else if (promptStage === 'page' && currentPageIndex === 0) {\r\n      setPromptStage('framework');\r\n      setFocusedPrompt(frameworkPrompt);\r\n    } else if (promptStage === 'linking') {\r\n      setPromptStage('page');\r\n      setCurrentPageIndex(pagePrompts.length - 1);\r\n      setFocusedPrompt(pagePrompts[pagePrompts.length - 1].prompt);\r\n    }\r\n  };\r\n\r\n  const handleGeneratePagePrompt = (pageIndex: number) => {\r\n    const updatedPrompts = [...pagePrompts];\r\n    updatedPrompts[pageIndex].generated = true;\r\n    setPagePrompts(updatedPrompts);\r\n\r\n    toast({\r\n      title: \"Page Prompt Ready!\",\r\n      description: `UI prompt for ${updatedPrompts[pageIndex].pageName} is ready to copy.`\r\n    });\r\n  };\r\n\r\n  const handleGenerateLinking = () => {\r\n    // Use enhanced template system for navigation\r\n    const prompt = MVPPromptTemplateService.generateNavigationPrompt(\r\n      pagePrompts,\r\n      wizardData,\r\n      'sidebar', // Default navigation type - could be dynamic based on app type\r\n      recommendedTools[0]?.name.toLowerCase() || 'framer'\r\n    );\r\n    setLinkingPrompt(prompt);\r\n    setPromptFlow('linking');\r\n\r\n    toast({\r\n      title: \"Navigation Prompt Generated!\",\r\n      description: \"Your comprehensive navigation and linking prompt is ready with builder-specific instructions.\"\r\n    });\r\n  };\r\n\r\n  const handleComplete = () => {\r\n    const result: MVPAnalysisResult = {\r\n      pages: pagePrompts.map(p => ({\r\n        name: p.pageName,\r\n        description: `${p.pageName} page`,\r\n        components: p.components,\r\n        layout: p.layout\r\n      })),\r\n      navigation: { type: \"sidebar\", structure: pagePrompts.map(p => ({ name: p.pageName })) },\r\n      components: [],\r\n      styling: {\r\n        theme: wizardData.step2.theme,\r\n        designStyle: wizardData.step2.designStyle,\r\n        colorScheme: [\"#000000\", \"#ffffff\", \"#22c55e\"],\r\n        typography: \"Inter, sans-serif\",\r\n        spacing: \"8px grid system\"\r\n      },\r\n      recommendedTools: recommendedTools.map(tool => ({\r\n        name: tool.name,\r\n        description: tool.description,\r\n        pros: tool.bestFor,\r\n        cons: [],\r\n        bestFor: tool.bestFor,\r\n        pricing: \"freemium\",\r\n        url: tool.url,\r\n        priority: 1\r\n      })),\r\n      uiPrompt: frameworkPrompt,\r\n      launchPath: [],\r\n      frameworkPrompt,\r\n      pagePrompts,\r\n      linkingPrompt,\r\n      currentStep: 'complete'\r\n    };\r\n\r\n    onComplete(result);\r\n    onClose();\r\n\r\n    toast({\r\n      title: \"MVP Blueprint Complete!\",\r\n      description: \"Your step-by-step prompts are ready to use with AI builders.\"\r\n    });\r\n  };\r\n\r\n  const copyToClipboard = (text: string, label: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    toast({\r\n      title: \"Copied!\",\r\n      description: `${label} copied to clipboard. Ready to paste into your AI builder!`\r\n    });\r\n  };\r\n\r\n  const getCurrentPromptTitle = () => {\r\n    if (promptStage === 'framework') return 'Project Framework';\r\n    if (promptStage === 'page') return `${pagePrompts[currentPageIndex]?.pageName || 'Page'} UI`;\r\n    if (promptStage === 'linking') return 'Navigation & Linking';\r\n    return 'Complete';\r\n  };\r\n\r\n  const getCurrentPromptDescription = () => {\r\n    if (promptStage === 'framework') return 'Copy this prompt to generate your app structure and page list';\r\n    if (promptStage === 'page') return `Copy this prompt to generate the UI for ${pagePrompts[currentPageIndex]?.pageName || 'this page'}`;\r\n    if (promptStage === 'linking') return 'Copy this prompt to generate navigation and routing logic';\r\n    return 'All prompts generated successfully!';\r\n  };\r\n\r\n  const getRecommendedBuilderForCurrentPrompt = () => {\r\n    if (recommendedTools.length === 0) return null;\r\n\r\n    // Return the most suitable tool based on current stage\r\n    if (promptStage === 'framework') {\r\n      return recommendedTools.find(tool =>\r\n        tool.name.toLowerCase().includes('framer') ||\r\n        tool.name.toLowerCase().includes('figma')\r\n      ) || recommendedTools[0];\r\n    }\r\n\r\n    if (promptStage === 'page') {\r\n      return recommendedTools.find(tool =>\r\n        tool.name.toLowerCase().includes('flutterflow') ||\r\n        tool.name.toLowerCase().includes('framer')\r\n      ) || recommendedTools[0];\r\n    }\r\n\r\n    return recommendedTools[0];\r\n  };\r\n\r\n  const openInBuilder = (tool: BuilderTool) => {\r\n    if (tool.openUrl) {\r\n      window.open(tool.openUrl, '_blank');\r\n      toast({\r\n        title: `Opening ${tool.name}`,\r\n        description: \"Paste your prompts to start building!\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const canProceed = () => {\r\n    switch (currentStep) {\r\n      case 1:\r\n        return wizardData.step1.appName.trim().length > 0 &&\r\n               wizardData.step1.appType.length > 0;\r\n      case 2:\r\n        return wizardData.step2.theme.length > 0 &&\r\n               wizardData.step2.designStyle.length > 0;\r\n      case 3:\r\n        return wizardData.step3.platforms.length > 0;\r\n      case 4:\r\n        return wizardData.step4.selectedAI.length > 0;\r\n      case 5:\r\n        return wizardData.userPrompt.trim().length > 20; // Minimum meaningful description\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  // Enhanced validation with helpful feedback\r\n  const getStepValidationMessage = () => {\r\n    switch (currentStep) {\r\n      case 1:\r\n        if (!wizardData.step1.appName.trim()) return \"Please enter your app name\";\r\n        if (!wizardData.step1.appType) return \"Please select an app type\";\r\n        return \"\";\r\n      case 2:\r\n        return \"\";\r\n      case 3:\r\n        if (wizardData.step3.platforms.length === 0) return \"Please select at least one platform\";\r\n        return \"\";\r\n      case 4:\r\n        if (!wizardData.step4.selectedAI) return \"Please select an AI engine\";\r\n        return \"\";\r\n      case 5:\r\n        if (wizardData.userPrompt.trim().length < 20) return \"Please provide a more detailed description (at least 20 characters)\";\r\n        return \"\";\r\n      default:\r\n        return \"\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-4xl max-h-[90vh] overflow-y-auto workspace-card-solid\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Brain className=\"h-5 w-5 text-primary\" />\r\n            {promptFlow === 'setup' ? (\r\n              <div className=\"flex flex-col\">\r\n                <span>AI MVP Wizard</span>\r\n                <span className=\"text-sm font-normal text-muted-foreground\">\r\n                  {stepConfig[currentStep - 1]?.title} - Step {currentStep} of {totalSteps}\r\n                </span>\r\n              </div>\r\n            ) : promptFlow === 'framework' ? 'Generate Project Framework' :\r\n             promptFlow === 'pages' ? 'Generate Page UI Prompts' :\r\n             promptFlow === 'linking' ? 'Generate Navigation & Linking' : 'MVP Blueprint Complete'}\r\n          </DialogTitle>\r\n          {promptFlow === 'setup' && (\r\n            <div className=\"space-y-2\">\r\n              <Progress value={progress} className=\"w-full\" />\r\n              <p className=\"text-sm text-muted-foreground text-center\">\r\n                {stepConfig[currentStep - 1]?.description}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </DialogHeader>\r\n\r\n        <div className=\"py-6\">\r\n          {/* Setup Flow */}\r\n          {promptFlow === 'setup' && (\r\n            <div>\r\n          {/* Step 1: Project Foundation */}\r\n          {currentStep === 1 && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"text-center mb-6\">\r\n                <div className=\"flex items-center justify-center mb-3\">\r\n                  {stepConfig[0].icon}\r\n                  <h3 className=\"text-lg font-semibold ml-2\">{stepConfig[0].title}</h3>\r\n                </div>\r\n                <p className=\"text-muted-foreground\">{stepConfig[0].description}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                <div>\r\n                  <Label htmlFor=\"app-name\" className=\"text-base font-medium\">App Name *</Label>\r\n                  <Input\r\n                    id=\"app-name\"\r\n                    placeholder=\"e.g., TaskMaster, FoodieHub, StudyBuddy\"\r\n                    value={wizardData.step1.appName}\r\n                    onChange={(e) => setWizardData({\r\n                      ...wizardData,\r\n                      step1: { ...wizardData.step1, appName: e.target.value }\r\n                    })}\r\n                    className=\"mt-2\"\r\n                  />\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">Choose a memorable name for your app</p>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label className=\"text-base font-medium\">What type of app are you building? *</Label>\r\n                  <RadioGroup\r\n                    value={wizardData.step1.appType}\r\n                    onValueChange={(value: AppType) => setWizardData({\r\n                      ...wizardData,\r\n                      step1: { ...wizardData.step1, appType: value }\r\n                    })}\r\n                    className=\"grid grid-cols-1 gap-3 mt-3\"\r\n                  >\r\n                    {appTypes.map((type) => (\r\n                      <div key={type.value} className=\"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 transition-colors\">\r\n                        <RadioGroupItem value={type.value} id={type.value} />\r\n                        <Label htmlFor={type.value} className=\"flex items-center gap-3 cursor-pointer flex-1\">\r\n                          <div className=\"p-2 bg-primary/10 rounded-md\">\r\n                            {type.icon}\r\n                          </div>\r\n                          <div>\r\n                            <div className=\"font-medium\">{type.label}</div>\r\n                            <div className=\"text-sm text-muted-foreground\">{type.description}</div>\r\n                          </div>\r\n                        </Label>\r\n                      </div>\r\n                    ))}\r\n                  </RadioGroup>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"app-description\" className=\"text-base font-medium\">Brief Description (Optional)</Label>\r\n                  <Textarea\r\n                    id=\"app-description\"\r\n                    placeholder=\"A quick summary of what your app does...\"\r\n                    value={enhancedData.description}\r\n                    onChange={(e) => setEnhancedData({\r\n                      ...enhancedData,\r\n                      description: e.target.value\r\n                    })}\r\n                    className=\"mt-2\"\r\n                    rows={3}\r\n                  />\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">This helps us understand your app better</p>\r\n                </div>\r\n\r\n                {/* Validation message */}\r\n                {getStepValidationMessage() && (\r\n                  <div className=\"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\">\r\n                    <p className=\"text-sm text-yellow-600 dark:text-yellow-400\">\r\n                      {getStepValidationMessage()}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 2: Visual Identity */}\r\n          {currentStep === 2 && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"text-center mb-6\">\r\n                <div className=\"flex items-center justify-center mb-3\">\r\n                  {stepConfig[1].icon}\r\n                  <h3 className=\"text-lg font-semibold ml-2\">{stepConfig[1].title}</h3>\r\n                </div>\r\n                <p className=\"text-muted-foreground\">{stepConfig[1].description}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                <div>\r\n                  <Label className=\"text-base font-medium\">Theme Preference</Label>\r\n                  <RadioGroup\r\n                    value={wizardData.step2.theme}\r\n                    onValueChange={(value: UITheme) => setWizardData({\r\n                      ...wizardData,\r\n                      step2: { ...wizardData.step2, theme: value }\r\n                    })}\r\n                    className=\"grid grid-cols-2 gap-4 mt-3\"\r\n                  >\r\n                    {themes.map((theme) => (\r\n                      <div key={theme.value} className=\"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors\">\r\n                        <RadioGroupItem value={theme.value} id={`theme-${theme.value}`} />\r\n                        <Label htmlFor={`theme-${theme.value}`} className=\"flex items-center gap-3 cursor-pointer flex-1\">\r\n                          <div className=\"p-2 bg-primary/10 rounded-md\">\r\n                            {theme.icon}\r\n                          </div>\r\n                          <div className=\"font-medium\">{theme.label}</div>\r\n                        </Label>\r\n                      </div>\r\n                    ))}\r\n                  </RadioGroup>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label className=\"text-base font-medium\">Design Style</Label>\r\n                  <RadioGroup\r\n                    value={wizardData.step2.designStyle}\r\n                    onValueChange={(value: DesignStyle) => setWizardData({\r\n                      ...wizardData,\r\n                      step2: { ...wizardData.step2, designStyle: value }\r\n                    })}\r\n                    className=\"grid grid-cols-1 gap-3 mt-3\"\r\n                  >\r\n                    {designStyles.map((style) => (\r\n                      <div key={style.value} className=\"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors\">\r\n                        <RadioGroupItem value={style.value} id={`style-${style.value}`} />\r\n                        <Label htmlFor={`style-${style.value}`} className=\"flex items-center gap-3 cursor-pointer flex-1\">\r\n                          <div className=\"p-2 bg-primary/10 rounded-md\">\r\n                            {style.icon}\r\n                          </div>\r\n                          <div>\r\n                            <div className=\"font-medium\">{style.label}</div>\r\n                            <div className=\"text-sm text-muted-foreground\">{style.description}</div>\r\n                          </div>\r\n                        </Label>\r\n                      </div>\r\n                    ))}\r\n                  </RadioGroup>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"color-preference\" className=\"text-base font-medium\">Color Preference (Optional)</Label>\r\n                  <Input\r\n                    id=\"color-preference\"\r\n                    placeholder=\"e.g., Blue and white, Warm earth tones, Vibrant and colorful\"\r\n                    value={enhancedData.colorPreference}\r\n                    onChange={(e) => setEnhancedData({\r\n                      ...enhancedData,\r\n                      colorPreference: e.target.value\r\n                    })}\r\n                    className=\"mt-2\"\r\n                  />\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">Describe your preferred color scheme</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 3: Platform Strategy */}\r\n          {currentStep === 3 && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"text-center mb-6\">\r\n                <div className=\"flex items-center justify-center mb-3\">\r\n                  {stepConfig[2].icon}\r\n                  <h3 className=\"text-lg font-semibold ml-2\">{stepConfig[2].title}</h3>\r\n                </div>\r\n                <p className=\"text-muted-foreground\">{stepConfig[2].description}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                <div>\r\n                  <Label className=\"text-base font-medium\">Where will your app be available? *</Label>\r\n                  <p className=\"text-sm text-muted-foreground mb-3\">Select all platforms you want to target</p>\r\n                  <div className=\"grid grid-cols-1 gap-3\">\r\n                    {platforms.map((platform) => (\r\n                      <div key={platform.value} className=\"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors\">\r\n                        <Checkbox\r\n                          id={`platform-${platform.value}`}\r\n                          checked={wizardData.step3.platforms.includes(platform.value)}\r\n                          onCheckedChange={(checked) => {\r\n                            const currentPlatforms = wizardData.step3.platforms;\r\n                            const newPlatforms = checked\r\n                              ? [...currentPlatforms, platform.value]\r\n                              : currentPlatforms.filter(p => p !== platform.value);\r\n                            setWizardData({\r\n                              ...wizardData,\r\n                              step3: { ...wizardData.step3, platforms: newPlatforms }\r\n                            });\r\n                          }}\r\n                        />\r\n                        <Label htmlFor={`platform-${platform.value}`} className=\"cursor-pointer flex-1\">\r\n                          <div>\r\n                            <div className=\"font-medium\">{platform.label}</div>\r\n                            <div className=\"text-sm text-muted-foreground\">{platform.description}</div>\r\n                          </div>\r\n                        </Label>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"target-audience\" className=\"text-base font-medium\">Target Audience (Optional)</Label>\r\n                  <Input\r\n                    id=\"target-audience\"\r\n                    placeholder=\"e.g., Small business owners, College students, Fitness enthusiasts\"\r\n                    value={enhancedData.targetAudience}\r\n                    onChange={(e) => setEnhancedData({\r\n                      ...enhancedData,\r\n                      targetAudience: e.target.value\r\n                    })}\r\n                    className=\"mt-2\"\r\n                  />\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">Who is your primary user?</p>\r\n                </div>\r\n\r\n                {/* Validation message */}\r\n                {getStepValidationMessage() && (\r\n                  <div className=\"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\">\r\n                    <p className=\"text-sm text-yellow-600 dark:text-yellow-400\">\r\n                      {getStepValidationMessage()}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 4: AI Engine Setup */}\r\n          {currentStep === 4 && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"text-center mb-6\">\r\n                <div className=\"flex items-center justify-center mb-3\">\r\n                  {stepConfig[3].icon}\r\n                  <h3 className=\"text-lg font-semibold ml-2\">{stepConfig[3].title}</h3>\r\n                </div>\r\n                <p className=\"text-muted-foreground\">{stepConfig[3].description}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                <div>\r\n                  <Label className=\"text-base font-medium\">Choose your AI assistant *</Label>\r\n                  <p className=\"text-sm text-muted-foreground mb-4\">\r\n                    Select the AI engine that will generate your MVP blueprint\r\n                  </p>\r\n                  <RadioGroup\r\n                    value={wizardData.step4.selectedAI}\r\n                    onValueChange={(value) => setWizardData({\r\n                      ...wizardData,\r\n                      step4: { ...wizardData.step4, selectedAI: value }\r\n                    })}\r\n                    className=\"grid grid-cols-1 gap-3\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors\">\r\n                      <RadioGroupItem value=\"openai\" id=\"ai-openai\" />\r\n                      <Label htmlFor=\"ai-openai\" className=\"flex items-center gap-3 cursor-pointer flex-1\">\r\n                        <div className=\"h-10 w-10 rounded-lg bg-green-500/20 flex items-center justify-center\">\r\n                          <Brain className=\"h-5 w-5 text-green-400\" />\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium\">OpenAI GPT-4</div>\r\n                          <div className=\"text-sm text-muted-foreground\">Most versatile for MVP planning and creative solutions</div>\r\n                        </div>\r\n                      </Label>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors\">\r\n                      <RadioGroupItem value=\"gemini\" id=\"ai-gemini\" />\r\n                      <Label htmlFor=\"ai-gemini\" className=\"flex items-center gap-3 cursor-pointer flex-1\">\r\n                        <div className=\"h-10 w-10 rounded-lg bg-blue-500/20 flex items-center justify-center\">\r\n                          <Brain className=\"h-5 w-5 text-blue-400\" />\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium\">Google Gemini</div>\r\n                          <div className=\"text-sm text-muted-foreground\">Great for technical analysis and data processing</div>\r\n                        </div>\r\n                      </Label>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors\">\r\n                      <RadioGroupItem value=\"claude\" id=\"ai-claude\" />\r\n                      <Label htmlFor=\"ai-claude\" className=\"flex items-center gap-3 cursor-pointer flex-1\">\r\n                        <div className=\"h-10 w-10 rounded-lg bg-purple-500/20 flex items-center justify-center\">\r\n                          <Brain className=\"h-5 w-5 text-purple-400\" />\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium\">Claude</div>\r\n                          <div className=\"text-sm text-muted-foreground\">Excellent for detailed planning and thorough analysis</div>\r\n                        </div>\r\n                      </Label>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center space-x-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors\">\r\n                      <RadioGroupItem value=\"deepseek\" id=\"ai-deepseek\" />\r\n                      <Label htmlFor=\"ai-deepseek\" className=\"flex items-center gap-3 cursor-pointer flex-1\">\r\n                        <div className=\"h-10 w-10 rounded-lg bg-orange-500/20 flex items-center justify-center\">\r\n                          <Brain className=\"h-5 w-5 text-orange-400\" />\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium\">DeepSeek</div>\r\n                          <div className=\"text-sm text-muted-foreground\">Cost-effective option with strong coding capabilities</div>\r\n                        </div>\r\n                      </Label>\r\n                    </div>\r\n                  </RadioGroup>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label className=\"text-base font-medium\">Prompt Style</Label>\r\n                  <RadioGroup\r\n                    value={enhancedData.promptStyle}\r\n                    onValueChange={(value) => setEnhancedData({\r\n                      ...enhancedData,\r\n                      promptStyle: value\r\n                    })}\r\n                    className=\"grid grid-cols-2 gap-3 mt-3\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-2 p-3 border rounded-lg\">\r\n                      <RadioGroupItem value=\"detailed\" id=\"style-detailed\" />\r\n                      <Label htmlFor=\"style-detailed\" className=\"cursor-pointer\">\r\n                        <div className=\"font-medium\">Detailed</div>\r\n                        <div className=\"text-xs text-muted-foreground\">Comprehensive prompts</div>\r\n                      </Label>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2 p-3 border rounded-lg\">\r\n                      <RadioGroupItem value=\"concise\" id=\"style-concise\" />\r\n                      <Label htmlFor=\"style-concise\" className=\"cursor-pointer\">\r\n                        <div className=\"font-medium\">Concise</div>\r\n                        <div className=\"text-xs text-muted-foreground\">Brief, focused prompts</div>\r\n                      </Label>\r\n                    </div>\r\n                  </RadioGroup>\r\n                </div>\r\n\r\n                <div className=\"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg\">\r\n                  <p className=\"text-sm text-blue-600 dark:text-blue-400\">\r\n                    💡 Don't have an API key? Configure your AI providers in{\" \"}\r\n                    <Button variant=\"link\" className=\"p-0 h-auto text-blue-600 dark:text-blue-400 underline\">\r\n                      Settings → AI Engine\r\n                    </Button>\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Validation message */}\r\n                {getStepValidationMessage() && (\r\n                  <div className=\"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\">\r\n                    <p className=\"text-sm text-yellow-600 dark:text-yellow-400\">\r\n                      {getStepValidationMessage()}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 5: Vision & Requirements */}\r\n          {currentStep === 5 && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"text-center mb-6\">\r\n                <div className=\"flex items-center justify-center mb-3\">\r\n                  {stepConfig[4].icon}\r\n                  <h3 className=\"text-lg font-semibold ml-2\">{stepConfig[4].title}</h3>\r\n                </div>\r\n                <p className=\"text-muted-foreground\">{stepConfig[4].description}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                <div>\r\n                  <Label htmlFor=\"user-prompt\" className=\"text-base font-medium\">Describe your app vision *</Label>\r\n                  <p className=\"text-sm text-muted-foreground mb-3\">\r\n                    Tell us about your app idea. Be as detailed as possible - what problem does it solve, who are your users, what features do you need?\r\n                  </p>\r\n                  <Textarea\r\n                    id=\"user-prompt\"\r\n                    placeholder=\"I want to build a meal planning app that helps busy professionals plan their weekly meals, track nutrition, and generate shopping lists. The app should have a clean interface where users can browse recipes, save favorites, and get personalized recommendations based on dietary preferences...\"\r\n                    value={wizardData.userPrompt}\r\n                    onChange={(e) => setWizardData({\r\n                      ...wizardData,\r\n                      userPrompt: e.target.value\r\n                    })}\r\n                    className=\"min-h-[150px]\"\r\n                  />\r\n                  <div className=\"flex justify-between items-center mt-2\">\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {wizardData.userPrompt.length}/500 characters\r\n                    </p>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {wizardData.userPrompt.length < 20 ? 'Need more detail' : 'Good detail level'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"key-features\" className=\"text-base font-medium\">Key Features (Optional)</Label>\r\n                  <p className=\"text-sm text-muted-foreground mb-2\">\r\n                    List the most important features for your MVP\r\n                  </p>\r\n                  <Input\r\n                    id=\"key-features\"\r\n                    placeholder=\"e.g., User login, Recipe search, Shopping list, Meal calendar\"\r\n                    value={enhancedData.keyFeatures.join(', ')}\r\n                    onChange={(e) => setEnhancedData({\r\n                      ...enhancedData,\r\n                      keyFeatures: e.target.value.split(',').map(f => f.trim()).filter(f => f.length > 0)\r\n                    })}\r\n                    className=\"mt-2\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"target-users\" className=\"text-base font-medium\">Target Users (Optional)</Label>\r\n                  <Input\r\n                    id=\"target-users\"\r\n                    placeholder=\"e.g., Busy professionals aged 25-40, Health-conscious individuals\"\r\n                    value={enhancedData.targetUsers}\r\n                    onChange={(e) => setEnhancedData({\r\n                      ...enhancedData,\r\n                      targetUsers: e.target.value\r\n                    })}\r\n                    className=\"mt-2\"\r\n                  />\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">Who will use your app?</p>\r\n                </div>\r\n\r\n                <div className=\"p-4 bg-primary/10 rounded-lg border border-primary/20\">\r\n                  <h4 className=\"font-medium mb-2 flex items-center gap-2\">\r\n                    <Sparkles className=\"h-4 w-4 text-primary\" />\r\n                    What happens next:\r\n                  </h4>\r\n                  <ul className=\"text-sm space-y-1 text-muted-foreground\">\r\n                    <li>• Step 1: Generate project framework & page structure</li>\r\n                    <li>• Step 2: Create UI prompts for each page individually</li>\r\n                    <li>• Step 3: Generate navigation & linking prompts</li>\r\n                    <li>• Step 4: Get AI tool recommendations with direct links</li>\r\n                    <li>• Copy-paste each prompt into your chosen AI builder</li>\r\n                  </ul>\r\n                </div>\r\n\r\n                {/* Validation message */}\r\n                {getStepValidationMessage() && (\r\n                  <div className=\"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\">\r\n                    <p className=\"text-sm text-yellow-600 dark:text-yellow-400\">\r\n                      {getStepValidationMessage()}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Sequential Prompt Delivery Flow */}\r\n          {promptFlow === 'framework' && (\r\n            <div className=\"space-y-6\">\r\n              {!frameworkPrompt ? (\r\n                <div className=\"space-y-6\">\r\n                  <div className=\"text-center\">\r\n                    <Layers className=\"h-12 w-12 mx-auto mb-4 text-primary\" />\r\n                    <h3 className=\"text-xl font-semibold mb-2\">Generate Your MVP Framework</h3>\r\n                    <p className=\"text-muted-foreground mb-6\">\r\n                      Let's start with the foundation. We'll generate prompts one by one, so you can focus on each step.\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"text-center\">\r\n                    <Button\r\n                      onClick={handleGenerateFramework}\r\n                      disabled={isGenerating}\r\n                      size=\"lg\"\r\n                      className=\"w-full max-w-md\"\r\n                    >\r\n                      {isGenerating ? (\r\n                        <>\r\n                          <Brain className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                          Generating Framework...\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Sparkles className=\"h-4 w-4 mr-2\" />\r\n                          Start Sequential Prompt Flow\r\n                        </>\r\n                      )}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-6\">\r\n                  {/* Sequential Prompt Display */}\r\n                  <div className=\"text-center\">\r\n                    <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full mb-4\">\r\n                      <Sparkles className=\"h-4 w-4 text-primary\" />\r\n                      <span className=\"text-sm font-medium\">Step-by-Step Prompt Flow</span>\r\n                    </div>\r\n                    <h3 className=\"text-xl font-semibold mb-2\">{getCurrentPromptTitle()}</h3>\r\n                    <p className=\"text-muted-foreground mb-6\">\r\n                      {getCurrentPromptDescription()}\r\n                    </p>\r\n                  </div>\r\n\r\n                  {/* Progress Indicator */}\r\n                  <div className=\"flex items-center justify-center gap-2 mb-6\">\r\n                    <div className={`w-3 h-3 rounded-full ${promptStage === 'framework' ? 'bg-primary' : completedPrompts.framework ? 'bg-green-500' : 'bg-muted'}`} />\r\n                    <div className=\"w-8 h-0.5 bg-muted\" />\r\n                    <div className={`w-3 h-3 rounded-full ${promptStage === 'page' ? 'bg-primary' : completedPrompts.pages.some(p => p) ? 'bg-green-500' : 'bg-muted'}`} />\r\n                    <div className=\"w-8 h-0.5 bg-muted\" />\r\n                    <div className={`w-3 h-3 rounded-full ${promptStage === 'linking' ? 'bg-primary' : completedPrompts.linking ? 'bg-green-500' : 'bg-muted'}`} />\r\n                  </div>\r\n\r\n                  {/* Current Prompt Display */}\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <h4 className=\"font-medium flex items-center gap-2\">\r\n                        <CheckCircle2 className=\"h-4 w-4 text-green-500\" />\r\n                        Prompt Ready!\r\n                      </h4>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => copyToClipboard(focusedPrompt, getCurrentPromptTitle())}\r\n                        >\r\n                          <Copy className=\"h-4 w-4 mr-2\" />\r\n                          Copy Prompt\r\n                        </Button>\r\n                        {getRecommendedBuilderForCurrentPrompt() && (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => window.open(getRecommendedBuilderForCurrentPrompt()?.url, '_blank')}\r\n                          >\r\n                            <ExternalLink className=\"h-4 w-4 mr-2\" />\r\n                            Open {getRecommendedBuilderForCurrentPrompt()?.name}\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-muted/50 p-4 rounded-lg font-mono text-sm max-h-60 overflow-y-auto border\">\r\n                      {focusedPrompt}\r\n                    </div>\r\n\r\n                    {/* Navigation Controls */}\r\n                    <div className=\"flex justify-between items-center\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        onClick={handlePreviousPrompt}\r\n                        disabled={promptStage === 'framework'}\r\n                      >\r\n                        <ChevronLeft className=\"h-4 w-4 mr-2\" />\r\n                        Previous\r\n                      </Button>\r\n\r\n                      <div className=\"text-center\">\r\n                        <p className=\"text-sm text-muted-foreground\">\r\n                          {promptStage === 'framework' && 'Framework Structure'}\r\n                          {promptStage === 'page' && `Page ${currentPageIndex + 1} of ${pagePrompts.length}`}\r\n                          {promptStage === 'linking' && 'Navigation & Routing'}\r\n                          {promptStage === 'complete' && 'All Done!'}\r\n                        </p>\r\n                      </div>\r\n\r\n                      <Button\r\n                        onClick={handleNextPrompt}\r\n                        disabled={promptStage === 'complete'}\r\n                      >\r\n                        {promptStage === 'linking' ? 'Complete' : 'Next'}\r\n                        <ChevronRight className=\"h-4 w-4 ml-2\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Pages Generation Flow */}\r\n          {promptFlow === 'pages' && generatedFramework && (\r\n            <PagePromptGenerator\r\n              pagePrompts={pagePrompts}\r\n              builderTools={generatedFramework.builderTools}\r\n              currentPageIndex={currentPageIndex}\r\n              onPageChange={setCurrentPageIndex}\r\n              onPromptUpdate={(index, prompt) => {\r\n                const updatedPrompts = [...pagePrompts];\r\n                updatedPrompts[index] = { ...updatedPrompts[index], prompt };\r\n                setPagePrompts(updatedPrompts);\r\n              }}\r\n              onComplete={handleGenerateLinking}\r\n            />\r\n          )}\r\n\r\n          {/* Linking Generation Flow */}\r\n          {promptFlow === 'linking' && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"text-center\">\r\n                <Link className=\"h-12 w-12 mx-auto mb-4 text-primary\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">Navigation & Linking</h3>\r\n                <p className=\"text-muted-foreground mb-6\">\r\n                  Connect all your pages with navigation and routing logic.\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h4 className=\"font-medium\">Linking Prompt Ready!</h4>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => copyToClipboard(linkingPrompt, \"Linking prompt\")}\r\n                  >\r\n                    <Copy className=\"h-4 w-4 mr-2\" />\r\n                    Copy Prompt\r\n                  </Button>\r\n                </div>\r\n\r\n                <div className=\"bg-muted/50 p-4 rounded-lg font-mono text-sm max-h-40 overflow-y-auto\">\r\n                  {linkingPrompt}\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div>\r\n                  <h4 className=\"font-medium mb-4\">🚀 Recommended AI Builder Tools</h4>\r\n                  <div className=\"grid gap-3\">\r\n                    {recommendedTools.map((tool, index) => (\r\n                      <Card key={index} className=\"p-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <span className=\"text-2xl\">{tool.icon}</span>\r\n                            <div>\r\n                              <h5 className=\"font-medium\">{tool.name}</h5>\r\n                              <p className=\"text-sm text-muted-foreground\">{tool.description}</p>\r\n                              <div className=\"flex gap-1 mt-1\">\r\n                                {tool.bestFor.map((tag, i) => (\r\n                                  <Badge key={i} variant=\"secondary\" className=\"text-xs\">\r\n                                    {tag}\r\n                                  </Badge>\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"flex gap-2\">\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              onClick={() => window.open(tool.url, '_blank')}\r\n                            >\r\n                              <ExternalLink className=\"h-4 w-4 mr-2\" />\r\n                              Learn More\r\n                            </Button>\r\n                            <Button\r\n                              size=\"sm\"\r\n                              onClick={() => openInBuilder(tool)}\r\n                            >\r\n                              <Play className=\"h-4 w-4 mr-2\" />\r\n                              Open Builder\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      </Card>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"text-center pt-4\">\r\n                  <Button onClick={() => setPromptFlow('complete')} size=\"lg\">\r\n                    <CheckCircle2 className=\"h-4 w-4 mr-2\" />\r\n                    Complete MVP Blueprint\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Complete Flow - Enhanced Summary */}\r\n          {(promptFlow === 'complete' || promptStage === 'complete') && generatedFramework && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"text-center\">\r\n                <CheckCircle2 className=\"h-12 w-12 mx-auto mb-4 text-green-500\" />\r\n                <h3 className=\"text-xl font-semibold mb-2\">MVP Blueprint Complete!</h3>\r\n                <p className=\"text-muted-foreground mb-6\">\r\n                  All your prompts are ready! You can now build your MVP using AI builders.\r\n                </p>\r\n              </div>\r\n\r\n              {/* Prompt Summary */}\r\n              <div className=\"space-y-4\">\r\n                <h4 className=\"font-medium\">📋 Your Generated Prompts:</h4>\r\n\r\n                <div className=\"grid gap-3\">\r\n                  {promptHistory.map((prompt, index) => (\r\n                    <Card key={index} className=\"p-4\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <h5 className=\"font-medium\">{prompt.title}</h5>\r\n                          <p className=\"text-sm text-muted-foreground\">\r\n                            {prompt.type === 'framework' && '🏗️ App Structure & Pages'}\r\n                            {prompt.type === 'page' && `🎨 UI Design for ${prompt.title}`}\r\n                            {prompt.type === 'linking' && '🔗 Navigation & Routing'}\r\n                          </p>\r\n                        </div>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => copyToClipboard(prompt.prompt, prompt.title)}\r\n                        >\r\n                          <Copy className=\"h-4 w-4 mr-2\" />\r\n                          Copy\r\n                        </Button>\r\n                      </div>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <Separator />\r\n\r\n              {/* Export System */}\r\n              <ExportablePromptsSystem\r\n                framework={generatedFramework}\r\n                pagePrompts={pagePrompts}\r\n                linkingPrompt={linkingPrompt}\r\n                appName={wizardData.step1.appName}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Setup Navigation buttons */}\r\n          {promptFlow === 'setup' && (\r\n            <div className=\"pt-6 border-t\">\r\n              {/* Step indicator */}\r\n              <div className=\"flex justify-center mb-6\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  {stepConfig.map((step, index) => (\r\n                    <div key={step.id} className=\"flex items-center\">\r\n                      <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${\r\n                        currentStep === step.id\r\n                          ? 'bg-primary text-primary-foreground'\r\n                          : currentStep > step.id\r\n                            ? 'bg-green-500 text-white'\r\n                            : 'bg-muted text-muted-foreground'\r\n                      }`}>\r\n                        {currentStep > step.id ? <CheckCircle2 className=\"h-4 w-4\" /> : step.id}\r\n                      </div>\r\n                      {index < stepConfig.length - 1 && (\r\n                        <div className={`w-8 h-0.5 mx-2 transition-colors ${\r\n                          currentStep > step.id ? 'bg-green-500' : 'bg-muted'\r\n                        }`} />\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-between items-center\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={handlePrevious}\r\n                  disabled={currentStep === 1}\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  <ChevronLeft className=\"h-4 w-4\" />\r\n                  Previous\r\n                </Button>\r\n\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Step {currentStep} of {totalSteps}\r\n                  </p>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    {stepConfig[currentStep - 1]?.title}\r\n                  </p>\r\n                </div>\r\n\r\n                <Button\r\n                  onClick={handleNext}\r\n                  disabled={!canProceed() || isGenerating}\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  {isGenerating ? (\r\n                    <>\r\n                      <Brain className=\"h-4 w-4 animate-spin\" />\r\n                      Generating...\r\n                    </>\r\n                  ) : currentStep === totalSteps ? (\r\n                    <>\r\n                      <Sparkles className=\"h-4 w-4\" />\r\n                      Start AI Generation\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      Next\r\n                      <ChevronRight className=\"h-4 w-4\" />\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default MVPWizard;\r\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { Presence } from '@radix-ui/react-presence';\nimport { useId } from '@radix-ui/react-id';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Collapsible\n * -----------------------------------------------------------------------------------------------*/\n\nconst COLLAPSIBLE_NAME = 'Collapsible';\n\ntype ScopedProps<P> = P & { __scopeCollapsible?: Scope };\nconst [createCollapsibleContext, createCollapsibleScope] = createContextScope(COLLAPSIBLE_NAME);\n\ntype CollapsibleContextValue = {\n  contentId: string;\n  disabled?: boolean;\n  open: boolean;\n  onOpenToggle(): void;\n};\n\nconst [CollapsibleProvider, useCollapsibleContext] =\n  createCollapsibleContext<CollapsibleContextValue>(COLLAPSIBLE_NAME);\n\ntype CollapsibleElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface CollapsibleProps extends PrimitiveDivProps {\n  defaultOpen?: boolean;\n  open?: boolean;\n  disabled?: boolean;\n  onOpenChange?(open: boolean): void;\n}\n\nconst Collapsible = React.forwardRef<CollapsibleElement, CollapsibleProps>(\n  (props: ScopedProps<CollapsibleProps>, forwardedRef) => {\n    const {\n      __scopeCollapsible,\n      open: openProp,\n      defaultOpen,\n      disabled,\n      onOpenChange,\n      ...collapsibleProps\n    } = props;\n\n    const [open, setOpen] = useControllableState({\n      prop: openProp,\n      defaultProp: defaultOpen ?? false,\n      onChange: onOpenChange,\n      caller: COLLAPSIBLE_NAME,\n    });\n\n    return (\n      <CollapsibleProvider\n        scope={__scopeCollapsible}\n        disabled={disabled}\n        contentId={useId()}\n        open={open}\n        onOpenToggle={React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n      >\n        <Primitive.div\n          data-state={getState(open)}\n          data-disabled={disabled ? '' : undefined}\n          {...collapsibleProps}\n          ref={forwardedRef}\n        />\n      </CollapsibleProvider>\n    );\n  }\n);\n\nCollapsible.displayName = COLLAPSIBLE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * CollapsibleTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'CollapsibleTrigger';\n\ntype CollapsibleTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface CollapsibleTriggerProps extends PrimitiveButtonProps {}\n\nconst CollapsibleTrigger = React.forwardRef<CollapsibleTriggerElement, CollapsibleTriggerProps>(\n  (props: ScopedProps<CollapsibleTriggerProps>, forwardedRef) => {\n    const { __scopeCollapsible, ...triggerProps } = props;\n    const context = useCollapsibleContext(TRIGGER_NAME, __scopeCollapsible);\n    return (\n      <Primitive.button\n        type=\"button\"\n        aria-controls={context.contentId}\n        aria-expanded={context.open || false}\n        data-state={getState(context.open)}\n        data-disabled={context.disabled ? '' : undefined}\n        disabled={context.disabled}\n        {...triggerProps}\n        ref={forwardedRef}\n        onClick={composeEventHandlers(props.onClick, context.onOpenToggle)}\n      />\n    );\n  }\n);\n\nCollapsibleTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * CollapsibleContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'CollapsibleContent';\n\ntype CollapsibleContentElement = CollapsibleContentImplElement;\ninterface CollapsibleContentProps extends Omit<CollapsibleContentImplProps, 'present'> {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst CollapsibleContent = React.forwardRef<CollapsibleContentElement, CollapsibleContentProps>(\n  (props: ScopedProps<CollapsibleContentProps>, forwardedRef) => {\n    const { forceMount, ...contentProps } = props;\n    const context = useCollapsibleContext(CONTENT_NAME, props.__scopeCollapsible);\n    return (\n      <Presence present={forceMount || context.open}>\n        {({ present }) => (\n          <CollapsibleContentImpl {...contentProps} ref={forwardedRef} present={present} />\n        )}\n      </Presence>\n    );\n  }\n);\n\nCollapsibleContent.displayName = CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype CollapsibleContentImplElement = React.ComponentRef<typeof Primitive.div>;\ninterface CollapsibleContentImplProps extends PrimitiveDivProps {\n  present: boolean;\n}\n\nconst CollapsibleContentImpl = React.forwardRef<\n  CollapsibleContentImplElement,\n  CollapsibleContentImplProps\n>((props: ScopedProps<CollapsibleContentImplProps>, forwardedRef) => {\n  const { __scopeCollapsible, present, children, ...contentProps } = props;\n  const context = useCollapsibleContext(CONTENT_NAME, __scopeCollapsible);\n  const [isPresent, setIsPresent] = React.useState(present);\n  const ref = React.useRef<CollapsibleContentImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const heightRef = React.useRef<number | undefined>(0);\n  const height = heightRef.current;\n  const widthRef = React.useRef<number | undefined>(0);\n  const width = widthRef.current;\n  // when opening we want it to immediately open to retrieve dimensions\n  // when closing we delay `present` to retrieve dimensions before closing\n  const isOpen = context.open || isPresent;\n  const isMountAnimationPreventedRef = React.useRef(isOpen);\n  const originalStylesRef = React.useRef<Record<string, string>>(undefined);\n\n  React.useEffect(() => {\n    const rAF = requestAnimationFrame(() => (isMountAnimationPreventedRef.current = false));\n    return () => cancelAnimationFrame(rAF);\n  }, []);\n\n  useLayoutEffect(() => {\n    const node = ref.current;\n    if (node) {\n      originalStylesRef.current = originalStylesRef.current || {\n        transitionDuration: node.style.transitionDuration,\n        animationName: node.style.animationName,\n      };\n      // block any animations/transitions so the element renders at its full dimensions\n      node.style.transitionDuration = '0s';\n      node.style.animationName = 'none';\n\n      // get width and height from full dimensions\n      const rect = node.getBoundingClientRect();\n      heightRef.current = rect.height;\n      widthRef.current = rect.width;\n\n      // kick off any animations/transitions that were originally set up if it isn't the initial mount\n      if (!isMountAnimationPreventedRef.current) {\n        node.style.transitionDuration = originalStylesRef.current.transitionDuration!;\n        node.style.animationName = originalStylesRef.current.animationName!;\n      }\n\n      setIsPresent(present);\n    }\n    /**\n     * depends on `context.open` because it will change to `false`\n     * when a close is triggered but `present` will be `false` on\n     * animation end (so when close finishes). This allows us to\n     * retrieve the dimensions *before* closing.\n     */\n  }, [context.open, present]);\n\n  return (\n    <Primitive.div\n      data-state={getState(context.open)}\n      data-disabled={context.disabled ? '' : undefined}\n      id={context.contentId}\n      hidden={!isOpen}\n      {...contentProps}\n      ref={composedRefs}\n      style={{\n        [`--radix-collapsible-content-height` as any]: height ? `${height}px` : undefined,\n        [`--radix-collapsible-content-width` as any]: width ? `${width}px` : undefined,\n        ...props.style,\n      }}\n    >\n      {isOpen && children}\n    </Primitive.div>\n  );\n});\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getState(open?: boolean) {\n  return open ? 'open' : 'closed';\n}\n\nconst Root = Collapsible;\nconst Trigger = CollapsibleTrigger;\nconst Content = CollapsibleContent;\n\nexport {\n  createCollapsibleScope,\n  //\n  Collapsible,\n  CollapsibleTrigger,\n  CollapsibleContent,\n  //\n  Root,\n  Trigger,\n  Content,\n};\nexport type { CollapsibleProps, CollapsibleTriggerProps, CollapsibleContentProps };\n","import * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\r\n\r\nconst Collapsible = CollapsiblePrimitive.Root\r\n\r\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\r\n\r\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\r\n\r\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\r\n","import React, { useState } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { Copy, Check, ExternalLink, ChevronDown, ChevronRight, Sparkles, Palette, Monitor, Smartphone } from 'lucide-react';\r\nimport { Button } from './button';\r\nimport { Badge } from './badge';\r\nimport { Card, CardContent, CardHeader, CardTitle } from './card';\r\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from './collapsible';\r\nimport AIResponse from './ai-response';\r\n\r\ninterface PromptSection {\r\n  id: string;\r\n  title: string;\r\n  icon?: React.ReactNode;\r\n  content: string;\r\n  type?: 'prompt' | 'instruction' | 'component' | 'style';\r\n  toolSpecific?: {\r\n    framer?: string;\r\n    flutterflow?: string;\r\n    uizard?: string;\r\n    figma?: string;\r\n  };\r\n}\r\n\r\ninterface PromptViewerProps {\r\n  title: string;\r\n  description?: string;\r\n  appType?: 'web' | 'mobile' | 'saas' | 'desktop';\r\n  uiStyle?: string;\r\n  sections: PromptSection[];\r\n  className?: string;\r\n  showToolButtons?: boolean;\r\n}\r\n\r\nconst PromptViewer: React.FC<PromptViewerProps> = ({\r\n  title,\r\n  description,\r\n  appType,\r\n  uiStyle,\r\n  sections,\r\n  className,\r\n  showToolButtons = true\r\n}) => {\r\n  const [copiedSection, setCopiedSection] = useState<string | null>(null);\r\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set(['0'])); // First section expanded by default\r\n\r\n  const handleCopySection = async (sectionId: string, content: string, tool?: string) => {\r\n    try {\r\n      let textToCopy = content;\r\n      \r\n      // If tool-specific content exists, use it\r\n      const section = sections.find(s => s.id === sectionId);\r\n      if (tool && section?.toolSpecific?.[tool as keyof typeof section.toolSpecific]) {\r\n        textToCopy = section.toolSpecific[tool as keyof typeof section.toolSpecific] || content;\r\n      }\r\n      \r\n      await navigator.clipboard.writeText(textToCopy);\r\n      setCopiedSection(`${sectionId}-${tool || 'default'}`);\r\n      setTimeout(() => setCopiedSection(null), 2000);\r\n    } catch (error) {\r\n      console.error('Failed to copy text:', error);\r\n    }\r\n  };\r\n\r\n  const handleCopyAll = async () => {\r\n    try {\r\n      const allContent = sections.map(section => \r\n        `## ${section.title}\\n\\n${section.content}`\r\n      ).join('\\n\\n---\\n\\n');\r\n      \r\n      const fullPrompt = `# ${title}\\n\\n${description ? `${description}\\n\\n` : ''}${allContent}`;\r\n      \r\n      await navigator.clipboard.writeText(fullPrompt);\r\n      setCopiedSection('all');\r\n      setTimeout(() => setCopiedSection(null), 2000);\r\n    } catch (error) {\r\n      console.error('Failed to copy text:', error);\r\n    }\r\n  };\r\n\r\n  const toggleSection = (sectionId: string) => {\r\n    const newExpanded = new Set(expandedSections);\r\n    if (newExpanded.has(sectionId)) {\r\n      newExpanded.delete(sectionId);\r\n    } else {\r\n      newExpanded.add(sectionId);\r\n    }\r\n    setExpandedSections(newExpanded);\r\n  };\r\n\r\n  const getAppTypeIcon = () => {\r\n    switch (appType) {\r\n      case 'mobile': return <Smartphone className=\"h-4 w-4\" />;\r\n      case 'web': return <Monitor className=\"h-4 w-4\" />;\r\n      case 'saas': return <Sparkles className=\"h-4 w-4\" />;\r\n      default: return <Monitor className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  const getSectionIcon = (type?: string) => {\r\n    switch (type) {\r\n      case 'style': return <Palette className=\"h-4 w-4\" />;\r\n      case 'component': return <Monitor className=\"h-4 w-4\" />;\r\n      case 'instruction': return <Sparkles className=\"h-4 w-4\" />;\r\n      default: return <Sparkles className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={cn(\"space-y-4\", className)}>\r\n      {/* Header */}\r\n      <Card className=\"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20\">\r\n        <CardHeader>\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                {getAppTypeIcon()}\r\n                <CardTitle className=\"text-xl\">{title}</CardTitle>\r\n              </div>\r\n              {description && (\r\n                <p className=\"text-muted-foreground\">{description}</p>\r\n              )}\r\n              <div className=\"flex items-center gap-2\">\r\n                {appType && (\r\n                  <Badge variant=\"secondary\" className=\"capitalize\">\r\n                    {appType} App\r\n                  </Badge>\r\n                )}\r\n                {uiStyle && (\r\n                  <Badge variant=\"outline\">\r\n                    <Palette className=\"h-3 w-3 mr-1\" />\r\n                    {uiStyle}\r\n                  </Badge>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={handleCopyAll}\r\n              className=\"shrink-0\"\r\n            >\r\n              {copiedSection === 'all' ? (\r\n                <>\r\n                  <Check className=\"h-4 w-4 text-green-500 mr-2\" />\r\n                  Copied!\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Copy className=\"h-4 w-4 mr-2\" />\r\n                  Copy All\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n      </Card>\r\n\r\n      {/* Sections */}\r\n      <div className=\"space-y-3\">\r\n        {sections.map((section) => (\r\n          <Card key={section.id} className=\"overflow-hidden\">\r\n            <Collapsible\r\n              open={expandedSections.has(section.id)}\r\n              onOpenChange={() => toggleSection(section.id)}\r\n            >\r\n              <CollapsibleTrigger asChild>\r\n                <CardHeader className=\"cursor-pointer hover:bg-muted/50 transition-colors\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {expandedSections.has(section.id) ? (\r\n                          <ChevronDown className=\"h-4 w-4\" />\r\n                        ) : (\r\n                          <ChevronRight className=\"h-4 w-4\" />\r\n                        )}\r\n                        {section.icon || getSectionIcon(section.type)}\r\n                      </div>\r\n                      <div>\r\n                        <CardTitle className=\"text-base\">{section.title}</CardTitle>\r\n                        {section.type && (\r\n                          <Badge variant=\"outline\" className=\"mt-1 text-xs capitalize\">\r\n                            {section.type}\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </CardHeader>\r\n              </CollapsibleTrigger>\r\n              \r\n              <CollapsibleContent>\r\n                <CardContent className=\"pt-0\">\r\n                  <AIResponse \r\n                    content={section.content}\r\n                    variant=\"compact\"\r\n                    showCopyButton={false}\r\n                    className=\"mb-4 bg-muted/30\"\r\n                  />\r\n                  \r\n                  {/* Copy buttons */}\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => handleCopySection(section.id, section.content)}\r\n                    >\r\n                      {copiedSection === `${section.id}-default` ? (\r\n                        <>\r\n                          <Check className=\"h-3 w-3 text-green-500 mr-1\" />\r\n                          Copied!\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Copy className=\"h-3 w-3 mr-1\" />\r\n                          Copy\r\n                        </>\r\n                      )}\r\n                    </Button>\r\n                    \r\n                    {showToolButtons && section.toolSpecific && (\r\n                      <>\r\n                        {section.toolSpecific.framer && (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleCopySection(section.id, section.content, 'framer')}\r\n                            className=\"text-xs\"\r\n                          >\r\n                            {copiedSection === `${section.id}-framer` ? (\r\n                              <>\r\n                                <Check className=\"h-3 w-3 text-green-500 mr-1\" />\r\n                                Copied for Framer!\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <ExternalLink className=\"h-3 w-3 mr-1\" />\r\n                                Copy for Framer\r\n                              </>\r\n                            )}\r\n                          </Button>\r\n                        )}\r\n                        \r\n                        {section.toolSpecific.flutterflow && (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleCopySection(section.id, section.content, 'flutterflow')}\r\n                            className=\"text-xs\"\r\n                          >\r\n                            {copiedSection === `${section.id}-flutterflow` ? (\r\n                              <>\r\n                                <Check className=\"h-3 w-3 text-green-500 mr-1\" />\r\n                                Copied for FlutterFlow!\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <ExternalLink className=\"h-3 w-3 mr-1\" />\r\n                                Copy for FlutterFlow\r\n                              </>\r\n                            )}\r\n                          </Button>\r\n                        )}\r\n                        \r\n                        {section.toolSpecific.uizard && (\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleCopySection(section.id, section.content, 'uizard')}\r\n                            className=\"text-xs\"\r\n                          >\r\n                            {copiedSection === `${section.id}-uizard` ? (\r\n                              <>\r\n                                <Check className=\"h-3 w-3 text-green-500 mr-1\" />\r\n                                Copied for Uizard!\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                <ExternalLink className=\"h-3 w-3 mr-1\" />\r\n                                Copy for Uizard\r\n                              </>\r\n                            )}\r\n                          </Button>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </CardContent>\r\n              </CollapsibleContent>\r\n            </Collapsible>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromptViewer;\r\n","import React, { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport PromptViewer from \"@/components/ui/prompt-viewer\";\r\nimport AIResponse from \"@/components/ui/ai-response\";\r\nimport {\r\n  Copy,\r\n  ExternalLink,\r\n  Download,\r\n  Layers,\r\n  Palette,\r\n  Zap,\r\n  CheckCircle2,\r\n  Star,\r\n  Clock,\r\n  DollarSign,\r\n  Users,\r\n  Smartphone,\r\n  Globe,\r\n  Chrome,\r\n  Brain,\r\n  Monitor,\r\n  Link,\r\n  Sparkles,\r\n  ChevronDown,\r\n  FileText,\r\n  Code,\r\n  Share\r\n} from \"lucide-react\";\r\nimport { MVPAnalysisResult } from \"@/types/ideaforge\";\r\nimport { aiToolsDatabase, getRecommendedTools, AITool } from \"@/data/aiToolsDatabase\";\r\n\r\ninterface MVPResultsDisplayProps {\r\n  result: MVPAnalysisResult;\r\n  onClose: () => void;\r\n}\r\n\r\nconst MVPResultsDisplay: React.FC<MVPResultsDisplayProps> = ({ result, onClose }) => {\r\n  const { toast } = useToast();\r\n  const [activeTab, setActiveTab] = useState(\"prompts\");\r\n  const [enhancedTools, setEnhancedTools] = useState<AITool[]>([]);\r\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\r\n\r\n  // Get enhanced tool recommendations on component mount\r\n  React.useEffect(() => {\r\n    // Determine app type and platforms for better recommendations\r\n    const appType = result.pages.some(p => p.name.toLowerCase().includes('dashboard')) ? 'saas' : 'web';\r\n    const platforms = ['web']; // Could be derived from result data\r\n\r\n    const recommendations = getRecommendedTools(appType, platforms, 'any');\r\n    setEnhancedTools(recommendations);\r\n  }, [result]);\r\n\r\n  const copyToClipboard = (text: string, label: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    toast({\r\n      title: \"Copied!\",\r\n      description: `${label} copied to clipboard`\r\n    });\r\n  };\r\n\r\n  const openInBuilder = (tool: AITool, prompt?: string) => {\r\n    // Open the tool's official URL\r\n    window.open(tool.officialUrl, '_blank');\r\n\r\n    // If there's a prompt, copy it to clipboard for easy pasting\r\n    if (prompt) {\r\n      copyToClipboard(prompt, `${tool.name} prompt`);\r\n      toast({\r\n        title: `Opening ${tool.name}`,\r\n        description: \"Prompt copied to clipboard - paste it to get started!\"\r\n      });\r\n    } else {\r\n      toast({\r\n        title: `Opening ${tool.name}`,\r\n        description: \"Ready to start building your MVP!\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const getToolIcon = (tool: AITool) => {\r\n    switch (tool.category) {\r\n      case 'app-builders': return <Zap className=\"h-5 w-5\" />;\r\n      case 'ui-ux': return <Palette className=\"h-5 w-5\" />;\r\n      case 'dev-ides': return <Monitor className=\"h-5 w-5\" />;\r\n      case 'chatbots': return <Brain className=\"h-5 w-5\" />;\r\n      case 'backend': return <Globe className=\"h-5 w-5\" />;\r\n      default: return <Sparkles className=\"h-5 w-5\" />;\r\n    }\r\n  };\r\n\r\n  const getPricingColorEnhanced = (pricing: string) => {\r\n    switch (pricing) {\r\n      case 'free': return 'bg-green-500/20 text-green-400 border-green-500/30';\r\n      case 'freemium': return 'bg-blue-500/20 text-blue-400 border-blue-500/30';\r\n      case 'paid': return 'bg-orange-500/20 text-orange-400 border-orange-500/30';\r\n      default: return 'bg-gray-500/20 text-gray-400 border-gray-500/30';\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const exportToMarkdown = () => {\r\n    const markdown = generateMarkdownExport(result);\r\n    const blob = new Blob([markdown], { type: 'text/markdown' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'mvp-blueprint.md';\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n\r\n    toast({\r\n      title: \"Exported!\",\r\n      description: \"MVP blueprint downloaded as Markdown\"\r\n    });\r\n  };\r\n\r\n  const exportToJSON = () => {\r\n    const jsonData = {\r\n      metadata: {\r\n        exportedAt: new Date().toISOString(),\r\n        version: \"1.0\",\r\n        type: \"MVP Blueprint\"\r\n      },\r\n      blueprint: result,\r\n      prompts: {\r\n        framework: result.frameworkPrompt,\r\n        pages: result.pagePrompts,\r\n        linking: result.linkingPrompt\r\n      }\r\n    };\r\n\r\n    const blob = new Blob([JSON.stringify(jsonData, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'mvp-blueprint.json';\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n\r\n    toast({\r\n      title: \"Exported!\",\r\n      description: \"MVP blueprint downloaded as JSON\"\r\n    });\r\n  };\r\n\r\n  const exportToNotion = () => {\r\n    const notionFormat = generateNotionExport(result);\r\n    copyToClipboard(notionFormat, \"Notion-formatted blueprint\");\r\n    toast({\r\n      title: \"Copied for Notion!\",\r\n      description: \"Paste this into your Notion page\"\r\n    });\r\n  };\r\n\r\n  const shareBlueprint = () => {\r\n    const shareData = {\r\n      title: 'My MVP Blueprint',\r\n      text: `Check out my MVP blueprint: ${result.pages.length} pages, ${result.recommendedTools.length} tool recommendations`,\r\n      url: window.location.href\r\n    };\r\n\r\n    if (navigator.share) {\r\n      navigator.share(shareData);\r\n    } else {\r\n      copyToClipboard(shareData.text + '\\n' + shareData.url, \"Share link\");\r\n    }\r\n  };\r\n\r\n  const generateMarkdownExport = (result: MVPAnalysisResult): string => {\r\n    return `# MVP Blueprint\r\n\r\n## Pages Structure\r\n${result.pages.map(page => `\r\n### ${page.name}\r\n${page.description}\r\n\r\n**Components:** ${page.components.join(', ')}\r\n**Layout:** ${page.layout}\r\n`).join('')}\r\n\r\n## Navigation Flow\r\n**Type:** ${result.navigation.type}\r\n**Structure:**\r\n${result.navigation.structure.map(item => `- ${item.name}`).join('\\n')}\r\n\r\n## Styling Guide\r\n- **Theme:** ${result.styling.theme}\r\n- **Design Style:** ${result.styling.designStyle}\r\n- **Typography:** ${result.styling.typography}\r\n- **Color Scheme:** ${result.styling.colorScheme.join(', ')}\r\n\r\n## Recommended Tools\r\n${result.recommendedTools.map(tool => `\r\n### ${tool.name}\r\n${tool.description}\r\n\r\n**Best For:** ${tool.bestFor.join(', ')}\r\n**Pricing:** ${tool.pricing}\r\n**URL:** ${tool.url}\r\n\r\n**Pros:**\r\n${tool.pros.map(pro => `- ${pro}`).join('\\n')}\r\n\r\n**Cons:**\r\n${tool.cons.map(con => `- ${con}`).join('\\n')}\r\n`).join('')}\r\n\r\n## UI Prompt\r\n\\`\\`\\`\r\n${result.uiPrompt}\r\n\\`\\`\\`\r\n\r\n## Launch Path\r\n${result.launchPath.map(step => `\r\n### Step ${step.step}: ${step.title}\r\n${step.description}\r\n**Estimated Time:** ${step.estimatedTime}\r\n**Tools:** ${step.tools.join(', ')}\r\n`).join('')}\r\n`;\r\n  };\r\n\r\n  const generateNotionExport = (result: MVPAnalysisResult): string => {\r\n    return `# 🚀 MVP Blueprint\r\n\r\n## 📋 Project Overview\r\n**Pages:** ${result.pages.length} | **Components:** ${result.components.length} | **Navigation:** ${result.navigation.type}\r\n**Generated:** ${new Date().toLocaleDateString()}\r\n\r\n---\r\n\r\n## 📄 Pages\r\n${result.pages.map(page => `\r\n### ${page.name}\r\n${page.description}\r\n**Components:** ${page.components.join(', ')}\r\n**Layout:** ${page.layout}\r\n`).join('\\n')}\r\n\r\n---\r\n\r\n## 🧭 Navigation Flow\r\n**Type:** ${result.navigation.type}\r\n**Structure:**\r\n${result.navigation.structure.map(item => `- ${item.name}`).join('\\n')}\r\n\r\n---\r\n\r\n## 🎨 Design System\r\n- **Theme:** ${result.styling.theme}\r\n- **Style:** ${result.styling.designStyle}\r\n- **Typography:** ${result.styling.typography}\r\n- **Colors:** ${result.styling.colorScheme.join(', ')}\r\n\r\n---\r\n\r\n## 🛠️ Recommended Tools\r\n${result.recommendedTools.map(tool => `\r\n### ${tool.name}\r\n${tool.description}\r\n**Best For:** ${tool.bestFor.join(', ')}\r\n**Pricing:** ${tool.pricing}\r\n`).join('\\n')}\r\n\r\n---\r\n\r\n## 📝 AI Prompts\r\n\r\n### Framework Prompt\r\n\\`\\`\\`\r\n${result.frameworkPrompt || result.uiPrompt}\r\n\\`\\`\\`\r\n\r\n### Page Prompts\r\n${result.pagePrompts?.map(p => `\r\n#### ${p.pageName}\r\n\\`\\`\\`\r\n${p.prompt}\r\n\\`\\`\\`\r\n`).join('\\n') || ''}\r\n\r\n### Navigation Prompt\r\n\\`\\`\\`\r\n${result.linkingPrompt || 'Not generated yet'}\r\n\\`\\`\\`\r\n`;\r\n  };\r\n\r\n  const getPricingColor = (pricing: string) => {\r\n    switch (pricing) {\r\n      case 'free': return 'bg-green-500/20 text-green-400';\r\n      case 'freemium': return 'bg-blue-500/20 text-blue-400';\r\n      case 'paid': return 'bg-orange-500/20 text-orange-400';\r\n      default: return 'bg-gray-500/20 text-gray-400';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-start\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold mb-2\">Your MVP Blueprint</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            AI-generated structure and recommendations for your project\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button variant=\"outline\" onClick={exportToMarkdown}>\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Export MD\r\n          </Button>\r\n          <Button variant=\"outline\" onClick={onClose}>\r\n            Close\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n        <TabsList className=\"grid w-full grid-cols-6\">\r\n          <TabsTrigger value=\"prompts\">Ready Prompts</TabsTrigger>\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"tools\">Builder Tools</TabsTrigger>\r\n          <TabsTrigger value=\"ai-tools\">AI Tools</TabsTrigger>\r\n          <TabsTrigger value=\"enhance\">Enhance</TabsTrigger>\r\n          <TabsTrigger value=\"structure\">Structure</TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Ready Prompts Tab */}\r\n        <TabsContent value=\"prompts\" className=\"space-y-6\">\r\n          {(() => {\r\n            // Prepare sections for PromptViewer\r\n            const sections = [];\r\n\r\n            // Framework Prompt Section\r\n            if (result.frameworkPrompt) {\r\n              sections.push({\r\n                id: 'framework',\r\n                title: 'Step 1: Framework & Structure',\r\n                icon: <Layers className=\"h-4 w-4\" />,\r\n                content: `# 🏗️ App Framework Prompt\r\n\r\n${result.frameworkPrompt}\r\n\r\n## 📋 What This Generates\r\n- Overall app structure and layout\r\n- Navigation system design\r\n- Core page hierarchy\r\n- Design system foundation\r\n\r\n## 🎯 Best Used With\r\n- **Framer**: Perfect for rapid prototyping and design systems\r\n- **FlutterFlow**: Excellent for mobile app structure\r\n- **Uizard**: Great for wireframe to design conversion`,\r\n                type: 'prompt' as const,\r\n                toolSpecific: {\r\n                  framer: `Create a ${result.pages.length}-page app with the following structure:\\n\\n${result.frameworkPrompt}\\n\\nFocus on: Modern design system, responsive layout, smooth animations`,\r\n                  flutterflow: `Build a Flutter app with these specifications:\\n\\n${result.frameworkPrompt}\\n\\nEmphasize: Native performance, cross-platform compatibility, Material Design`,\r\n                  uizard: `Design a ${result.pages.length}-screen app:\\n\\n${result.frameworkPrompt}\\n\\nPrioritize: Clean wireframes, user flow clarity, mobile-first design`\r\n                }\r\n              });\r\n            }\r\n\r\n            // Page Prompts Sections\r\n            if (result.pagePrompts && result.pagePrompts.length > 0) {\r\n              result.pagePrompts.forEach((pagePrompt, index) => {\r\n                sections.push({\r\n                  id: `page-${index}`,\r\n                  title: `Step ${index + 2}: ${pagePrompt.pageName} Page`,\r\n                  icon: <Monitor className=\"h-4 w-4\" />,\r\n                  content: `# 📱 ${pagePrompt.pageName} Page Design\r\n\r\n${pagePrompt.prompt}\r\n\r\n## 🎨 Design Focus Areas\r\n- User experience and interaction flow\r\n- Visual hierarchy and content layout\r\n- Responsive design considerations\r\n- Accessibility and usability\r\n\r\n## 🔧 Implementation Tips\r\n- Start with wireframes before detailed design\r\n- Consider mobile-first approach\r\n- Test user flows and interactions\r\n- Optimize for performance and loading speed`,\r\n                  type: 'prompt' as const,\r\n                  toolSpecific: {\r\n                    framer: `Design the ${pagePrompt.pageName} page with these specifications:\\n\\n${pagePrompt.prompt}\\n\\nFocus on: Interactive prototypes, micro-animations, component variants`,\r\n                    flutterflow: `Create the ${pagePrompt.pageName} screen:\\n\\n${pagePrompt.prompt}\\n\\nEmphasize: Native widgets, state management, API integration`,\r\n                    uizard: `Design the ${pagePrompt.pageName} interface:\\n\\n${pagePrompt.prompt}\\n\\nPrioritize: Clear layout, intuitive navigation, visual consistency`\r\n                  }\r\n                });\r\n              });\r\n            }\r\n\r\n            // Linking Prompt Section\r\n            if (result.linkingPrompt) {\r\n              sections.push({\r\n                id: 'linking',\r\n                title: `Step ${sections.length + 1}: Navigation & Flow`,\r\n                icon: <Link className=\"h-4 w-4\" />,\r\n                content: `# 🔗 Navigation & User Flow\r\n\r\n${result.linkingPrompt}\r\n\r\n## 🧭 Navigation Principles\r\n- Intuitive user journey mapping\r\n- Consistent navigation patterns\r\n- Clear call-to-action placement\r\n- Seamless page transitions\r\n\r\n## 📱 Implementation Considerations\r\n- Mobile navigation patterns (tabs, drawer, etc.)\r\n- Deep linking and URL structure\r\n- State management between pages\r\n- Loading states and error handling`,\r\n                type: 'instruction' as const,\r\n                toolSpecific: {\r\n                  framer: `Implement navigation and linking:\\n\\n${result.linkingPrompt}\\n\\nFocus on: Smooth page transitions, interactive navigation, component states`,\r\n                  flutterflow: `Set up app navigation:\\n\\n${result.linkingPrompt}\\n\\nEmphasize: Route management, navigation drawer, bottom tabs, deep linking`,\r\n                  uizard: `Design navigation flow:\\n\\n${result.linkingPrompt}\\n\\nPrioritize: User flow clarity, navigation consistency, interaction feedback`\r\n                }\r\n              });\r\n            }\r\n\r\n            // Determine app type for PromptViewer\r\n            const appType = result.pages.some(p => p.name.toLowerCase().includes('dashboard')) ? 'saas' :\r\n                           result.pages.some(p => p.name.toLowerCase().includes('mobile')) ? 'mobile' : 'web';\r\n\r\n            const uiStyle = `${result.styling?.theme || 'Modern'} ${result.styling?.designStyle || 'Clean'}`;\r\n\r\n            return (\r\n              <PromptViewer\r\n                title=\"🚀 Ready-to-Use AI Prompts\"\r\n                description=\"Copy these prompts directly into your favorite AI builder tools. Each prompt is optimized for specific platforms.\"\r\n                appType={appType}\r\n                uiStyle={uiStyle}\r\n                sections={sections}\r\n                showToolButtons={true}\r\n                className=\"max-w-none\"\r\n              />\r\n            );\r\n          })()}\r\n        </TabsContent>\r\n\r\n        {/* Overview Tab */}\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {/* Pages Overview */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Layers className=\"h-5 w-5\" />\r\n                  Pages ({result.pages.length})\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                {result.pages.map((page, index) => (\r\n                  <div key={index} className=\"p-3 bg-muted/50 rounded-lg\">\r\n                    <h4 className=\"font-medium\">{page.name}</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">{page.description}</p>\r\n                    <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                      {page.components.map((component, idx) => (\r\n                        <Badge key={idx} variant=\"secondary\" className=\"text-xs\">\r\n                          {component}\r\n                        </Badge>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Styling Guide */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Palette className=\"h-5 w-5\" />\r\n                  Styling Guide\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label className=\"text-sm font-medium\">Theme</Label>\r\n                    <p className=\"text-sm capitalize\">{result.styling.theme}</p>\r\n                  </div>\r\n                  <div>\r\n                    <Label className=\"text-sm font-medium\">Style</Label>\r\n                    <p className=\"text-sm capitalize\">{result.styling.designStyle}</p>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Label className=\"text-sm font-medium\">Typography</Label>\r\n                  <p className=\"text-sm\">{result.styling.typography}</p>\r\n                </div>\r\n                <div>\r\n                  <Label className=\"text-sm font-medium\">Color Scheme</Label>\r\n                  <div className=\"flex gap-2 mt-1\">\r\n                    {result.styling.colorScheme.map((color, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"w-6 h-6 rounded border\"\r\n                        style={{ backgroundColor: color }}\r\n                        title={color}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* UI Prompt */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Brain className=\"h-5 w-5\" />\r\n                UI Prompt\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={() => copyToClipboard(result.uiPrompt, \"UI Prompt\")}\r\n                >\r\n                  <Copy className=\"h-4 w-4\" />\r\n                </Button>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"bg-muted/50 p-4 rounded-lg font-mono text-sm\">\r\n                {result.uiPrompt}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Structure Tab */}\r\n        <TabsContent value=\"structure\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Navigation Flow */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Navigation Flow</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-2\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Type: <span className=\"font-medium capitalize\">{result.navigation.type}</span>\r\n                  </p>\r\n                  <div className=\"space-y-2\">\r\n                    {result.navigation.structure.map((item, index) => (\r\n                      <div key={index} className=\"flex items-center gap-2 p-2 bg-muted/50 rounded\">\r\n                        <div className=\"w-2 h-2 bg-primary rounded-full\" />\r\n                        {item.name}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Components */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Components</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-3\">\r\n                  {result.components.map((component, index) => (\r\n                    <div key={index} className=\"p-3 bg-muted/50 rounded-lg\">\r\n                      <h4 className=\"font-medium\">{component.name}</h4>\r\n                      <Badge variant=\"outline\" className=\"text-xs mb-2\">\r\n                        {component.type}\r\n                      </Badge>\r\n                      <p className=\"text-sm text-muted-foreground\">{component.description}</p>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        {/* Enhanced AI Tools Tab */}\r\n        <TabsContent value=\"ai-tools\" className=\"space-y-6\">\r\n          <div className=\"space-y-6\">\r\n            {/* Header with category filter */}\r\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold\">AI Tools Recommendations</h2>\r\n                <p className=\"text-muted-foreground\">Curated tools to accelerate your MVP development</p>\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  variant={selectedCategory === 'all' ? 'default' : 'outline'}\r\n                  size=\"sm\"\r\n                  onClick={() => setSelectedCategory('all')}\r\n                >\r\n                  All Tools\r\n                </Button>\r\n                <Button\r\n                  variant={selectedCategory === 'app-builders' ? 'default' : 'outline'}\r\n                  size=\"sm\"\r\n                  onClick={() => setSelectedCategory('app-builders')}\r\n                >\r\n                  App Builders\r\n                </Button>\r\n                <Button\r\n                  variant={selectedCategory === 'ui-ux' ? 'default' : 'outline'}\r\n                  size=\"sm\"\r\n                  onClick={() => setSelectedCategory('ui-ux')}\r\n                >\r\n                  UI/UX\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Enhanced tools grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {enhancedTools\r\n                .filter(tool => selectedCategory === 'all' || tool.category === selectedCategory)\r\n                .map((tool, index) => (\r\n                <Card key={tool.id} className=\"relative hover:shadow-lg transition-shadow\">\r\n                  <CardHeader className=\"pb-3\">\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-10 h-10 bg-primary/20 rounded-lg flex items-center justify-center\">\r\n                          {getToolIcon(tool)}\r\n                        </div>\r\n                        <div>\r\n                          <CardTitle className=\"text-lg\">{tool.name}</CardTitle>\r\n                          <p className=\"text-sm text-muted-foreground line-clamp-2\">{tool.description}</p>\r\n                        </div>\r\n                      </div>\r\n                      {tool.popularity >= 85 && (\r\n                        <Badge className=\"bg-yellow-500/20 text-yellow-400 border-yellow-500/30\">\r\n                          <Star className=\"h-3 w-3 mr-1\" />\r\n                          Popular\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Badge className={getPricingColorEnhanced(tool.pricing.model)}>\r\n                        <DollarSign className=\"h-3 w-3 mr-1\" />\r\n                        {tool.pricing.inr}\r\n                      </Badge>\r\n                      <div className=\"text-sm text-muted-foreground\">\r\n                        Popularity: {tool.popularity}%\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <h4 className=\"font-medium text-sm mb-2\">Best For:</h4>\r\n                      <div className=\"flex flex-wrap gap-1\">\r\n                        {tool.bestFor.slice(0, 3).map((item, idx) => (\r\n                          <Badge key={idx} variant=\"outline\" className=\"text-xs\">\r\n                            {item}\r\n                          </Badge>\r\n                        ))}\r\n                        {tool.bestFor.length > 3 && (\r\n                          <Badge variant=\"outline\" className=\"text-xs\">\r\n                            +{tool.bestFor.length - 3} more\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <h4 className=\"font-medium text-sm mb-2\">Why Recommended:</h4>\r\n                      <p className=\"text-xs text-muted-foreground line-clamp-2\">{tool.whyRecommend}</p>\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-2 pt-2\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => window.open(tool.officialUrl, '_blank')}\r\n                        className=\"flex-1\"\r\n                      >\r\n                        <ExternalLink className=\"h-4 w-4 mr-2\" />\r\n                        Visit\r\n                      </Button>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        onClick={() => openInBuilder(tool, result.frameworkPrompt)}\r\n                        className=\"flex-1\"\r\n                      >\r\n                        <Sparkles className=\"h-4 w-4 mr-2\" />\r\n                        Start Building\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Quick start guide */}\r\n            <Card className=\"bg-gradient-to-r from-primary/10 to-blue-500/10 border-primary/20\">\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Zap className=\"h-5 w-5 text-primary\" />\r\n                  Quick Start Guide\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div className=\"text-center p-4\">\r\n                    <div className=\"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                      <span className=\"text-primary font-bold\">1</span>\r\n                    </div>\r\n                    <h4 className=\"font-medium mb-2\">Choose Your Tool</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">Select the AI tool that best fits your project needs and budget</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4\">\r\n                    <div className=\"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                      <span className=\"text-primary font-bold\">2</span>\r\n                    </div>\r\n                    <h4 className=\"font-medium mb-2\">Copy & Paste Prompts</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">Use our generated prompts to quickly set up your project structure</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4\">\r\n                    <div className=\"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                      <span className=\"text-primary font-bold\">3</span>\r\n                    </div>\r\n                    <h4 className=\"font-medium mb-2\">Build & Launch</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">Follow the tool's workflow to bring your MVP to life</p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        {/* Enhancement Tab */}\r\n        <TabsContent value=\"enhance\" className=\"space-y-6\">\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold\">Enhance Your MVP Blueprint</h2>\r\n              <p className=\"text-muted-foreground\">Iterate and improve your MVP with additional features and optimizations</p>\r\n            </div>\r\n\r\n            {/* Enhancement Options */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <Card className=\"hover:shadow-lg transition-shadow\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Sparkles className=\"h-5 w-5 text-primary\" />\r\n                    Add Advanced Features\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Enhance your MVP with additional functionality like user authentication, payments, analytics, and more.\r\n                  </p>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">User authentication & profiles</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Payment integration</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Analytics & tracking</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">API integrations</span>\r\n                    </div>\r\n                  </div>\r\n                  <Button className=\"w-full\" variant=\"outline\">\r\n                    <Zap className=\"h-4 w-4 mr-2\" />\r\n                    Generate Enhancement Prompts\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"hover:shadow-lg transition-shadow\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Palette className=\"h-5 w-5 text-primary\" />\r\n                    Design Improvements\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Refine your design with better UX patterns, accessibility improvements, and visual enhancements.\r\n                  </p>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Accessibility improvements</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Mobile responsiveness</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Animation & micro-interactions</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Performance optimization</span>\r\n                    </div>\r\n                  </div>\r\n                  <Button className=\"w-full\" variant=\"outline\">\r\n                    <Palette className=\"h-4 w-4 mr-2\" />\r\n                    Generate Design Prompts\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"hover:shadow-lg transition-shadow\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Globe className=\"h-5 w-5 text-primary\" />\r\n                    Platform Expansion\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Expand your MVP to additional platforms and devices for broader reach.\r\n                  </p>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Mobile app version</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Desktop application</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Browser extension</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">API for third-party integrations</span>\r\n                    </div>\r\n                  </div>\r\n                  <Button className=\"w-full\" variant=\"outline\">\r\n                    <Globe className=\"h-4 w-4 mr-2\" />\r\n                    Generate Platform Prompts\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"hover:shadow-lg transition-shadow\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Brain className=\"h-5 w-5 text-primary\" />\r\n                    AI-Powered Features\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Integrate AI capabilities to make your MVP smarter and more competitive.\r\n                  </p>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">AI chatbot integration</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Smart recommendations</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Automated content generation</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                      <span className=\"text-sm\">Predictive analytics</span>\r\n                    </div>\r\n                  </div>\r\n                  <Button className=\"w-full\" variant=\"outline\">\r\n                    <Brain className=\"h-4 w-4 mr-2\" />\r\n                    Generate AI Prompts\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            {/* Enhancement Workflow */}\r\n            <Card className=\"bg-gradient-to-r from-primary/10 to-blue-500/10 border-primary/20\">\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Zap className=\"h-5 w-5 text-primary\" />\r\n                  Enhancement Workflow\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                  <div className=\"text-center p-4\">\r\n                    <div className=\"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                      <span className=\"text-primary font-bold\">1</span>\r\n                    </div>\r\n                    <h4 className=\"font-medium mb-2\">Choose Enhancement</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">Select the type of improvement you want to add</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4\">\r\n                    <div className=\"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                      <span className=\"text-primary font-bold\">2</span>\r\n                    </div>\r\n                    <h4 className=\"font-medium mb-2\">Generate Prompts</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">Get AI prompts tailored to your enhancement needs</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4\">\r\n                    <div className=\"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                      <span className=\"text-primary font-bold\">3</span>\r\n                    </div>\r\n                    <h4 className=\"font-medium mb-2\">Implement Changes</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">Use the prompts in your chosen AI builder</p>\r\n                  </div>\r\n                  <div className=\"text-center p-4\">\r\n                    <div className=\"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                      <span className=\"text-primary font-bold\">4</span>\r\n                    </div>\r\n                    <h4 className=\"font-medium mb-2\">Test & Iterate</h4>\r\n                    <p className=\"text-sm text-muted-foreground\">Validate improvements and continue enhancing</p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        {/* Original Tools Tab */}\r\n        <TabsContent value=\"tools\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {result.recommendedTools\r\n              .sort((a, b) => a.priority - b.priority)\r\n              .map((tool, index) => (\r\n              <Card key={index} className=\"relative\">\r\n                <CardHeader>\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {tool.logoUrl ? (\r\n                        <img src={tool.logoUrl} alt={tool.name} className=\"w-10 h-10 rounded\" />\r\n                      ) : (\r\n                        <div className=\"w-10 h-10 bg-primary/20 rounded flex items-center justify-center\">\r\n                          <Zap className=\"h-5 w-5 text-primary\" />\r\n                        </div>\r\n                      )}\r\n                      <div>\r\n                        <CardTitle className=\"text-lg\">{tool.name}</CardTitle>\r\n                        <p className=\"text-sm text-muted-foreground\">{tool.description}</p>\r\n                      </div>\r\n                    </div>\r\n                    {index === 0 && (\r\n                      <Badge className=\"bg-yellow-500/20 text-yellow-400 border-yellow-500/30\">\r\n                        <Star className=\"h-3 w-3 mr-1\" />\r\n                        Recommended\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <Badge className={getPricingColor(tool.pricing)}>\r\n                      <DollarSign className=\"h-3 w-3 mr-1\" />\r\n                      {tool.pricing}\r\n                    </Badge>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <h4 className=\"font-medium text-sm mb-2\">Best For:</h4>\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                      {tool.bestFor.map((item, idx) => (\r\n                        <Badge key={idx} variant=\"outline\" className=\"text-xs\">\r\n                          {item}\r\n                        </Badge>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <h4 className=\"font-medium text-sm mb-2 text-green-400\">Pros:</h4>\r\n                      <ul className=\"text-xs space-y-1\">\r\n                        {tool.pros.map((pro, idx) => (\r\n                          <li key={idx} className=\"flex items-start gap-1\">\r\n                            <CheckCircle2 className=\"h-3 w-3 text-green-400 mt-0.5 flex-shrink-0\" />\r\n                            {pro}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                    <div>\r\n                      <h4 className=\"font-medium text-sm mb-2 text-orange-400\">Cons:</h4>\r\n                      <ul className=\"text-xs space-y-1\">\r\n                        {tool.cons.map((con, idx) => (\r\n                          <li key={idx} className=\"flex items-start gap-1\">\r\n                            <div className=\"w-3 h-3 border border-orange-400 rounded-full mt-0.5 flex-shrink-0\" />\r\n                            {con}\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex gap-2 pt-2\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => window.open(tool.url, '_blank')}\r\n                      className=\"flex-1\"\r\n                    >\r\n                      <ExternalLink className=\"h-4 w-4 mr-2\" />\r\n                      Visit {tool.name}\r\n                    </Button>\r\n                    <Button\r\n                      size=\"sm\"\r\n                      onClick={() => copyToClipboard(tool.url, `${tool.name} URL`)}\r\n                      className=\"flex-1\"\r\n                    >\r\n                      <Copy className=\"h-4 w-4 mr-2\" />\r\n                      Copy Link\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </TabsContent>\r\n\r\n        {/* Launch Tab */}\r\n        <TabsContent value=\"launch\" className=\"space-y-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Zap className=\"h-5 w-5\" />\r\n                Launch Roadmap\r\n              </CardTitle>\r\n              <p className=\"text-muted-foreground\">\r\n                Follow these steps to bring your MVP to life\r\n              </p>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-6\">\r\n                {result.launchPath.map((step, index) => (\r\n                  <div key={index} className=\"flex gap-4\">\r\n                    <div className=\"flex flex-col items-center\">\r\n                      <div className=\"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-sm font-medium\">\r\n                        {step.step}\r\n                      </div>\r\n                      {index < result.launchPath.length - 1 && (\r\n                        <div className=\"w-px h-16 bg-border mt-2\" />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-1 pb-8\">\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <h3 className=\"font-semibold\">{step.title}</h3>\r\n                        <Badge variant=\"outline\" className=\"text-xs\">\r\n                          <Clock className=\"h-3 w-3 mr-1\" />\r\n                          {step.estimatedTime}\r\n                        </Badge>\r\n                      </div>\r\n                      <p className=\"text-muted-foreground mb-3\">{step.description}</p>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {step.tools.map((tool, toolIdx) => (\r\n                          <Badge key={toolIdx} className=\"bg-primary/20 text-primary\">\r\n                            {tool}\r\n                          </Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Next Steps</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center gap-2 p-3 bg-primary/10 rounded-lg\">\r\n                  <CheckCircle2 className=\"h-5 w-5 text-primary\" />\r\n                  <span className=\"font-medium\">Choose your preferred tool from the recommendations</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 p-3 bg-muted/50 rounded-lg\">\r\n                  <div className=\"w-5 h-5 border-2 border-muted-foreground rounded-full\" />\r\n                  <span>Copy the UI prompt and paste it into your chosen tool</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 p-3 bg-muted/50 rounded-lg\">\r\n                  <div className=\"w-5 h-5 border-2 border-muted-foreground rounded-full\" />\r\n                  <span>Follow the launch roadmap step by step</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 p-3 bg-muted/50 rounded-lg\">\r\n                  <div className=\"w-5 h-5 border-2 border-muted-foreground rounded-full\" />\r\n                  <span>Test your MVP with real users and iterate</span>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Label: React.FC<{ className?: string; children: React.ReactNode }> = ({ className, children }) => (\r\n  <div className={className}>{children}</div>\r\n);\r\n\r\nexport default MVPResultsDisplay;\r\n","import React from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  Copy,\r\n  Download,\r\n  Clock,\r\n  Brain,\r\n  Rocket,\r\n  Layers,\r\n  Palette,\r\n  Map,\r\n  Target,\r\n  ExternalLink\r\n} from \"lucide-react\";\r\nimport { useIdeaStore, PromptData } from \"@/stores/ideaStore\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\ninterface IdeaPromptHistoryProps {\r\n  ideaId: string;\r\n  ideaTitle: string;\r\n  className?: string;\r\n}\r\n\r\nconst IdeaPromptHistory: React.FC<IdeaPromptHistoryProps> = ({ \r\n  ideaId, \r\n  ideaTitle, \r\n  className \r\n}) => {\r\n  const getPromptsByIdea = useIdeaStore((state) => state.getPromptsByIdea);\r\n  const exportIdeaPrompts = useIdeaStore((state) => state.exportIdeaPrompts);\r\n  const { toast } = useToast();\r\n\r\n  const prompts = getPromptsByIdea(ideaId);\r\n  const ideaforgePrompts = prompts.filter(p => \r\n    p.section.includes('target-user') || \r\n    p.section.includes('features') || \r\n    p.section.includes('structure') || \r\n    p.section.includes('ui-design') || \r\n    p.section.includes('pages')\r\n  );\r\n  const mvpStudioPrompts = prompts.filter(p => p.ideaId === ideaId);\r\n\r\n  const copyToClipboard = (text: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    toast({\r\n      title: \"Copied!\",\r\n      description: \"Content copied to clipboard.\",\r\n    });\r\n  };\r\n\r\n  const exportAllPrompts = () => {\r\n    const exported = exportIdeaPrompts(ideaId);\r\n    const blob = new Blob([exported], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `${ideaTitle.replace(/\\s+/g, '-').toLowerCase()}-prompts-${new Date().toISOString().split('T')[0]}.json`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n    \r\n    toast({\r\n      title: \"Exported!\",\r\n      description: \"All prompts for this idea exported successfully.\",\r\n    });\r\n  };\r\n\r\n  const getSectionIcon = (section: string) => {\r\n    if (section.includes('target-user')) return <Target className=\"h-4 w-4 text-blue-400\" />;\r\n    if (section.includes('features')) return <Layers className=\"h-4 w-4 text-purple-400\" />;\r\n    if (section.includes('structure')) return <Map className=\"h-4 w-4 text-orange-400\" />;\r\n    if (section.includes('ui-design')) return <Palette className=\"h-4 w-4 text-pink-400\" />;\r\n    if (section.includes('pages')) return <Map className=\"h-4 w-4 text-cyan-400\" />;\r\n    return <Rocket className=\"h-4 w-4 text-green-400\" />;\r\n  };\r\n\r\n  const getSectionColor = (section: string) => {\r\n    if (section.includes('target-user')) return \"bg-blue-600/20 text-blue-400\";\r\n    if (section.includes('features')) return \"bg-purple-600/20 text-purple-400\";\r\n    if (section.includes('structure')) return \"bg-orange-600/20 text-orange-400\";\r\n    if (section.includes('ui-design')) return \"bg-pink-600/20 text-pink-400\";\r\n    if (section.includes('pages')) return \"bg-cyan-600/20 text-cyan-400\";\r\n    return \"bg-green-600/20 text-green-400\";\r\n  };\r\n\r\n  const formatSectionName = (section: string) => {\r\n    return section\r\n      .replace(`${ideaId}-`, '')\r\n      .replace(/-/g, ' ')\r\n      .replace(/\\b\\w/g, l => l.toUpperCase());\r\n  };\r\n\r\n  return (\r\n    <Card className={`bg-black/40 backdrop-blur-sm border-white/10 ${className}`}>\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"text-white flex items-center gap-2\">\r\n            <Clock className=\"h-5 w-5 text-gray-400\" />\r\n            {ideaTitle} - Prompt History\r\n          </CardTitle>\r\n          {prompts.length > 0 && (\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={exportAllPrompts}\r\n              className=\"border-gray-600 text-gray-300 hover:bg-gray-800\"\r\n            >\r\n              <Download className=\"h-4 w-4 mr-2\" />\r\n              Export All\r\n            </Button>\r\n          )}\r\n        </div>\r\n        <div className=\"flex items-center gap-4 text-sm text-gray-400\">\r\n          <span>Total: {prompts.length} prompts</span>\r\n          <span>IdeaForge: {ideaforgePrompts.length}</span>\r\n          <span>MVP Studio: {mvpStudioPrompts.length}</span>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        {prompts.length === 0 ? (\r\n          <div className=\"text-center py-8\">\r\n            <Clock className=\"h-12 w-12 text-gray-600 mx-auto mb-4\" />\r\n            <p className=\"text-gray-400\">No prompts generated yet</p>\r\n            <p className=\"text-gray-500 text-sm\">\r\n              Complete IdeaForge sections and generate MVP prompts to see them here\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <ScrollArea className=\"h-96\">\r\n            <div className=\"space-y-6\">\r\n              {/* IdeaForge Section */}\r\n              {ideaforgePrompts.length > 0 && (\r\n                <div>\r\n                  <div className=\"flex items-center gap-2 mb-4\">\r\n                    <Brain className=\"h-5 w-5 text-blue-400\" />\r\n                    <h4 className=\"font-semibold text-white\">IdeaForge Research</h4>\r\n                    <Badge className=\"bg-blue-600/20 text-blue-400\">\r\n                      {ideaforgePrompts.length} prompts\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"space-y-3\">\r\n                    {ideaforgePrompts.map((prompt, index) => (\r\n                      <Card key={index} className=\"bg-gray-900/50 border-gray-700\">\r\n                        <CardHeader className=\"pb-3\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              {getSectionIcon(prompt.section)}\r\n                              <Badge className={getSectionColor(prompt.section)}>\r\n                                {formatSectionName(prompt.section)}\r\n                              </Badge>\r\n                            </div>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => copyToClipboard(prompt.response)}\r\n                              className=\"h-8 w-8 p-0 text-gray-400 hover:text-white\"\r\n                            >\r\n                              <Copy className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          </div>\r\n                        </CardHeader>\r\n                        <CardContent className=\"pt-0\">\r\n                          <div className=\"text-xs text-gray-300 bg-gray-800/50 p-2 rounded max-h-24 overflow-y-auto\">\r\n                            <pre className=\"whitespace-pre-wrap\">\r\n                              {prompt.response.length > 200 \r\n                                ? prompt.response.substring(0, 200) + '...' \r\n                                : prompt.response\r\n                              }\r\n                            </pre>\r\n                          </div>\r\n                          <div className=\"flex items-center justify-between text-xs text-gray-500 mt-2\">\r\n                            <span>\r\n                              {new Date(prompt.timestamp).toLocaleDateString()} at{' '}\r\n                              {new Date(prompt.timestamp).toLocaleTimeString()}\r\n                            </span>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => copyToClipboard(prompt.response)}\r\n                              className=\"h-6 text-xs text-gray-400 hover:text-white\"\r\n                            >\r\n                              Copy Full\r\n                            </Button>\r\n                          </div>\r\n                        </CardContent>\r\n                      </Card>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Separator */}\r\n              {ideaforgePrompts.length > 0 && mvpStudioPrompts.length > 0 && (\r\n                <Separator className=\"bg-gray-700\" />\r\n              )}\r\n\r\n              {/* MVP Studio Section */}\r\n              {mvpStudioPrompts.length > 0 && (\r\n                <div>\r\n                  <div className=\"flex items-center gap-2 mb-4\">\r\n                    <Rocket className=\"h-5 w-5 text-green-400\" />\r\n                    <h4 className=\"font-semibold text-white\">MVP Studio Prompts</h4>\r\n                    <Badge className=\"bg-green-600/20 text-green-400\">\r\n                      {mvpStudioPrompts.length} prompts\r\n                    </Badge>\r\n                  </div>\r\n                  <div className=\"space-y-3\">\r\n                    {mvpStudioPrompts.map((prompt, index) => (\r\n                      <Card key={index} className=\"bg-gray-900/50 border-gray-700\">\r\n                        <CardHeader className=\"pb-3\">\r\n                          <div className=\"flex items-center justify-between\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <Rocket className=\"h-4 w-4 text-green-400\" />\r\n                              <Badge className=\"bg-green-600/20 text-green-400\">\r\n                                {prompt.pageType || formatSectionName(prompt.section)}\r\n                              </Badge>\r\n                              {prompt.appType && (\r\n                                <Badge variant=\"outline\" className=\"border-gray-600 text-gray-300\">\r\n                                  {prompt.appType}\r\n                                </Badge>\r\n                              )}\r\n                            </div>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => copyToClipboard(prompt.response)}\r\n                              className=\"h-8 w-8 p-0 text-gray-400 hover:text-white\"\r\n                            >\r\n                              <Copy className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          </div>\r\n                        </CardHeader>\r\n                        <CardContent className=\"pt-0\">\r\n                          {prompt.tools && prompt.tools.length > 0 && (\r\n                            <div className=\"flex flex-wrap gap-1 mb-2\">\r\n                              {prompt.tools.map((tool, toolIndex) => (\r\n                                <Badge key={toolIndex} variant=\"outline\" className=\"text-xs border-gray-600 text-gray-400\">\r\n                                  {tool}\r\n                                </Badge>\r\n                              ))}\r\n                            </div>\r\n                          )}\r\n                          <div className=\"text-xs text-gray-300 bg-gray-800/50 p-2 rounded max-h-24 overflow-y-auto\">\r\n                            <pre className=\"whitespace-pre-wrap\">\r\n                              {prompt.response.length > 200 \r\n                                ? prompt.response.substring(0, 200) + '...' \r\n                                : prompt.response\r\n                              }\r\n                            </pre>\r\n                          </div>\r\n                          <div className=\"flex items-center justify-between text-xs text-gray-500 mt-2\">\r\n                            <span>\r\n                              {new Date(prompt.timestamp).toLocaleDateString()} at{' '}\r\n                              {new Date(prompt.timestamp).toLocaleTimeString()}\r\n                            </span>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => copyToClipboard(prompt.response)}\r\n                              className=\"h-6 text-xs text-gray-400 hover:text-white\"\r\n                            >\r\n                              Copy Full\r\n                            </Button>\r\n                          </div>\r\n                        </CardContent>\r\n                      </Card>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </ScrollArea>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default IdeaPromptHistory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport WorkspaceSidebar, { SidebarToggle } from \"@/components/WorkspaceSidebar\";\r\nimport {\r\n  Plus,\r\n  Brain,\r\n  Sparkles,\r\n  Zap,\r\n  Users,\r\n  Star,\r\n  ExternalLink,\r\n  Rocket,\r\n\r\n  ChevronLeft,\r\n  Target\r\n} from \"lucide-react\";\r\nimport MVPWizard from \"@/components/mvp-studio/MVPWizard\";\r\nimport MVPResultsDisplay from \"@/components/mvp-studio/MVPResultsDisplay\";\r\nimport AIToolRecommender from \"@/components/ai-tools/AIToolRecommender\";\r\nimport IdeaPromptHistory from \"@/components/mvp-studio/IdeaPromptHistory\";\r\nimport UpgradePrompt from \"@/components/UpgradePrompt\";\r\nimport { MVPAnalysisResult } from \"@/types/ideaforge\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { aiProviderService } from \"@/services/aiProviderService\";\r\nimport {\r\n  aiToolsDatabase,\r\n  aiToolsCategories,\r\n  AITool\r\n} from \"@/data/aiToolsDatabase\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { useActiveIdea, usePromptHistory, useIdeaStore } from \"@/stores/ideaStore\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\nimport { mvpStudioHelpers } from \"@/lib/supabase-connection-helpers\";\r\n\r\nconst MVPStudio = () => {\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"tool-recommendation\");\r\n  const [mvpWizardOpen, setMvpWizardOpen] = useState(false);\r\n  const [showMvpResults, setShowMvpResults] = useState(false);\r\n  const [mvpResult, setMvpResult] = useState<MVPAnalysisResult | null>(null);\r\n  const [isCheckingAI, setIsCheckingAI] = useState(false);\r\n  const [hasAIProvider, setHasAIProvider] = useState(false);\r\n  // const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [mvps, setMvps] = useState<Record<string, unknown>[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // New state for sequential flow\r\n  // const [currentStep, setCurrentStep] = useState(1);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [selectedAppType, setSelectedAppType] = useState<'web' | 'mobile' | 'saas' | null>(null);\r\n  const [selectedTools, setSelectedTools] = useState<AITool[]>([]);\r\n\r\n  // Store hooks\r\n  const { activeIdea } = useActiveIdea();\r\n  const { addPrompt, getPrompt } = usePromptHistory();\r\n  const canGeneratePrompts = useIdeaStore((state) => state.canGeneratePrompts);\r\n  const getRemainingPrompts = useIdeaStore((state) => state.getRemainingPrompts);\r\n\r\n  // Initialize Gemini AI\r\n  const genAI = new GoogleGenerativeAI(import.meta.env.VITE_GEMINI_API_KEY || \"\");\r\n\r\n  // Database helper functions\r\n  const loadMVPs = async () => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const { data, error } = await mvpStudioHelpers.getMVPs(user.id);\r\n\r\n      if (error) throw error;\r\n\r\n      setMvps(data || []);\r\n    } catch (error: unknown) {\r\n      console.error('Error loading MVPs:', error);\r\n      toast({\r\n        title: \"Error Loading MVPs\",\r\n        description: \"Failed to load your MVPs. Please try again.\",\r\n        variant: \"destructive\"\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const savePromptToDatabase = async (section: string, sectionKey: string, prompt: string, response: string) => {\r\n    if (!user || !activeIdea) return;\r\n\r\n    try {\r\n      await mvpStudioHelpers.savePromptHistory({\r\n        idea_id: activeIdea.id,\r\n        prompt_text: prompt,\r\n        response_text: response,\r\n        prompt_type: section,\r\n        ai_provider: 'gemini',\r\n        model_used: 'gemini-2.0-flash',\r\n        user_id: user.id,\r\n        metadata: {\r\n          section_key: sectionKey,\r\n          app_type: selectedAppType,\r\n          tools: selectedTools.map(t => t.name)\r\n        }\r\n      });\r\n    } catch (error: unknown) {\r\n      console.error('Error saving prompt to database:', error);\r\n    }\r\n  };\r\n\r\n  // Load data on component mount\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadMVPs();\r\n    }\r\n  }, [user]);\r\n\r\n  // Sequential prompt generation\r\n  const generatePagePrompt = async (pageName: string, pageDescription: string) => {\r\n    if (!activeIdea) return;\r\n\r\n    if (!canGeneratePrompts()) {\r\n      toast({\r\n        title: \"Prompt Limit Reached\",\r\n        description: \"You've reached your free tier prompt limit. Upgrade to Pro for unlimited prompts.\",\r\n        variant: \"destructive\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(true);\r\n    try {\r\n      const model = genAI.getGenerativeModel({ model: \"gemini-2.0-flash\" });\r\n\r\n      // Get context from IdeaForge prompts\r\n      const targetUserPrompt = getPrompt('ideaforge', 'target-user');\r\n      const featuresPrompt = getPrompt('ideaforge', 'features');\r\n      const uiDesignPrompt = getPrompt('ideaforge', 'ui-design');\r\n\r\n      const contextPrompt = `\r\n      Based on this startup idea and research:\r\n\r\n      Idea: ${activeIdea.title}\r\n      Description: ${activeIdea.description}\r\n\r\n      ${targetUserPrompt ? `Target User Research: ${targetUserPrompt.response}` : ''}\r\n      ${featuresPrompt ? `Core Features: ${featuresPrompt.response}` : ''}\r\n      ${uiDesignPrompt ? `UI Design Guidelines: ${uiDesignPrompt.response}` : ''}\r\n\r\n      Generate a detailed prompt for building the \"${pageName}\" page/screen.\r\n\r\n      Page Description: ${pageDescription}\r\n      App Type: ${selectedAppType || 'web'}\r\n      Recommended Tools: ${selectedTools.map(t => t.name).join(', ')}\r\n\r\n      Create a comprehensive prompt that includes:\r\n      1. Page purpose and user goals\r\n      2. Specific UI components needed\r\n      3. Layout and design specifications\r\n      4. Interactive elements and functionality\r\n      5. Data requirements\r\n      6. Tool-specific implementation hints\r\n\r\n      Format this as a ready-to-use prompt for AI builders like ${selectedTools.map(t => t.name).join(', ')}.\r\n      `;\r\n\r\n      const result = await model.generateContent(contextPrompt);\r\n      const response = await result.response;\r\n      const text = response.text();\r\n\r\n      // Save to prompt history with organized structure\r\n      const promptData = {\r\n        id: Date.now().toString(),\r\n        prompt: `Generate ${pageName} page for ${activeIdea.title}`,\r\n        response: text,\r\n        timestamp: new Date().toISOString(),\r\n        section: `${activeIdea.id}-${pageName.toLowerCase().replace(/\\s+/g, '-')}`,\r\n        ideaId: activeIdea.id,\r\n        ideaTitle: activeIdea.title,\r\n        pageType: pageName,\r\n        appType: selectedAppType,\r\n        tools: selectedTools.map(t => t.name)\r\n      };\r\n\r\n      // Save to local store for immediate UI updates\r\n      addPrompt('mvpStudio', `${activeIdea.id}-${pageName.toLowerCase().replace(/\\s+/g, '-')}`, promptData);\r\n\r\n      // Save to database for persistence\r\n      await savePromptToDatabase(\r\n        'mvpstudio',\r\n        `${activeIdea.id}-${pageName.toLowerCase().replace(/\\s+/g, '-')}`,\r\n        `Generate ${pageName} page for ${activeIdea.title}`,\r\n        text\r\n      );\r\n\r\n      toast({\r\n        title: \"Page Prompt Generated!\",\r\n        description: `${pageName} prompt has been generated and saved.`,\r\n      });\r\n\r\n    } catch (error) {\r\n      console.error('Error generating page prompt:', error);\r\n      toast({\r\n        title: \"Generation Failed\",\r\n        description: \"Could not generate page prompt. Please try again.\",\r\n        variant: \"destructive\"\r\n      });\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  // Enhanced AI Tools data from database\r\n  const categoryStats = aiToolsCategories.map(category => ({\r\n    ...category,\r\n    count: aiToolsDatabase.filter(tool => tool.category === category.id).length,\r\n    avgPopularity: Math.round(\r\n      aiToolsDatabase\r\n        .filter(tool => tool.category === category.id)\r\n        .reduce((sum, tool) => sum + tool.popularity, 0) /\r\n      aiToolsDatabase.filter(tool => tool.category === category.id).length\r\n    )\r\n  }));\r\n\r\n  const featuredTools = aiToolsDatabase\r\n    .filter(tool => tool.popularity >= 85)\r\n    .slice(0, 6);\r\n\r\n  const freeTools = aiToolsDatabase\r\n    .filter(tool => tool.pricing.model === 'free')\r\n    .slice(0, 4);\r\n\r\n  const builderTools = aiToolsDatabase\r\n    .filter(tool => tool.category === 'app-builders')\r\n    .slice(0, 6);\r\n\r\n  // Templates will be loaded dynamically based on user preferences and AI recommendations\r\n  const mvpTemplates: unknown[] = [];\r\n\r\n  // Check AI provider on component mount\r\n  useEffect(() => {\r\n    const checkAIProvider = async () => {\r\n      setIsCheckingAI(true);\r\n      try {\r\n        const providers = await aiProviderService.getProviders();\r\n        setHasAIProvider(providers.length > 0);\r\n      } catch (error) {\r\n        console.error('Error checking AI providers:', error);\r\n        setHasAIProvider(false);\r\n      } finally {\r\n        setIsCheckingAI(false);\r\n      }\r\n    };\r\n\r\n    checkAIProvider();\r\n  }, []);\r\n\r\n  const handleStartMVPWizard = () => {\r\n    setMvpWizardOpen(true);\r\n  };\r\n\r\n  const handleMvpWizardComplete = (result: MVPAnalysisResult) => {\r\n    setMvpResult(result);\r\n    setMvpWizardOpen(false);\r\n    setShowMvpResults(true);\r\n  };\r\n\r\n  const handleCloseMvpResults = () => {\r\n    setShowMvpResults(false);\r\n    setMvpResult(null);\r\n  };\r\n\r\n  const handleToolSelect = (tool: AITool) => {\r\n    toast({\r\n      title: \"Tool Selected\",\r\n      description: `Opening ${tool.name} in a new tab`\r\n    });\r\n    window.open(tool.officialUrl, '_blank');\r\n  };\r\n\r\n  const handleTemplateSelect = (template: unknown) => {\r\n    toast({\r\n      title: \"Template Selected\",\r\n      description: `Starting MVP Wizard with ${(template as any).name} template`\r\n    });\r\n    setMvpWizardOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"layout-container\">\r\n      <WorkspaceSidebar isOpen={sidebarOpen} setIsOpen={setSidebarOpen} />\r\n      <main className=\"layout-main transition-all duration-300\">\r\n        {/* Top Navigation Bar */}\r\n        <div className=\"sticky top-0 z-10 bg-black/80 backdrop-blur-xl border-b border-white/10\">\r\n          <div className=\"px-6 py-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <SidebarToggle onClick={() => setSidebarOpen(true)} />\r\n                <Link\r\n                  to=\"/workspace\"\r\n                  className=\"flex items-center gap-2 text-gray-400 hover:text-white transition-colors text-sm\"\r\n                >\r\n                  <ChevronLeft className=\"h-4 w-4\" />\r\n                  <span>Back to Workspace</span>\r\n                </Link>\r\n              </div>\r\n              <Button\r\n                onClick={() => setMvpWizardOpen(true)}\r\n                className=\"bg-green-600 hover:bg-green-700\"\r\n                disabled={!hasAIProvider}\r\n              >\r\n                <Plus className=\"h-4 w-4 mr-2\" />\r\n                New MVP\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"px-6 py-8\">\r\n          {/* Header Section */}\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <Brain className=\"h-8 w-8 text-green-400\" />\r\n              <h1 className=\"text-3xl md:text-4xl font-bold text-white\">MVP Studio</h1>\r\n            </div>\r\n            <p className=\"text-gray-400 text-lg\">\r\n              Build your MVP with AI-powered insights and tool recommendations\r\n            </p>\r\n          </div>\r\n\r\n          {/* Main Content Container */}\r\n          <div className=\"bg-black/40 backdrop-blur-sm rounded-2xl border border-white/10 p-6 mb-8\">\r\n            {/* Hero Section */}\r\n            <div className=\"text-center space-y-6 py-8 mb-8\">\r\n              <p className=\"text-xl text-gray-400 max-w-3xl mx-auto\">\r\n                Your AI-powered build orchestrator. Generate prompts, get tool recommendations,\r\n                and build your MVP with the best AI builders in the market.\r\n              </p>\r\n\r\n              <div className=\"flex flex-wrap justify-center gap-4 mt-8\">\r\n                <div className=\"flex items-center gap-2 bg-black/60 px-4 py-2 rounded-full border border-white/10\">\r\n                  <Zap className=\"h-4 w-4 text-yellow-500\" />\r\n                  <span className=\"text-sm text-white\">AI-Generated Prompts</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 bg-black/60 px-4 py-2 rounded-full border border-white/10\">\r\n                  <Users className=\"h-4 w-4 text-green-500\" />\r\n                  <span className=\"text-sm text-white\">{aiToolsDatabase.length}+ Tools</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 bg-black/60 px-4 py-2 rounded-full border border-white/10\">\r\n                  <Star className=\"h-4 w-4 text-green-400\" />\r\n                  <span className=\"text-sm text-white\">Export Ready</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Quick Action Buttons */}\r\n            <div className=\"flex flex-col sm:flex-row justify-center items-center gap-4 mb-8\">\r\n              <Button\r\n                onClick={handleStartMVPWizard}\r\n                size=\"lg\"\r\n                className=\"w-full sm:w-auto bg-green-600 hover:bg-green-700\"\r\n                disabled={isCheckingAI}\r\n              >\r\n                {isCheckingAI ? (\r\n                  <>\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                    Checking AI...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Sparkles className=\"h-5 w-5 mr-2\" />\r\n                    Start AI MVP Wizard\r\n                  </>\r\n                )}\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"lg\"\r\n                className=\"w-full sm:w-auto bg-black/60 border-white/20 hover:bg-black/80\"\r\n                onClick={() => setActiveTab('tools')}\r\n              >\r\n                <Target className=\"h-5 w-5 mr-2\" />\r\n                Browse AI Tools\r\n              </Button>\r\n            </div>\r\n\r\n            <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n              <TabsList className=\"bg-black/60 border border-white/20 grid w-full grid-cols-4 mb-6\">\r\n                <TabsTrigger value=\"tool-recommendation\" className=\"data-[state=active]:bg-green-600\">Tool Recommendation</TabsTrigger>\r\n                <TabsTrigger value=\"page-generator\" className=\"data-[state=active]:bg-green-600\">Page Generator</TabsTrigger>\r\n                <TabsTrigger value=\"final-mapping\" className=\"data-[state=active]:bg-green-600\">Final Mapping</TabsTrigger>\r\n                <TabsTrigger value=\"prompt-history\" className=\"data-[state=active]:bg-green-600\">Prompt History</TabsTrigger>\r\n              </TabsList>\r\n\r\n              {/* Tool Recommendation Tab */}\r\n              <TabsContent value=\"tool-recommendation\" className=\"space-y-6\">\r\n                <Card className=\"bg-black/40 backdrop-blur-sm border-white/10\">\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-white\">Step 1: Choose Your App Type & Tools</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-6\">\r\n                    <div>\r\n                      <h4 className=\"text-white font-medium mb-4\">What type of app are you building?</h4>\r\n                      <div className=\"grid grid-cols-3 gap-4\">\r\n                        {['web', 'mobile', 'saas'].map((type) => (\r\n                          <Button\r\n                            key={type}\r\n                            variant={selectedAppType === type ? \"default\" : \"outline\"}\r\n                            onClick={() => setSelectedAppType(type as any)}\r\n                            className={selectedAppType === type ? \"bg-green-600 hover:bg-green-700\" : \"border-gray-600 text-gray-300 hover:bg-gray-800\"}\r\n                          >\r\n                            {type.charAt(0).toUpperCase() + type.slice(1)}\r\n                          </Button>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {selectedAppType && (\r\n                      <div>\r\n                        <h4 className=\"text-white font-medium mb-4\">Recommended Tools for {selectedAppType} apps:</h4>\r\n                        <AIToolRecommender\r\n                          onToolSelect={(tool) => setSelectedTools(prev => [...prev, tool])}\r\n                        />\r\n                      </div>\r\n                    )}\r\n\r\n                    {selectedTools.length > 0 && (\r\n                      <div className=\"bg-green-600/10 border border-green-600/20 rounded-lg p-4\">\r\n                        <h5 className=\"text-green-400 font-medium mb-2\">Selected Tools:</h5>\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {selectedTools.map((tool, index) => (\r\n                            <Badge key={index} className=\"bg-green-600/20 text-green-400\">\r\n                              {tool.name}\r\n                            </Badge>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n\r\n              {/* Page Generator Tab */}\r\n              <TabsContent value=\"page-generator\" className=\"space-y-6\">\r\n                <Card className=\"bg-black/40 backdrop-blur-sm border-white/10\">\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-white\">Step 2: Generate Page-by-Page Prompts</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-6\">\r\n                    {!selectedAppType ? (\r\n                      <div className=\"text-center py-8\">\r\n                        <p className=\"text-gray-400\">Please select an app type in the Tool Recommendation tab first.</p>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"space-y-4\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <p className=\"text-gray-300\">Generate AI prompts for each page of your {selectedAppType} app:</p>\r\n                          <div className=\"text-sm text-gray-400\">\r\n                            {getRemainingPrompts() === -1 ? (\r\n                              <Badge className=\"bg-green-600/20 text-green-400\">Unlimited</Badge>\r\n                            ) : (\r\n                              <span>{getRemainingPrompts()} prompts remaining</span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {getRemainingPrompts() === 0 && (\r\n                          <UpgradePrompt\r\n                            feature=\"More Prompts\"\r\n                            description=\"You've used all your free prompts for this idea. Upgrade to Pro for unlimited AI prompts.\"\r\n                            variant=\"alert\"\r\n                          />\r\n                        )}\r\n\r\n                        {['Homepage', 'Onboarding', 'Dashboard', 'Settings', 'Profile'].map((pageName) => {\r\n                          const existingPrompt = getPrompt('mvpStudio', `${activeIdea?.id}-${pageName.toLowerCase()}`);\r\n                          return (\r\n                            <Card key={pageName} className=\"bg-gray-900/50 border-gray-700\">\r\n                              <CardContent className=\"p-4\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                  <div>\r\n                                    <h5 className=\"text-white font-medium\">{pageName} Page</h5>\r\n                                    <p className=\"text-gray-400 text-sm\">Generate prompt for {pageName.toLowerCase()} page</p>\r\n                                  </div>\r\n                                  <div className=\"flex items-center gap-2\">\r\n                                    {existingPrompt && (\r\n                                      <Badge className=\"bg-green-600/20 text-green-400\">Generated</Badge>\r\n                                    )}\r\n                                    <Button\r\n                                      onClick={() => generatePagePrompt(pageName, `Create a ${pageName.toLowerCase()} page for the ${selectedAppType} app`)}\r\n                                      disabled={isGenerating}\r\n                                      size=\"sm\"\r\n                                      className=\"bg-green-600 hover:bg-green-700\"\r\n                                    >\r\n                                      {isGenerating ? \"Generating...\" : existingPrompt ? \"Regenerate\" : \"Generate\"}\r\n                                    </Button>\r\n                                  </div>\r\n                                </div>\r\n                              </CardContent>\r\n                            </Card>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n\r\n              {/* Final Mapping Tab */}\r\n              <TabsContent value=\"final-mapping\" className=\"space-y-6\">\r\n                <Card className=\"bg-black/40 backdrop-blur-sm border-white/10\">\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-white\">Step 3: Final App Mapping & Architecture</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-6\">\r\n                    <div className=\"text-center py-8\">\r\n                      <p className=\"text-gray-300 mb-4\">Generate the final comprehensive prompt that ties all pages together:</p>\r\n                      <Button\r\n                        onClick={() => {/* generateFinalMappingPrompt() */}}\r\n                        disabled={isGenerating}\r\n                        className=\"bg-green-600 hover:bg-green-700\"\r\n                      >\r\n                        {isGenerating ? \"Generating...\" : \"Generate Final Mapping\"}\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n\r\n              {/* Prompt History Tab */}\r\n              <TabsContent value=\"prompt-history\" className=\"space-y-6\">\r\n                {activeIdea ? (\r\n                  <IdeaPromptHistory\r\n                    ideaId={activeIdea.id}\r\n                    ideaTitle={activeIdea.title}\r\n                  />\r\n                ) : (\r\n                  <Card className=\"bg-black/40 backdrop-blur-sm border-white/10\">\r\n                    <CardContent className=\"text-center py-8\">\r\n                      <p className=\"text-gray-400\">No active idea selected</p>\r\n                    </CardContent>\r\n                  </Card>\r\n                )}\r\n              </TabsContent>\r\n\r\n              {/* MVP Templates Tab */}\r\n              <TabsContent value=\"templates\" className=\"space-y-6\">\r\n                <div className=\"text-center mb-8\">\r\n                  <h2 className=\"text-2xl font-bold mb-2\">MVP Templates</h2>\r\n                  <p className=\"text-muted-foreground\">Pre-configured templates to jumpstart your MVP development</p>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  {mvpTemplates.map(template => (\r\n                    <Card key={(template as any).id} className=\"workspace-card workspace-hover hover:translate-y-[-2px] transition-all cursor-pointer\">\r\n                      <CardContent className=\"p-6\">\r\n                        <div className=\"flex items-start gap-4 mb-4\">\r\n                          <div className=\"p-3 bg-primary/10 rounded-lg\">\r\n                            {React.createElement((template as any).icon, { className: \"h-6 w-6 text-primary\" })}\r\n                          </div>\r\n                          <div className=\"flex-1\">\r\n                            <h3 className=\"font-semibold text-lg mb-2\">{(template as any).name}</h3>\r\n                            <p className=\"text-muted-foreground mb-3\">{(template as any).description}</p>\r\n                            <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                              {(template as any).tags.map((tag: string) => (\r\n                                <Badge key={tag} variant=\"secondary\" className=\"text-xs\">\r\n                                  {tag}\r\n                                </Badge>\r\n                              ))}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-3\">\r\n                          <div className=\"flex justify-between text-sm\">\r\n                            <span className=\"text-muted-foreground\">Complexity:</span>\r\n                            <Badge variant={(template as any).complexity === 'High' ? 'destructive' : (template as any).complexity === 'Medium' ? 'default' : 'secondary'}>\r\n                              {(template as any).complexity}\r\n                            </Badge>\r\n                          </div>\r\n                          <div className=\"flex justify-between text-sm\">\r\n                            <span className=\"text-muted-foreground\">Est. Time:</span>\r\n                            <span>{(template as any).estimatedTime}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between text-sm\">\r\n                            <span className=\"text-muted-foreground\">Recommended Tools:</span>\r\n                            <span className=\"text-right\">{(template as any).recommendedTools.slice(0, 2).join(', ')}</span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <Button\r\n                          className=\"w-full mt-4 workspace-button\"\r\n                          onClick={() => handleTemplateSelect(template)}\r\n                        >\r\n                          <Rocket className=\"h-4 w-4 mr-2\" />\r\n                          Use This Template\r\n                        </Button>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              </TabsContent>\r\n\r\n              {/* AI Tools Hub Tab */}\r\n              <TabsContent value=\"tools\" className=\"space-y-8\">\r\n                <div className=\"text-center mb-8\">\r\n                  <h2 className=\"text-2xl font-bold mb-2\">AI Tools Hub</h2>\r\n                  <p className=\"text-muted-foreground\">Discover the perfect AI tools to build, design, and deploy your MVP</p>\r\n\r\n                  <div className=\"flex flex-wrap justify-center gap-4 mt-6\">\r\n                    <div className=\"flex items-center gap-2 glass-effect px-4 py-2 rounded-full\">\r\n                      <Zap className=\"h-4 w-4 text-yellow-500\" />\r\n                      <span className=\"text-sm\">{aiToolsDatabase.length}+ Tools</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 glass-effect px-4 py-2 rounded-full\">\r\n                      <Users className=\"h-4 w-4 text-green-500\" />\r\n                      <span className=\"text-sm\">{aiToolsCategories.length} Categories</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 glass-effect px-4 py-2 rounded-full\">\r\n                      <Star className=\"h-4 w-4 text-primary\" />\r\n                      <span className=\"text-sm\">INR Pricing</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Featured Builder Tools */}\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-xl font-semibold\">🏗️ Featured App Builders</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {builderTools.map((tool) => (\r\n                      <Card key={tool.id} className=\"workspace-card group hover:shadow-lg transition-all duration-300 hover:scale-[1.01]\">\r\n                        <CardHeader className=\"pb-3\">\r\n                          <div className=\"flex items-start justify-between\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"text-2xl\">{aiToolsCategories.find(c => c.id === tool.category)?.icon}</div>\r\n                              <div>\r\n                                <CardTitle className=\"text-lg\">{tool.name}</CardTitle>\r\n                                <div className=\"flex items-center gap-2 mt-1\">\r\n                                  <Badge variant={tool.pricing.model === 'free' ? 'default' : 'secondary'}>\r\n                                    {tool.pricing.inr}\r\n                                  </Badge>\r\n                                  {tool.apiCompatible && (\r\n                                    <Badge variant=\"outline\" className=\"text-xs\">API</Badge>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-1\">\r\n                              <Star className=\"h-3 w-3 fill-yellow-400 text-yellow-400\" />\r\n                              <span className=\"text-xs text-muted-foreground\">{tool.popularity}</span>\r\n                            </div>\r\n                          </div>\r\n                        </CardHeader>\r\n                        <CardContent className=\"pt-0\">\r\n                          <p className=\"text-sm text-muted-foreground mb-4 line-clamp-2\">\r\n                            {tool.description}\r\n                          </p>\r\n                          <div className=\"flex flex-wrap gap-1 mb-4\">\r\n                            {tool.bestFor.slice(0, 3).map((feature, idx) => (\r\n                              <Badge key={idx} variant=\"outline\" className=\"text-xs\">\r\n                                {feature}\r\n                              </Badge>\r\n                            ))}\r\n                          </div>\r\n                          <div className=\"flex gap-2\">\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              className=\"flex-1\"\r\n                              onClick={() => handleToolSelect(tool)}\r\n                            >\r\n                              <ExternalLink className=\"h-3 w-3 mr-1\" />\r\n                              Open Tool\r\n                            </Button>\r\n                          </div>\r\n                        </CardContent>\r\n                      </Card>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Free Tools Section */}\r\n                <div className=\"space-y-4\">\r\n                  <h3 className=\"text-xl font-semibold\">🆓 Free Tools to Get Started</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                    {freeTools.map((tool) => (\r\n                      <Card key={tool.id} className=\"workspace-card hover:shadow-md transition-all duration-200 hover:scale-[1.01]\">\r\n                        <CardContent className=\"pt-6\">\r\n                          <div className=\"text-center space-y-3\">\r\n                            <div className=\"text-2xl\">\r\n                              {aiToolsCategories.find(c => c.id === tool.category)?.icon}\r\n                            </div>\r\n                            <h3 className=\"font-semibold\">{tool.name}</h3>\r\n                            <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n                              {tool.description}\r\n                            </p>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              className=\"w-full\"\r\n                              onClick={() => handleToolSelect(tool)}\r\n                            >\r\n                              Try Free\r\n                            </Button>\r\n                          </div>\r\n                        </CardContent>\r\n                      </Card>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Full AI Tool Recommender */}\r\n                <div className=\"glass-effect rounded-2xl p-8\">\r\n                  <AIToolRecommender\r\n                    onToolSelect={handleToolSelect}\r\n                    showRecommendationFlow={true}\r\n                  />\r\n                </div>\r\n              </TabsContent>\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      <MVPWizard\r\n        isOpen={mvpWizardOpen}\r\n        onClose={() => setMvpWizardOpen(false)}\r\n        onComplete={handleMvpWizardComplete}\r\n      />\r\n\r\n      {showMvpResults && mvpResult && (\r\n        <div className=\"fixed inset-0 bg-background/95 backdrop-blur-sm z-50 overflow-y-auto\">\r\n          <MVPResultsDisplay\r\n            result={mvpResult}\r\n            onClose={handleCloseMvpResults}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MVPStudio;\r\n","import React from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport {\r\n  Crown,\r\n  Zap,\r\n  Infinity as InfinityIcon,\r\n  Check,\r\n  Star,\r\n  Rocket,\r\n  Brain\r\n} from \"lucide-react\";\r\n\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\ninterface UpgradePromptProps {\r\n  feature: string;\r\n  description: string;\r\n  className?: string;\r\n  variant?: 'card' | 'alert' | 'inline';\r\n}\r\n\r\nconst UpgradePrompt: React.FC<UpgradePromptProps> = ({ \r\n  feature, \r\n  description, \r\n  className,\r\n  variant = 'card'\r\n}) => {\r\n\r\n  const { toast } = useToast();\r\n\r\n  const handleUpgrade = () => {\r\n    // TODO: Implement actual upgrade flow\r\n    toast({\r\n      title: \"Upgrade Coming Soon!\",\r\n      description: \"Pro features will be available soon. Stay tuned!\",\r\n    });\r\n  };\r\n\r\n  const features = {\r\n    free: [\r\n      \"Unlimited workspace access\",\r\n      \"Unlimited idea vault storage\",\r\n      \"1 active idea at a time\",\r\n      \"10 AI prompts per idea\",\r\n      \"Basic prompt history\",\r\n      \"Manual prompt copying\",\r\n      \"Community support\"\r\n    ],\r\n    pro: [\r\n      \"Everything in Free, plus:\",\r\n      \"Unlimited active ideas\",\r\n      \"Unlimited AI prompts\",\r\n      \"Advanced export features\",\r\n      \"Priority support\",\r\n      \"Custom AI models\",\r\n      \"Team collaboration\",\r\n      \"Advanced analytics\"\r\n    ]\r\n  };\r\n\r\n  if (variant === 'alert') {\r\n    return (\r\n      <Alert className={`border-yellow-600/20 bg-yellow-600/10 ${className}`}>\r\n        <Crown className=\"h-4 w-4 text-yellow-400\" />\r\n        <AlertDescription className=\"text-yellow-200\">\r\n          <strong>Pro Feature:</strong> {description}\r\n          <Button \r\n            variant=\"link\" \r\n            className=\"text-yellow-400 hover:text-yellow-300 p-0 ml-2\"\r\n            onClick={handleUpgrade}\r\n          >\r\n            Upgrade to Pro\r\n          </Button>\r\n        </AlertDescription>\r\n      </Alert>\r\n    );\r\n  }\r\n\r\n  if (variant === 'inline') {\r\n    return (\r\n      <div className={`flex items-center gap-2 text-sm ${className}`}>\r\n        <Crown className=\"h-4 w-4 text-yellow-400\" />\r\n        <span className=\"text-gray-400\">{description}</span>\r\n        <Button \r\n          variant=\"link\" \r\n          size=\"sm\"\r\n          className=\"text-yellow-400 hover:text-yellow-300 p-0\"\r\n          onClick={handleUpgrade}\r\n        >\r\n          Upgrade\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className={`bg-black/40 backdrop-blur-sm border-yellow-600/20 ${className}`}>\r\n      <CardHeader>\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"p-2 bg-yellow-600/20 rounded-full\">\r\n            <Crown className=\"h-6 w-6 text-yellow-400\" />\r\n          </div>\r\n          <div>\r\n            <CardTitle className=\"text-white flex items-center gap-2\">\r\n              Unlock {feature}\r\n              <Badge className=\"bg-yellow-600/20 text-yellow-400\">Pro</Badge>\r\n            </CardTitle>\r\n            <p className=\"text-gray-400 text-sm mt-1\">{description}</p>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-6\">\r\n        {/* Feature Comparison */}\r\n        <div className=\"grid md:grid-cols-2 gap-4\">\r\n          <div className=\"space-y-3\">\r\n            <h4 className=\"font-medium text-gray-300 flex items-center gap-2\">\r\n              <div className=\"w-3 h-3 bg-gray-600 rounded-full\"></div>\r\n              Free Plan\r\n            </h4>\r\n            <ul className=\"space-y-2\">\r\n              {features.free.map((feature, index) => (\r\n                <li key={index} className=\"flex items-center gap-2 text-sm text-gray-400\">\r\n                  <Check className=\"h-4 w-4 text-gray-500\" />\r\n                  {feature}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          \r\n          <div className=\"space-y-3\">\r\n            <h4 className=\"font-medium text-yellow-400 flex items-center gap-2\">\r\n              <div className=\"w-3 h-3 bg-yellow-400 rounded-full\"></div>\r\n              Pro Plan\r\n            </h4>\r\n            <ul className=\"space-y-2\">\r\n              {features.pro.map((feature, index) => (\r\n                <li key={index} className=\"flex items-center gap-2 text-sm text-gray-300\">\r\n                  <Check className=\"h-4 w-4 text-green-400\" />\r\n                  {feature}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Pricing */}\r\n        <div className=\"bg-gradient-to-r from-yellow-600/10 to-orange-600/10 border border-yellow-600/20 rounded-lg p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <Star className=\"h-5 w-5 text-yellow-400\" />\r\n                <span className=\"text-white font-semibold\">Pro Plan</span>\r\n              </div>\r\n              <div className=\"flex items-baseline gap-1\">\r\n                <span className=\"text-2xl font-bold text-white\">₹999</span>\r\n                <span className=\"text-gray-400\">/month</span>\r\n              </div>\r\n              <p className=\"text-gray-400 text-sm\">Everything you need to build faster</p>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-green-400 text-sm font-medium mb-1\">\r\n                Save 20% annually\r\n              </div>\r\n              <div className=\"text-gray-400 text-xs\">\r\n                ₹9,990/year\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex gap-3\">\r\n          <Button\r\n            onClick={handleUpgrade}\r\n            className=\"flex-1 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white\"\r\n          >\r\n            <Crown className=\"h-4 w-4 mr-2\" />\r\n            Upgrade to Pro\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            className=\"border-gray-600 text-gray-300 hover:bg-gray-800\"\r\n            onClick={() => toast({ title: \"Trial\", description: \"7-day free trial coming soon!\" })}\r\n          >\r\n            <Zap className=\"h-4 w-4 mr-2\" />\r\n            Start Trial\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Benefits Highlight */}\r\n        <div className=\"flex items-center justify-center gap-6 text-xs text-gray-400\">\r\n          <div className=\"flex items-center gap-1\">\r\n            <InfinityIcon className=\"h-3 w-3\" />\r\n            <span>Unlimited</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <Brain className=\"h-3 w-3\" />\r\n            <span>AI Powered</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <Rocket className=\"h-3 w-3\" />\r\n            <span>Export Ready</span>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default UpgradePrompt;\r\n","import React, { useState } from 'react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { oneDark, oneLight } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\nimport { cn } from '@/lib/utils';\r\nimport { Copy, Check, ExternalLink, Code, Palette, Smartphone, Monitor, Zap } from 'lucide-react';\r\nimport { Button } from './button';\r\nimport { Badge } from './badge';\r\nimport { useTheme } from 'next-themes';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface AIResponseProps {\r\n  content: string;\r\n  className?: string;\r\n  showCopyButton?: boolean;\r\n  variant?: 'default' | 'compact' | 'chat' | 'tool-specific';\r\n  title?: string;\r\n  toolType?: 'framer' | 'flutterflow' | 'uizard' | 'cursor' | 'lovable' | 'general';\r\n  showToolButtons?: boolean;\r\n  metadata?: {\r\n    appType?: string;\r\n    uiStyle?: string;\r\n    complexity?: 'simple' | 'medium' | 'complex';\r\n    estimatedTime?: string;\r\n  };\r\n}\r\n\r\nconst AIResponse: React.FC<AIResponseProps> = ({\r\n  content,\r\n  className,\r\n  showCopyButton = true,\r\n  variant = 'default',\r\n  title,\r\n  toolType = 'general',\r\n  showToolButtons = false,\r\n  metadata\r\n}) => {\r\n  const [copied, setCopied] = useState(false);\r\n  const [copiedSection, setCopiedSection] = useState<string | null>(null);\r\n  const { theme } = useTheme();\r\n  const { toast } = useToast();\r\n\r\n  const handleCopy = async (text: string = content, label: string = 'Content') => {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n\r\n      toast({\r\n        title: \"Copied!\",\r\n        description: `${label} copied to clipboard`,\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to copy text:', error);\r\n      toast({\r\n        title: \"Copy Failed\",\r\n        description: \"Could not copy to clipboard\",\r\n        variant: \"destructive\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const getToolIcon = (tool: string) => {\r\n    switch (tool) {\r\n      case 'framer':\r\n        return <Monitor className=\"h-4 w-4\" />;\r\n      case 'flutterflow':\r\n        return <Smartphone className=\"h-4 w-4\" />;\r\n      case 'uizard':\r\n        return <Palette className=\"h-4 w-4\" />;\r\n      case 'cursor':\r\n        return <Code className=\"h-4 w-4\" />;\r\n      case 'lovable':\r\n        return <Zap className=\"h-4 w-4\" />;\r\n      default:\r\n        return <Code className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  const getToolColor = (tool: string) => {\r\n    switch (tool) {\r\n      case 'framer':\r\n        return 'bg-blue-600/20 text-blue-400 border-blue-600/30';\r\n      case 'flutterflow':\r\n        return 'bg-purple-600/20 text-purple-400 border-purple-600/30';\r\n      case 'uizard':\r\n        return 'bg-green-600/20 text-green-400 border-green-600/30';\r\n      case 'cursor':\r\n        return 'bg-yellow-600/20 text-yellow-400 border-yellow-600/30';\r\n      case 'lovable':\r\n        return 'bg-pink-600/20 text-pink-400 border-pink-600/30';\r\n      default:\r\n        return 'bg-gray-600/20 text-gray-400 border-gray-600/30';\r\n    }\r\n  };\r\n\r\n  const baseStyles = {\r\n    default: \"prose prose-sm max-w-none dark:prose-invert\",\r\n    compact: \"prose prose-xs max-w-none dark:prose-invert\",\r\n    chat: \"prose prose-sm max-w-none dark:prose-invert prose-p:my-2 prose-headings:my-2\"\r\n  };\r\n\r\n  return (\r\n    <div className={cn(\"relative group bg-card border rounded-lg p-4\", className)}>\r\n      {(title || metadata || toolType !== 'general') && (\r\n        <div className=\"flex items-center justify-between mb-4 pb-2 border-b\">\r\n          <div className=\"flex items-center gap-3\">\r\n            {toolType !== 'general' && getToolIcon(toolType)}\r\n            <div>\r\n              {title && <h4 className=\"font-semibold text-foreground\">{title}</h4>}\r\n              {metadata && (\r\n                <div className=\"flex items-center gap-2 mt-1\">\r\n                  {metadata.appType && (\r\n                    <Badge variant=\"outline\" className=\"text-xs\">\r\n                      {metadata.appType}\r\n                    </Badge>\r\n                  )}\r\n                  {metadata.uiStyle && (\r\n                    <Badge variant=\"outline\" className=\"text-xs\">\r\n                      {metadata.uiStyle}\r\n                    </Badge>\r\n                  )}\r\n                  {metadata.complexity && (\r\n                    <Badge\r\n                      variant=\"outline\"\r\n                      className={cn(\r\n                        \"text-xs\",\r\n                        metadata.complexity === 'complex' ? 'bg-red-600/20 text-red-400' :\r\n                        metadata.complexity === 'medium' ? 'bg-yellow-600/20 text-yellow-400' :\r\n                        'bg-green-600/20 text-green-400'\r\n                      )}\r\n                    >\r\n                      {metadata.complexity}\r\n                    </Badge>\r\n                  )}\r\n                  {metadata.estimatedTime && (\r\n                    <Badge variant=\"outline\" className=\"text-xs\">\r\n                      ⏱️ {metadata.estimatedTime}\r\n                    </Badge>\r\n                  )}\r\n                  {toolType !== 'general' && (\r\n                    <Badge\r\n                      variant=\"outline\"\r\n                      className={cn(\"text-xs\", getToolColor(toolType))}\r\n                    >\r\n                      {toolType}\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {showCopyButton && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => handleCopy(content, title || 'AI Response')}\r\n              className=\"h-8\"\r\n            >\r\n              {copied ? (\r\n                <>\r\n                  <Check className=\"h-4 w-4 text-green-500 mr-1\" />\r\n                  Copied!\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Copy className=\"h-4 w-4 mr-1\" />\r\n                  Copy All\r\n                </>\r\n              )}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {!title && showCopyButton && (\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10\"\r\n          onClick={() => handleCopy()}\r\n        >\r\n          {copied ? (\r\n            <Check className=\"h-4 w-4 text-green-500\" />\r\n          ) : (\r\n            <Copy className=\"h-4 w-4\" />\r\n          )}\r\n        </Button>\r\n      )}\r\n      \r\n      <div className={cn(\r\n        baseStyles[variant],\r\n        \"ai-response-content\",\r\n        // Enhanced prose styles for better readability\r\n        \"prose-headings:text-foreground prose-p:text-foreground prose-strong:text-foreground\",\r\n        \"prose-code:bg-muted prose-code:px-2 prose-code:py-1 prose-code:rounded prose-code:text-sm prose-code:font-mono\",\r\n        \"prose-pre:bg-transparent prose-pre:p-0 prose-pre:m-0\",\r\n        \"prose-blockquote:border-l-primary prose-blockquote:bg-muted/30 prose-blockquote:pl-4 prose-blockquote:py-2 prose-blockquote:rounded-r\",\r\n        \"prose-ul:my-3 prose-ol:my-3 prose-li:my-1\",\r\n        \"prose-table:border prose-th:border prose-td:border prose-th:bg-muted prose-th:p-3 prose-td:p-3\",\r\n        \"prose-a:text-primary prose-a:no-underline hover:prose-a:underline\"\r\n      )}>\r\n        <ReactMarkdown\r\n          remarkPlugins={[remarkGfm]}\r\n          components={{\r\n            // Enhanced heading components with better styling\r\n            h1: ({ children, ...props }) => (\r\n              <div className=\"mb-6\">\r\n                <h1 className=\"text-2xl font-bold text-foreground border-b-2 border-primary pb-2 mb-2\" {...props}>\r\n                  {children}\r\n                </h1>\r\n              </div>\r\n            ),\r\n            h2: ({ children, ...props }) => (\r\n              <h2 className=\"text-xl font-semibold text-foreground mt-6 mb-3 flex items-center\" {...props}>\r\n                <span className=\"w-1 h-6 bg-primary rounded mr-3\"></span>\r\n                {children}\r\n              </h2>\r\n            ),\r\n            h3: ({ children, ...props }) => (\r\n              <h3 className=\"text-lg font-medium text-foreground mt-4 mb-2\" {...props}>\r\n                {children}\r\n              </h3>\r\n            ),\r\n            p: ({ children, ...props }) => (\r\n              <p className=\"mb-4 text-foreground leading-relaxed\" {...props}>\r\n                {children}\r\n              </p>\r\n            ),\r\n            // Enhanced list styling\r\n            ul: ({ children, ...props }) => (\r\n              <ul className=\"list-none pl-0 mb-4 space-y-2\" {...props}>\r\n                {children}\r\n              </ul>\r\n            ),\r\n            ol: ({ children, ...props }) => (\r\n              <ol className=\"list-none pl-0 mb-4 space-y-2 counter-reset-item\" {...props}>\r\n                {children}\r\n              </ol>\r\n            ),\r\n            li: ({ children, ...props }) => (\r\n              <li className=\"flex items-start text-foreground\" {...props}>\r\n                <span className=\"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mr-3 mt-0.5 bg-primary/20 text-primary\">\r\n                  •\r\n                </span>\r\n                <div className=\"flex-1\">{children}</div>\r\n              </li>\r\n            ),\r\n            // Enhanced blockquote\r\n            blockquote: ({ children, ...props }) => (\r\n              <blockquote className=\"my-6 border-l-4 border-primary bg-muted/30 rounded-r-lg\" {...props}>\r\n                <div className=\"p-4\">\r\n                  <div className=\"text-primary text-sm font-medium mb-2\">💡 Key Insight</div>\r\n                  {children}\r\n                </div>\r\n              </blockquote>\r\n            ),\r\n            // Enhanced code blocks with syntax highlighting\r\n            code: ({ inline, className, children, ...props }: any) => {\r\n              const match = /language-(\\w+)/.exec(className || '');\r\n              const language = match ? match[1] : '';\r\n\r\n              if (inline) {\r\n                return (\r\n                  <code className=\"bg-muted px-2 py-1 rounded text-sm font-mono border\" {...props}>\r\n                    {children}\r\n                  </code>\r\n                );\r\n              }\r\n\r\n              return (\r\n                <div className=\"my-4 rounded-lg border overflow-hidden\">\r\n                  <div className=\"bg-muted px-4 py-2 border-b flex items-center justify-between\">\r\n                    <Badge variant=\"secondary\" className=\"text-xs\">\r\n                      {language || 'code'}\r\n                    </Badge>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => navigator.clipboard.writeText(String(children))}\r\n                      className=\"h-6 text-xs\"\r\n                    >\r\n                      <Copy className=\"h-3 w-3 mr-1\" />\r\n                      Copy\r\n                    </Button>\r\n                  </div>\r\n                  <SyntaxHighlighter\r\n                    style={theme === 'dark' ? oneDark : oneLight}\r\n                    language={language}\r\n                    PreTag=\"div\"\r\n                    className=\"!m-0 !bg-transparent\"\r\n                    customStyle={{\r\n                      margin: 0,\r\n                      padding: '1rem',\r\n                      background: 'transparent',\r\n                      fontSize: '0.875rem'\r\n                    }}\r\n                  >\r\n                    {String(children).replace(/\\n$/, '')}\r\n                  </SyntaxHighlighter>\r\n                </div>\r\n              );\r\n            },\r\n            // Enhanced table styling\r\n            table: ({ children, ...props }) => (\r\n              <div className=\"overflow-x-auto my-6 rounded-lg border\">\r\n                <table className=\"min-w-full border-collapse\" {...props}>\r\n                  {children}\r\n                </table>\r\n              </div>\r\n            ),\r\n            th: ({ children, ...props }) => (\r\n              <th className=\"border-b bg-muted p-3 text-left font-semibold text-foreground\" {...props}>\r\n                {children}\r\n              </th>\r\n            ),\r\n            td: ({ children, ...props }) => (\r\n              <td className=\"border-b p-3 text-foreground\" {...props}>\r\n                {children}\r\n              </td>\r\n            ),\r\n            // Enhanced links\r\n            a: ({ children, href, ...props }) => (\r\n              <a\r\n                href={href}\r\n                className=\"text-primary hover:underline inline-flex items-center gap-1\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                {...props}\r\n              >\r\n                {children}\r\n                <ExternalLink className=\"h-3 w-3\" />\r\n              </a>\r\n            ),\r\n          }}\r\n        >\r\n          {content}\r\n        </ReactMarkdown>\r\n      </div>\r\n\r\n      {/* Tool-specific action buttons */}\r\n      {showToolButtons && toolType !== 'general' && (\r\n        <div className=\"flex gap-2 mt-4 pt-4 border-t\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => handleCopy(content, `${toolType} prompt`)}\r\n            className={cn(\"text-xs\", getToolColor(toolType))}\r\n          >\r\n            <Copy className=\"h-3 w-3 mr-1\" />\r\n            Copy for {toolType}\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => {\r\n              const urls = {\r\n                framer: 'https://framer.com',\r\n                flutterflow: 'https://flutterflow.io',\r\n                uizard: 'https://uizard.io',\r\n                cursor: 'https://cursor.sh',\r\n                lovable: 'https://lovable.dev'\r\n              };\r\n              window.open(urls[toolType] || `https://${toolType}.com`, '_blank');\r\n            }}\r\n            className=\"text-xs\"\r\n          >\r\n            <ExternalLink className=\"h-3 w-3 mr-1\" />\r\n            Open {toolType}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIResponse;\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Layers\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIuODMgMi4xOGEyIDIgMCAwIDAtMS42NiAwTDIuNiA2LjA4YTEgMSAwIDAgMCAwIDEuODNsOC41OCAzLjkxYTIgMiAwIDAgMCAxLjY2IDBsOC41OC0zLjlhMSAxIDAgMCAwIDAtMS44M1oiIC8+CiAgPHBhdGggZD0ibTIyIDE3LjY1LTkuMTcgNC4xNmEyIDIgMCAwIDEtMS42NiAwTDIgMTcuNjUiIC8+CiAgPHBhdGggZD0ibTIyIDEyLjY1LTkuMTcgNC4xNmEyIDIgMCAwIDEtMS42NiAwTDIgMTIuNjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/layers\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Layers = createLucideIcon('Layers', [\n  [\n    'path',\n    {\n      d: 'm12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z',\n      key: '8b97xw',\n    },\n  ],\n  ['path', { d: 'm22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65', key: 'dd6zsq' }],\n  ['path', { d: 'm22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65', key: 'ep9fru' }],\n]);\n\nexport default Layers;\n"],"names":["Infinity","createLucideIcon","d","key","Download","points","x1","x2","y1","y2","Moon","ScrollArea","React","_ref","ref","className","children","props","_objectWithoutProperties","_excluded","_jsxs","ScrollAreaPrimitive","_objectSpread","cn","_jsx","ScrollBar","displayName","_ref2","orientation","_excluded2","Link","Sun","cx","cy","r","blueprintZoneHelpers","blueprintZoneHelpersOriginal","investorRadarHelpers","async","getInvestors","userId","filters","allHelpers","investorRadar","createInvestor","data","updateInvestor","id","deleteInvestor","getFundingRounds","pitchPerfectHelpers","getPitchScripts","scriptType","pitchPerfect","createPitchScript","getPitchDecks","deckType","createPitchDeck","getPitchVideos","videoType","createPitchVideo","taskPlannerHelpers","getTasks","taskPlanner","createTask","updateTask","deleteTask","getProjects","createProject","docsDecksHelpers","ideaForgeHelpers","mvpStudioHelpers","workspaceHelpers","ideaVaultHelpers","teamSpaceHelpers","onboardingHelpers","profileHelpers","adminHelpers","subscriptionHelpers","WandSparkles","Eye","initialPromptHistory","ideaforge","mvpStudio","initialUserSettings","aiProvider","preferredTools","budget","skillLevel","appType","subscriptionTier","subscriptionStatus","useIdeaStore","create","persist","set","get","activeIdea","setActiveIdea","idea","updateActiveIdea","updates","state","promptHistory","addPrompt","section","prompt","getPrompt","clearPromptHistory","userSettings","updateUserSettings","settings","currentStep","setCurrentStep","step","hasActiveIdea","setHasActiveIdea","hasIdea","canCreateNewIdea","canGeneratePrompts","getRemainingPrompts","canAccessFeature","feature","isPro","getPromptLimit","limit","usedPrompts","getPromptsByIdea","length","Math","max","resetAll","exportPrompts","allPrompts","exportedAt","Date","toISOString","JSON","stringify","ideaId","Object","values","forEach","includes","push","sort","a","b","timestamp","getTime","exportIdeaPrompts","_state$activeIdea","ideaPrompts","organizedPrompts","ideaTitle","title","totalPrompts","ideaforgePrompts","filter","p","mvpStudioPrompts","name","partialize","useActiveIdea","usePromptHistory","useUserSettings","Globe","Play","Crown","DollarSign","CircleCheck","Map","Building","width","height","x","y","rx","ry","Chrome","Smile","_builderTools$","pagePrompts","builderTools","currentPageIndex","onPageChange","onPromptUpdate","onComplete","toast","useToast","analytics","useAnalytics","selectedBuilder","setSelectedBuilder","useState","tool","customizations","setCustomizations","colorScheme","animation","spacing","typography","currentPage","isLastPage","openBuilder","url","toolName","window","open","concat","description","getBuilderInstructions","builder","toLowerCase","getBuilderSpecificPrompt","builderSpecific","basePrompt","enhancements","enhancementText","entries","map","value","join","generateEnhancedPrompt","Button","variant","size","onClick","disabled","min","page","index","Card","CardContent","pageName","CheckCircle2","components","slice","component","idx","Badge","CardHeader","CardTitle","Sparkles","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","estimatedTime","officialUrl","ExternalLink","prev","copyPrompt","navigator","clipboard","writeText","trackPagePromptGeneration","Copy","selectedTool","find","t","Textarea","onChange","e","target","placeholder","Wand2","ArrowRight","_framework$builderToo","framework","linkingPrompt","appName","exportFormat","setExportFormat","includeInstructions","setIncludeInstructions","currentPromptIndex","setCurrentPromptIndex","generateGPTReadyExport","builderInstructions","getBuilderSpecificInstructions","charAt","toUpperCase","prompts","layout","toLocaleDateString","instructions","generateMarkdownExport","appStructure","type","architecture","coreModules","techStack","frontend","backend","database","deployment","reasoning","suitabilityScore","complexity","reasons","getBuilderSetupInstructions","generateJSONExport","generatedAt","recommendedBuilder","structure","pages","navigation","generateNotionExport","generateTextExport","copyToClipboard","content","error","textArea","document","createElement","body","appendChild","select","execCommand","removeChild","downloadFile","filename","blob","Blob","URL","createObjectURL","href","download","click","revokeObjectURL","trackExportAction","exportContent","generateExportContent","replace","Zap","FileText","readOnly","setTimeout","_stepConfig","_stepConfig2","_getRecommendedBuilde2","_stepConfig3","isOpen","onClose","user","useAuth","isGenerating","setIsGenerating","wizardData","setWizardData","step1","step2","theme","designStyle","step3","platforms","step4","selectedAI","userPrompt","enhancedData","setEnhancedData","colorPreference","targetAudience","promptStyle","keyFeatures","targetUsers","currentStepValid","promptFlow","setPromptFlow","frameworkPrompt","setFrameworkPrompt","setPagePrompts","setLinkingPrompt","setCurrentPageIndex","recommendedTools","setRecommendedTools","generatedFramework","setGeneratedFramework","promptStage","setPromptStage","completedPrompts","setCompletedPrompts","linking","focusedPrompt","setFocusedPrompt","setPromptHistory","progress","stepConfig","icon","fields","Palette","Brain","appTypes","label","Smartphone","themes","designStyles","Monitor","handleStartPromptFlow","text","getCurrentPromptTitle","_pagePrompts$currentP","getRecommendedBuilderForCurrentPrompt","getStepValidationMessage","trim","Dialog","onOpenChange","DialogContent","DialogHeader","DialogTitle","Progress","Label","htmlFor","Input","RadioGroup","RadioGroupItem","rows","style","platform","Checkbox","checked","onCheckedChange","currentPlatforms","newPlatforms","split","f","getCurrentPromptDescription","_pagePrompts$currentP2","some","_getRecommendedBuilde","handlePreviousPrompt","prevPageIndex","ChevronLeft","handleNextPrompt","pageIndex","nextPageIndex","updatedCompleted","ChevronRight","Layers","startTime","now","frameworkRequest","FrameworkGeneratorService","generateFramework","Array","fill","toolsForRecommendation","bt","openUrl","bestFor","trackFrameworkGeneration","trackToolRecommendation","console","Error","message","_Fragment","PagePromptGenerator","updatedPrompts","handleGenerateLinking","_recommendedTools$","MVPPromptTemplateService","generateNavigationPrompt","Separator","tag","i","openInBuilder","ExportablePromptsSystem","handlePrevious","handleNext","canProceed","COLLAPSIBLE_NAME","createCollapsibleContext","createCollapsibleScope","createContextScope","CollapsibleProvider","useCollapsibleContext","Collapsible","forwardedRef","__scopeCollapsible","openProp","defaultOpen","collapsibleProps","setOpen","useControllableState","prop","defaultProp","caller","jsx","scope","contentId","useId","onOpenToggle","prevOpen","Primitive","div","getState","TRIGGER_NAME","CollapsibleTrigger","triggerProps","context","button","composeEventHandlers","CONTENT_NAME","CollapsibleContent","forceMount","contentProps","_excluded3","Presence","present","CollapsibleContentImpl","_excluded4","isPresent","setIsPresent","composedRefs","useComposedRefs","heightRef","current","widthRef","isMountAnimationPreventedRef","originalStylesRef","rAF","requestAnimationFrame","cancelAnimationFrame","useLayoutEffect","node","transitionDuration","animationName","rect","getBoundingClientRect","hidden","CollapsiblePrimitive","uiStyle","sections","showToolButtons","copiedSection","setCopiedSection","expandedSections","setExpandedSections","Set","handleCopySection","sectionId","_section$toolSpecific","textToCopy","s","toolSpecific","getSectionIcon","getAppTypeIcon","allContent","fullPrompt","Check","has","newExpanded","delete","add","toggleSection","asChild","ChevronDown","AIResponse","showCopyButton","framer","flutterflow","uizard","result","activeTab","setActiveTab","enhancedTools","setEnhancedTools","selectedCategory","setSelectedCategory","recommendations","getRecommendedTools","getToolIcon","category","getPricingColorEnhanced","pricing","item","styling","pros","pro","cons","con","uiPrompt","launchPath","tools","getPricingColor","exportToMarkdown","markdown","Tabs","TabsList","TabsTrigger","TabsContent","_result$styling","_result$styling2","pagePrompt","PromptViewer","color","backgroundColor","popularity","Star","model","inr","whyRecommend","priority","logoUrl","src","alt","Clock","toolIdx","getSectionColor","formatSectionName","l","exportAllPrompts","exported","Target","Rocket","response","substring","toLocaleTimeString","pageType","toolIndex","MVPStudio","sidebarOpen","setSidebarOpen","mvpWizardOpen","setMvpWizardOpen","showMvpResults","setShowMvpResults","mvpResult","setMvpResult","isCheckingAI","setIsCheckingAI","hasAIProvider","setHasAIProvider","mvps","setMvps","loading","setLoading","selectedAppType","setSelectedAppType","selectedTools","setSelectedTools","genAI","GoogleGenerativeAI","import","useEffect","getMVPs","loadMVPs","generatePagePrompt","pageDescription","getGenerativeModel","targetUserPrompt","featuresPrompt","uiDesignPrompt","contextPrompt","generateContent","promptData","toString","sectionKey","savePromptHistory","idea_id","prompt_text","response_text","prompt_type","ai_provider","model_used","user_id","metadata","section_key","app_type","savePromptToDatabase","freeTools","aiToolsCategories","count","aiToolsDatabase","avgPopularity","round","reduce","sum","providers","aiProviderService","getProviders","checkAIProvider","handleToolSelect","WorkspaceSidebar","setIsOpen","SidebarToggle","to","Plus","Users","handleStartMVPWizard","AIToolRecommender","onToolSelect","UpgradePrompt","existingPrompt","IdeaPromptHistory","template","tags","handleTemplateSelect","_aiToolsCategories$fi","c","apiCompatible","_aiToolsCategories$fi2","showRecommendationFlow","MVPWizard","MVPResultsDisplay","handleCloseMvpResults","handleUpgrade","features","free","Alert","AlertDescription","InfinityIcon","toolType","copied","setCopied","useTheme","handleCopy","arguments","undefined","getToolColor","Code","default","compact","chat","ReactMarkdown","remarkPlugins","remarkGfm","h1","h2","_ref3","h3","_ref4","_ref5","ul","_ref6","_excluded5","ol","_ref7","_excluded6","li","_ref8","_excluded7","blockquote","_ref9","_excluded8","code","_ref0","inline","_excluded9","match","exec","language","String","SyntaxHighlighter","oneDark","oneLight","PreTag","customStyle","margin","padding","background","fontSize","table","_ref1","_excluded0","th","_ref10","_excluded1","td","_ref11","_excluded10","_ref12","_excluded11","rel","cursor","lovable"],"sourceRoot":""}