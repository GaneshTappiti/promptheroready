"use strict";(self.webpackChunkpromptheroready=self.webpackChunkpromptheroready||[]).push([[4078],{54078:(e,s,a)=>{a.r(s),a.d(s,{default:()=>K});var t=a(9950),r=a(38493),n=a(16255),i=a(60348),c=a(27711),l=a(45833),o=a(81850),d=a(53270),m=a(42989),u=a(30621),h=a(52828),p=a(67637),x=a(27549);const g=["user_profiles","user_onboarding_profiles","user_ai_preferences","user_preferences","subscription_plans","user_subscriptions","usage_tracking","ideas","wiki_pages","journey_entries","feedback_items","mvps","prompt_history","ai_tools_directory","ai_tools","documents","document_templates","teams","team_members","team_tasks","team_messages","team_meetings","messages","projects","tasks","project_phases","phase_tasks","investors","funding_rounds","pitch_scripts","pitch_decks","pitch_videos","admin_roles","admin_users","user_admin_roles","system_announcements","prompt_templates","security_audit_log","user_activity","system_metrics","ai_provider_usage","notifications","file_attachments"];async function j(e){try{const{data:a,error:t}=await x.ND.from(e).select("*").limit(1);if(t)return"42P01"===t.code||t.message.includes("does not exist")?{table_name:e,exists:!1}:"42501"===t.code||t.message.includes("permission denied")||t.message.includes("RLS")?{table_name:e,exists:!0,has_rls:!0,row_count:0}:{table_name:e,exists:!1,error:"Error checking table: ".concat(t.message)};let r=0;try{const{count:s,error:a}=await x.ND.from(e).select("*",{count:"exact",head:!0});a||(r=s||0)}catch(s){console.warn("Could not get row count for ".concat(e,":"),s)}return{table_name:e,exists:!0,row_count:r,has_rls:!1}}catch(s){return{table_name:e,exists:!1,error:"Unexpected error: ".concat(s instanceof Error?s.message:"Unknown error")}}}async function v(){console.log("\ud83d\ude80 Running complete database verification...");const e=await async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("\ud83d\udd0d Starting database schema verification...");const s="database_schema_verification";if(e){const e=localStorage.getItem(s);if(e){const{data:s,timestamp:a}=JSON.parse(e);if(Date.now()-a<3e5)return console.log("\ud83d\udccb Using cached schema verification result"),s}}const a=[],t=[];for(const d of g){console.log("Checking table: ".concat(d));const e=await j(d);a.push(e),e.exists||t.push("Missing table: ".concat(d)),e.error&&t.push("Error with table ".concat(d,": ").concat(e.error))}const r=a.filter(e=>e.exists).length,n=a.filter(e=>!e.exists).length,i=a.filter(e=>e.has_rls).length,c={total_tables:g.length,existing_tables:r,missing_tables:n,tables_with_rls:i},l=0===n&&0===t.length;console.log("\ud83d\udcca Database verification summary:",c),l?console.log("\u2705 Database schema verification passed!"):(console.error("\u274c Database schema verification failed"),console.error("Errors:",t));const o={success:l,tables:a,errors:t,summary:c};return e&&localStorage.setItem(s,JSON.stringify({data:o,timestamp:Date.now()})),o}(),s=await async function(){console.log("\ud83e\uddea Testing basic database operations...");const e=[];try{const{data:s,error:a}=await x.ND.from("user_profiles").select("*").limit(1);e.push({name:"Basic SELECT query",success:!a,error:null===a||void 0===a?void 0:a.message})}catch(a){e.push({name:"Basic SELECT query",success:!1,error:a instanceof Error?a.message:"Unknown error"})}try{const{data:s,error:a}=await x.ND.auth.getUser();e.push({name:"Authentication check",success:!a,error:null===a||void 0===a?void 0:a.message})}catch(a){e.push({name:"Authentication check",success:!1,error:a instanceof Error?a.message:"Unknown error"})}try{const s=x.ND.channel("test_connection");await new Promise((e,a)=>{const t=setTimeout(()=>{a(new Error("Real-time connection timeout"))},5e3);s.subscribe(s=>{clearTimeout(t),"SUBSCRIBED"===s?e(!0):a(new Error("Real-time subscription failed: ".concat(s)))})}),e.push({name:"Real-time connection",success:!0}),x.ND.removeChannel(s)}catch(a){e.push({name:"Real-time connection",success:!1,error:a instanceof Error?a.message:"Unknown error"})}const s=e.every(e=>e.success);return console.log("\ud83e\uddea Database operations test results:",e),{success:s,operations:e}}(),a=e.success&&s.success;return console.log("\ud83c\udfc1 Complete verification finished"),console.log("Overall result: ".concat(a?"\u2705 PASSED":"\u274c FAILED")),{schema:e,operations:s,overall_success:a}}var f=a(14697),N=a(41591),w=a(81064),y=a(91367),b=a(44414);const A=()=>{const[e,s]=(0,t.useState)(!1),[a,d]=(0,t.useState)([]),[u,p]=(0,t.useState)("test@example.com"),[g,j]=(0,t.useState)("testpassword123"),{user:v,signIn:A,signUp:T,signOut:S,resetPassword:k}=(0,y.A)(),_=e=>(0,b.jsx)(i.E,{variant:e?"default":"destructive",children:e?"PASS":"FAIL"});return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,b.jsx)(w.A,{className:"h-6 w-6"}),"Authentication System Test"]}),(0,b.jsx)(n.BT,{children:"Comprehensive testing of authentication functionality and database integration"})]}),(0,b.jsxs)(n.Wu,{className:"space-y-6",children:[(0,b.jsxs)(c.Fc,{className:v?"border-green-500":"border-yellow-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["Current Status: ",v?"Logged in as ".concat(v.email):"Not logged in"]}),(0,b.jsx)(i.E,{variant:v?"default":"secondary",children:v?"AUTHENTICATED":"GUEST"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Credentials"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"test-email",children:"Test Email"}),(0,b.jsx)(f.p,{id:"test-email",type:"email",value:u,onChange:e=>p(e.target.value),placeholder:"test@example.com"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"test-password",children:"Test Password"}),(0,b.jsx)(f.p,{id:"test-password",type:"password",value:g,onChange:e=>j(e.target.value),placeholder:"testpassword123"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Actions"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(r.$,{onClick:async()=>{s(!0),d([]);const e=[];try{const{data:s,error:a}=await x.ND.auth.getSession();e.push({name:"Supabase Auth Connection",success:!a,error:null===a||void 0===a?void 0:a.message,details:{hasSession:!!s.session}})}catch(a){e.push({name:"Supabase Auth Connection",success:!1,error:a instanceof Error?a.message:"Unknown error"})}try{const{data:s,error:a}=await x.ND.from("user_profiles").select("*").limit(1);e.push({name:"User Profiles Table Access",success:!a||"PGRST116"===a.code,error:null===a||void 0===a?void 0:a.message,details:{accessible:!a||"PGRST116"===a.code}})}catch(a){e.push({name:"User Profiles Table Access",success:!1,error:a instanceof Error?a.message:"Unknown error"})}e.push({name:"Current User State",success:!0,details:{isLoggedIn:!!v,userEmail:null===v||void 0===v?void 0:v.email,userId:null===v||void 0===v?void 0:v.id}});try{const{error:s}=await k("nonexistent@test.com");e.push({name:"Password Reset Function",success:!0,details:{functionWorks:!0}})}catch(a){e.push({name:"Password Reset Function",success:!1,error:a instanceof Error?a.message:"Unknown error"})}if(v)try{const{data:s,error:a}=await x.ND.from("user_profiles").select("*").eq("id",v.id);e.push({name:"RLS Policy Check (Own Profile)",success:!a,error:null===a||void 0===a?void 0:a.message,details:{canAccessOwnProfile:!a}})}catch(a){e.push({name:"RLS Policy Check (Own Profile)",success:!1,error:a instanceof Error?a.message:"Unknown error"})}else e.push({name:"RLS Policy Check (Own Profile)",success:!0,details:{skipped:"No user logged in"}});d(e),s(!1)},disabled:e,className:"flex items-center gap-2",children:[e?(0,b.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(l.A,{className:"h-4 w-4"}),"Run Tests"]}),(0,b.jsx)(r.$,{onClick:async()=>{if(u&&g){s(!0);try{const{error:e}=await T(u,g),s={name:"Test Sign Up",success:!e,error:null===e||void 0===e?void 0:e.message,details:{email:u}};d(e=>[...e,s])}catch(e){const s={name:"Test Sign Up",success:!1,error:e instanceof Error?e.message:"Unknown error"};d(e=>[...e,s])}s(!1)}},disabled:e,variant:"outline",children:"Test Sign Up"}),(0,b.jsx)(r.$,{onClick:async()=>{if(u&&g){s(!0);try{const{error:e}=await A(u,g),s={name:"Test Sign In",success:!e,error:null===e||void 0===e?void 0:e.message,details:{email:u}};d(e=>[...e,s])}catch(e){const s={name:"Test Sign In",success:!1,error:e instanceof Error?e.message:"Unknown error"};d(e=>[...e,s])}s(!1)}},disabled:e,variant:"outline",children:"Test Sign In"}),(0,b.jsx)(r.$,{onClick:async()=>{s(!0);try{await S();const e={name:"Test Sign Out",success:!0,details:{signedOut:!0}};d(s=>[...s,e])}catch(e){const s={name:"Test Sign Out",success:!1,error:e instanceof Error?e.message:"Unknown error"};d(e=>[...e,s])}s(!1)},disabled:e||!v,variant:"outline",children:"Test Sign Out"})]})]})]}),a.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Results"}),a.map((e,s)=>{return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(a=e.success,a?(0,b.jsx)(l.A,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(o.A,{className:"h-5 w-5 text-red-500"})),(0,b.jsx)("span",{className:"font-medium",children:e.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[e.error&&(0,b.jsx)("span",{className:"text-sm text-red-500 max-w-xs truncate",children:e.error}),e.details&&(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:JSON.stringify(e.details)}),_(e.success)]})]},s);var a})]})]})]})})};var T=a(89379),S=a(89615),k=a(68432),_=a(84814),I=a(61726);const D=()=>{const[e,s]=(0,t.useState)(!1),[a,d]=(0,t.useState)([]),[u,p]=(0,t.useState)({title:"Test Startup Idea",description:"A revolutionary app that solves everyday problems using AI technology.",category:"Technology",tags:["AI","Mobile","SaaS"],status:"draft"}),[g,j]=(0,t.useState)(null),{user:v}=(0,y.A)(),{activeIdea:w,setActiveIdea:A}=(0,I.x6)(),D=e=>(0,b.jsx)(i.E,{variant:e?"default":"destructive",children:e?"PASS":"FAIL"});return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.A,{className:"h-6 w-6"}),"Idea Vault Feature Test"]}),(0,b.jsx)(n.BT,{children:"Comprehensive testing of Idea Vault functionality including CRUD operations and store integration"})]}),(0,b.jsxs)(n.Wu,{className:"space-y-6",children:[(0,b.jsxs)(c.Fc,{className:v?"border-green-500":"border-red-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["User Status: ",v?"Logged in as ".concat(v.email):"Not logged in - tests will fail"]}),(0,b.jsx)(i.E,{variant:v?"default":"destructive",children:v?"AUTHENTICATED":"NOT AUTHENTICATED"})]})})]}),w&&(0,b.jsxs)(c.Fc,{className:"border-blue-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["Active Idea: ",w.title," (Status: ",w.status,")"]}),(0,b.jsx)(i.E,{variant:"outline",children:"ACTIVE"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Idea Configuration"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"test-title",children:"Idea Title"}),(0,b.jsx)(f.p,{id:"test-title",value:u.title,onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{title:e.target.value})),placeholder:"Enter test idea title"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"test-description",children:"Description"}),(0,b.jsx)(S.T,{id:"test-description",value:u.description,onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{description:e.target.value})),placeholder:"Enter test idea description",rows:3})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"test-category",children:"Category"}),(0,b.jsx)(f.p,{id:"test-category",value:u.category,onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{category:e.target.value})),placeholder:"Enter category"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Actions"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(r.$,{onClick:async()=>{s(!0),d([]);const e=[];if(!v)return e.push({name:"User Authentication Check",success:!1,error:"User must be logged in to test Idea Vault functionality"}),d(e),void s(!1);try{const{data:s,error:a}=await x.kP.getIdeas();e.push({name:"Ideas Table Access",success:!a,error:null===a||void 0===a?void 0:a.message,details:{accessible:!a,existingIdeas:(null===s||void 0===s?void 0:s.length)||0}})}catch(a){e.push({name:"Ideas Table Access",success:!1,error:a instanceof Error?a.message:"Unknown error"})}try{const s=(0,T.A)((0,T.A)({},u),{},{user_id:v.id,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}),{data:a,error:t}=await x.kP.createIdea(s);!t&&a&&a[0]?(j(a[0].id),e.push({name:"Create New Idea",success:!0,details:{ideaId:a[0].id,title:a[0].title}})):e.push({name:"Create New Idea",success:!1,error:(null===t||void 0===t?void 0:t.message)||"No data returned"})}catch(a){e.push({name:"Create New Idea",success:!1,error:a instanceof Error?a.message:"Unknown error"})}if(g)try{const s={title:u.title+" (Updated)",status:"validated",validation_score:85,updated_at:(new Date).toISOString()},{data:a,error:t}=await x.kP.updateIdea(g,s);e.push({name:"Update Idea",success:!t,error:null===t||void 0===t?void 0:t.message,details:{updated:!t,newTitle:s.title,newStatus:s.status}})}catch(a){e.push({name:"Update Idea",success:!1,error:a instanceof Error?a.message:"Unknown error"})}else e.push({name:"Update Idea",success:!1,error:"No idea created to update"});try{const{data:s,error:a}=await x.kP.getIdeas();e.push({name:"Retrieve Ideas List",success:!a,error:null===a||void 0===a?void 0:a.message,details:{totalIdeas:(null===s||void 0===s?void 0:s.length)||0,hasTestIdea:(null===s||void 0===s?void 0:s.some(e=>e.id===g))||!1}})}catch(a){e.push({name:"Retrieve Ideas List",success:!1,error:a instanceof Error?a.message:"Unknown error"})}try{if(g){const{data:s}=await x.kP.getIdeas(),a=null===s||void 0===s?void 0:s.find(e=>e.id===g);a?(A({id:a.id,title:a.title,description:a.description||"",status:a.status,category:a.category,tags:a.tags||[],validation_score:a.validation_score,created_at:a.created_at,updated_at:a.updated_at}),e.push({name:"Zustand Store Integration",success:!0,details:{storeUpdated:!0,activeIdeaId:a.id}})):e.push({name:"Zustand Store Integration",success:!1,error:"Could not find test idea in database"})}else e.push({name:"Zustand Store Integration",success:!1,error:"No idea created to test store integration"})}catch(a){e.push({name:"Zustand Store Integration",success:!1,error:a instanceof Error?a.message:"Unknown error"})}d(e),s(!1)},disabled:e||!v,className:"w-full flex items-center gap-2",children:[e?(0,b.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(l.A,{className:"h-4 w-4"}),"Run Idea Vault Tests"]}),(0,b.jsxs)(r.$,{onClick:async()=>{if(g){s(!0);try{const{error:e}=await x.kP.updateIdea(g,{status:"archived",title:u.title+" (Test - Archived)",updated_at:(new Date).toISOString()});if(e){const s={name:"Cleanup Test Data",success:!1,error:e.message};d(e=>[...e,s])}else{j(null),A(null);const e={name:"Cleanup Test Data",success:!0,details:{archived:!0}};d(s=>[...s,e])}}catch(e){const s={name:"Cleanup Test Data",success:!1,error:e instanceof Error?e.message:"Unknown error"};d(e=>[...e,s])}s(!1)}},disabled:e||!g,variant:"outline",className:"w-full flex items-center gap-2",children:[(0,b.jsx)(_.A,{className:"h-4 w-4"}),"Cleanup Test Data"]})]}),g&&(0,b.jsxs)(c.Fc,{className:"border-yellow-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsxs)(c.TN,{children:["Test idea created with ID: ",g]})]})]})]}),a.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Results"}),a.map((e,s)=>{return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(a=e.success,a?(0,b.jsx)(l.A,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(o.A,{className:"h-5 w-5 text-red-500"})),(0,b.jsx)("span",{className:"font-medium",children:e.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[e.error&&(0,b.jsx)("span",{className:"text-sm text-red-500 max-w-xs truncate",children:e.error}),e.details&&(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:JSON.stringify(e.details)}),D(e.success)]})]},s);var a})]})]})]})})};var C=a(80903),E=a(92420),P=a(61878),U=a(86805),F=a(5934);const R=()=>{const[e,s]=(0,t.useState)(!1),[a,d]=(0,t.useState)([]),[u,p]=(0,t.useState)({title:"AI-Powered Task Manager",description:"An intelligent task management system that uses AI to prioritize and organize tasks automatically.",tags:["AI","Productivity","SaaS"],status:"draft"}),[g,j]=(0,t.useState)(null),[v,w]=(0,t.useState)(null),{user:A}=(0,y.A)(),_=e=>(0,b.jsx)(i.E,{variant:e?"default":"destructive",children:e?"PASS":"FAIL"});return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.A,{className:"h-6 w-6"}),"IdeaForge Feature Test"]}),(0,b.jsx)(n.BT,{children:"Comprehensive testing of IdeaForge functionality including idea creation, wiki pages, journey entries, and feedback"})]}),(0,b.jsxs)(n.Wu,{className:"space-y-6",children:[(0,b.jsxs)(c.Fc,{className:A?"border-green-500":"border-red-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["User Status: ",A?"Logged in as ".concat(A.email):"Not logged in - tests will fail"]}),(0,b.jsx)(i.E,{variant:A?"default":"destructive",children:A?"AUTHENTICATED":"NOT AUTHENTICATED"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test IdeaForge Configuration"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"test-title",children:"Idea Title"}),(0,b.jsx)(f.p,{id:"test-title",value:u.title,onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{title:e.target.value})),placeholder:"Enter test idea title"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"test-description",children:"Description"}),(0,b.jsx)(S.T,{id:"test-description",value:u.description,onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{description:e.target.value})),placeholder:"Enter test idea description",rows:3})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"test-tags",children:"Tags (comma-separated)"}),(0,b.jsx)(f.p,{id:"test-tags",value:u.tags.join(", "),onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e.length>0)})),placeholder:"AI, Productivity, SaaS"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Actions"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(r.$,{onClick:async()=>{s(!0),d([]);const e=[];if(!A)return e.push({name:"User Authentication Check",success:!1,error:"User must be logged in to test IdeaForge functionality"}),d(e),void s(!1);try{const{data:s,error:a}=await F.MO.getIdeas(A.id);e.push({name:"IdeaForge Ideas Access",success:!a,error:null===a||void 0===a?void 0:a.message,details:{accessible:!a,existingIdeas:(null===s||void 0===s?void 0:s.length)||0}})}catch(i){e.push({name:"IdeaForge Ideas Access",success:!1,error:i instanceof Error?i.message:"Unknown error"})}try{const s={title:u.title,description:u.description,status:u.status,tags:u.tags,user_id:A.id,progress:{wiki:0,blueprint:0,journey:0,feedback:0}},{data:a,error:t}=await F.MO.createIdea(s);!t&&a?(j(a.id),e.push({name:"Create IdeaForge Idea",success:!0,details:{ideaId:a.id,title:a.title,status:a.status}})):e.push({name:"Create IdeaForge Idea",success:!1,error:(null===t||void 0===t?void 0:t.message)||"No data returned"})}catch(i){e.push({name:"Create IdeaForge Idea",success:!1,error:i instanceof Error?i.message:"Unknown error"})}if(g)try{const s={idea_id:g,title:"Market Research",content:"This is a test wiki page for market research analysis.",order_index:1,user_id:A.id},{data:a,error:t}=await x.ND.from("wiki_pages").insert([s]).select().single();!t&&a?(w(a.id),e.push({name:"Create Wiki Page",success:!0,details:{wikiPageId:a.id,title:a.title}})):e.push({name:"Create Wiki Page",success:!1,error:(null===t||void 0===t?void 0:t.message)||"No data returned"})}catch(i){e.push({name:"Create Wiki Page",success:!1,error:i instanceof Error?i.message:"Unknown error"})}else e.push({name:"Create Wiki Page",success:!1,error:"No idea created to attach wiki page to"});if(g)try{const s={idea_id:g,title:"Initial Concept",content:"Started working on the AI-powered task manager concept.",entry_type:"milestone",user_id:A.id},{data:a,error:t}=await x.ND.from("journey_entries").insert([s]).select().single();e.push({name:"Create Journey Entry",success:!t,error:null===t||void 0===t?void 0:t.message,details:{journeyEntryId:null===a||void 0===a?void 0:a.id,title:null===a||void 0===a?void 0:a.title}})}catch(i){e.push({name:"Create Journey Entry",success:!1,error:i instanceof Error?i.message:"Unknown error"})}else e.push({name:"Create Journey Entry",success:!1,error:"No idea created to attach journey entry to"});if(g)try{const s={idea_id:g,feedback_type:"suggestion",content:"Consider adding integration with popular calendar apps.",priority:"medium",user_id:A.id},{data:a,error:t}=await x.ND.from("feedback_items").insert([s]).select().single();e.push({name:"Create Feedback Item",success:!t,error:null===t||void 0===t?void 0:t.message,details:{feedbackId:null===a||void 0===a?void 0:a.id,type:null===a||void 0===a?void 0:a.feedback_type}})}catch(i){e.push({name:"Create Feedback Item",success:!1,error:i instanceof Error?i.message:"Unknown error"})}else e.push({name:"Create Feedback Item",success:!1,error:"No idea created to attach feedback to"});if(g)try{var a,t,r,n;const s=await F.MO.getIdeaWithDetails(g);e.push({name:"Get Idea With Details",success:!s.error,error:null===(a=s.error)||void 0===a?void 0:a.message,details:{hasIdea:!!s.idea,hasWikiPages:!(null===(t=s.wiki)||void 0===t||!t.length),hasJourneyEntries:!(null===(r=s.journey)||void 0===r||!r.length),hasFeedback:!(null===(n=s.feedback)||void 0===n||!n.length)}})}catch(i){e.push({name:"Get Idea With Details",success:!1,error:i instanceof Error?i.message:"Unknown error"})}else e.push({name:"Get Idea With Details",success:!1,error:"No idea created to retrieve details for"});d(e),s(!1)},disabled:e||!A,className:"w-full flex items-center gap-2",children:[e?(0,b.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(l.A,{className:"h-4 w-4"}),"Run IdeaForge Tests"]}),(0,b.jsxs)(r.$,{onClick:async()=>{if(g){s(!0);try{const{error:e}=await F.MO.updateIdea(g,{status:"archived",title:u.title+" (Test - Archived)",updated_at:(new Date).toISOString()});if(e){const s={name:"Cleanup Test Data",success:!1,error:e.message};d(e=>[...e,s])}else{j(null),w(null);const e={name:"Cleanup Test Data",success:!0,details:{archived:!0}};d(s=>[...s,e])}}catch(e){const s={name:"Cleanup Test Data",success:!1,error:e instanceof Error?e.message:"Unknown error"};d(e=>[...e,s])}s(!1)}},disabled:e||!g,variant:"outline",className:"w-full flex items-center gap-2",children:[(0,b.jsx)(o.A,{className:"h-4 w-4"}),"Cleanup Test Data"]})]}),g&&(0,b.jsxs)(c.Fc,{className:"border-yellow-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{children:["Test idea created with ID: ",g]}),v&&(0,b.jsxs)("div",{children:["Wiki page created with ID: ",v]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(C.A,{className:"h-4 w-4"}),"Wiki Pages"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(E.A,{className:"h-4 w-4"}),"Journey Entries"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(P.A,{className:"h-4 w-4"}),"Feedback Items"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(U.A,{className:"h-4 w-4"}),"Blueprint Data"]})]})]})]}),a.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Results"}),a.map((e,s)=>{return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(a=e.success,a?(0,b.jsx)(l.A,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(o.A,{className:"h-5 w-5 text-red-500"})),(0,b.jsx)("span",{className:"font-medium",children:e.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[e.error&&(0,b.jsx)("span",{className:"text-sm text-red-500 max-w-xs truncate",children:e.error}),e.details&&(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:JSON.stringify(e.details)}),_(e.success)]})]},s);var a})]})]})]})})};var M=a(3255),V=a(16195),O=a(76274);const L=()=>{const[e,s]=(0,t.useState)(!1),[a,d]=(0,t.useState)([]),[u,p]=(0,t.useState)({name:"AI Task Manager MVP",description:"A minimal viable product for an AI-powered task management system with smart prioritization.",app_type:"web-app",features:["Smart task prioritization","AI-powered scheduling","Team collaboration"],tech_stack:["React","Node.js","PostgreSQL","OpenAI API"],estimated_timeline:"3 months",budget_range:"$10,000 - $25,000"}),[g,j]=(0,t.useState)(null),[v,w]=(0,t.useState)(null),{user:A}=(0,y.A)(),k=e=>(0,b.jsx)(i.E,{variant:e?"default":"destructive",children:e?"PASS":"FAIL"});return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,b.jsx)(M.A,{className:"h-6 w-6"}),"MVP Studio Feature Test"]}),(0,b.jsx)(n.BT,{children:"Comprehensive testing of MVP Studio functionality including MVP creation, management, and prompt history tracking"})]}),(0,b.jsxs)(n.Wu,{className:"space-y-6",children:[(0,b.jsxs)(c.Fc,{className:A?"border-green-500":"border-red-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["User Status: ",A?"Logged in as ".concat(A.email):"Not logged in - tests will fail"]}),(0,b.jsx)(i.E,{variant:A?"default":"destructive",children:A?"AUTHENTICATED":"NOT AUTHENTICATED"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test MVP Configuration"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"mvp-name",children:"MVP Name"}),(0,b.jsx)(f.p,{id:"mvp-name",value:u.name,onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{name:e.target.value})),placeholder:"Enter test MVP name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"mvp-description",children:"Description"}),(0,b.jsx)(S.T,{id:"mvp-description",value:u.description,onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{description:e.target.value})),placeholder:"Enter test MVP description",rows:3})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"mvp-app-type",children:"App Type"}),(0,b.jsx)(f.p,{id:"mvp-app-type",value:u.app_type,onChange:e=>p(s=>(0,T.A)((0,T.A)({},s),{},{app_type:e.target.value})),placeholder:"Enter app type"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Actions"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(r.$,{onClick:async()=>{s(!0),d([]);const e=[];if(!A)return e.push({name:"User Authentication Check",success:!1,error:"User must be logged in to test MVP Studio functionality"}),d(e),void s(!1);try{const{data:s,error:a}=await F.$h.getMVPs(A.id);e.push({name:"MVPs Table Access",success:!a,error:null===a||void 0===a?void 0:a.message,details:{accessible:!a,existingMVPs:(null===s||void 0===s?void 0:s.length)||0}})}catch(a){e.push({name:"MVPs Table Access",success:!1,error:a instanceof Error?a.message:"Unknown error"})}try{const s=(0,T.A)((0,T.A)({},u),{},{idea_id:u.idea_id||null,user_id:A.id,status:"planning",pages:{},framework_prompt:"",ui_prompts:{},linking_prompt:"",recommended_tools:{}}),{data:a,error:t}=await F.$h.createMVP(s);!t&&a?(j(a.id),e.push({name:"Create MVP",success:!0,details:{mvpId:a.id,name:a.name,status:a.status}})):e.push({name:"Create MVP",success:!1,error:(null===t||void 0===t?void 0:t.message)||"No data returned"})}catch(a){e.push({name:"Create MVP",success:!1,error:a instanceof Error?a.message:"Unknown error"})}if(g)try{const s={status:"development",progress:25,updated_at:(new Date).toISOString()},{data:a,error:t}=await F.$h.updateMVP(g,s);e.push({name:"Update MVP",success:!t,error:null===t||void 0===t?void 0:t.message,details:{updated:!t,newStatus:s.status,newProgress:s.progress}})}catch(a){e.push({name:"Update MVP",success:!1,error:a instanceof Error?a.message:"Unknown error"})}else e.push({name:"Update MVP",success:!1,error:"No MVP created to update"});if(g)try{const s={user_id:A.id,mvp_id:g,prompt_type:"feature_analysis",prompt_text:"Analyze the key features for this MVP and suggest improvements.",response_text:"Based on your MVP concept, here are the recommended features and improvements...",ai_provider:"gemini",tokens_used:150,created_at:(new Date).toISOString()},{data:a,error:t}=await x.ND.from("prompt_history").insert([s]).select().single();!t&&a?(w(a.id),e.push({name:"Create Prompt History",success:!0,details:{promptId:a.id,type:a.prompt_type}})):e.push({name:"Create Prompt History",success:!1,error:(null===t||void 0===t?void 0:t.message)||"No data returned"})}catch(a){e.push({name:"Create Prompt History",success:!1,error:a instanceof Error?a.message:"Unknown error"})}else e.push({name:"Create Prompt History",success:!1,error:"No MVP created to attach prompt history to"});try{const{data:s,error:a}=await x.ND.from("ai_tools_directory").select("*").limit(5);e.push({name:"AI Tools Directory Access",success:!a,error:null===a||void 0===a?void 0:a.message,details:{accessible:!a,toolsCount:(null===s||void 0===s?void 0:s.length)||0}})}catch(a){e.push({name:"AI Tools Directory Access",success:!1,error:a instanceof Error?a.message:"Unknown error"})}try{const{data:s,error:a}=await F.$h.getMVPs(A.id);e.push({name:"Retrieve MVPs List",success:!a,error:null===a||void 0===a?void 0:a.message,details:{totalMVPs:(null===s||void 0===s?void 0:s.length)||0,hasTestMVP:(null===s||void 0===s?void 0:s.some(e=>e.id===g))||!1}})}catch(a){e.push({name:"Retrieve MVPs List",success:!1,error:a instanceof Error?a.message:"Unknown error"})}d(e),s(!1)},disabled:e||!A,className:"w-full flex items-center gap-2",children:[e?(0,b.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(l.A,{className:"h-4 w-4"}),"Run MVP Studio Tests"]}),(0,b.jsxs)(r.$,{onClick:async()=>{if(g){s(!0);try{const{error:e}=await F.$h.updateMVP(g,{status:"archived",name:u.name+" (Test - Archived)",updated_at:(new Date).toISOString()});if(e){const s={name:"Cleanup Test Data",success:!1,error:e.message};d(e=>[...e,s])}else{j(null),w(null);const e={name:"Cleanup Test Data",success:!0,details:{archived:!0}};d(s=>[...s,e])}}catch(e){const s={name:"Cleanup Test Data",success:!1,error:e instanceof Error?e.message:"Unknown error"};d(e=>[...e,s])}s(!1)}},disabled:e||!g,variant:"outline",className:"w-full flex items-center gap-2",children:[(0,b.jsx)(o.A,{className:"h-4 w-4"}),"Cleanup Test Data"]})]}),g&&(0,b.jsxs)(c.Fc,{className:"border-yellow-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{children:["Test MVP created with ID: ",g]}),v&&(0,b.jsxs)("div",{children:["Prompt history created with ID: ",v]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(V.A,{className:"h-4 w-4"}),"AI Analysis"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(O.A,{className:"h-4 w-4"}),"MVP Planning"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(U.A,{className:"h-4 w-4"}),"Tech Stack"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(M.A,{className:"h-4 w-4"}),"Launch Ready"]})]})]})]}),a.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Results"}),a.map((e,s)=>{return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(a=e.success,a?(0,b.jsx)(l.A,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(o.A,{className:"h-5 w-5 text-red-500"})),(0,b.jsx)("span",{className:"font-medium",children:e.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[e.error&&(0,b.jsx)("span",{className:"text-sm text-red-500 max-w-xs truncate",children:e.error}),e.details&&(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:JSON.stringify(e.details)}),k(e.success)]})]},s);var a})]})]})]})})};var B=a(95797),Z=a(37687),J=a(89955),W=a(29975);const $=()=>{const[e,s]=(0,t.useState)(!1),[a,d]=(0,t.useState)([]),[u,g]=(0,t.useState)({title:"Test Business Plan",content:"# Executive Summary\n\nThis is a test business plan document for our AI-powered task management system.\n\n## Market Analysis\n\nThe market for productivity tools is growing rapidly...",document_type:"business_plan",description:"A comprehensive business plan for testing document functionality.",tags:["business","planning","test"]}),[j,v]=(0,t.useState)(null),[w,A]=(0,t.useState)(null),{user:k}=(0,y.A)(),_=e=>(0,b.jsx)(i.E,{variant:e?"default":"destructive",children:e?"PASS":"FAIL"});return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,b.jsx)(p.A,{className:"h-6 w-6"}),"Docs & Decks Feature Test"]}),(0,b.jsx)(n.BT,{children:"Comprehensive testing of Docs & Decks functionality including document creation, templates, sharing, and version tracking"})]}),(0,b.jsxs)(n.Wu,{className:"space-y-6",children:[(0,b.jsxs)(c.Fc,{className:k?"border-green-500":"border-red-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["User Status: ",k?"Logged in as ".concat(k.email):"Not logged in - tests will fail"]}),(0,b.jsx)(i.E,{variant:k?"default":"destructive",children:k?"AUTHENTICATED":"NOT AUTHENTICATED"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Document Configuration"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"doc-title",children:"Document Title"}),(0,b.jsx)(f.p,{id:"doc-title",value:u.title,onChange:e=>g(s=>(0,T.A)((0,T.A)({},s),{},{title:e.target.value})),placeholder:"Enter test document title"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"doc-type",children:"Document Type"}),(0,b.jsxs)(B.l6,{value:u.document_type,onValueChange:e=>g(s=>(0,T.A)((0,T.A)({},s),{},{document_type:e})),children:[(0,b.jsx)(B.bq,{children:(0,b.jsx)(B.yv,{placeholder:"Select document type"})}),(0,b.jsxs)(B.gC,{children:[(0,b.jsx)(B.eb,{value:"document",children:"Document"}),(0,b.jsx)(B.eb,{value:"presentation",children:"Presentation"}),(0,b.jsx)(B.eb,{value:"pitch_deck",children:"Pitch Deck"}),(0,b.jsx)(B.eb,{value:"business_plan",children:"Business Plan"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(N.J,{htmlFor:"doc-description",children:"Description"}),(0,b.jsx)(S.T,{id:"doc-description",value:u.description||"",onChange:e=>g(s=>(0,T.A)((0,T.A)({},s),{},{description:e.target.value})),placeholder:"Enter document description",rows:3})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Actions"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(r.$,{onClick:async()=>{s(!0),d([]);const e=[];if(!k)return e.push({name:"User Authentication Check",success:!1,error:"User must be logged in to test Docs & Decks functionality"}),d(e),void s(!1);try{const{data:s,error:a}=await F.NQ.getDocuments(k.id);e.push({name:"Documents Table Access",success:!a,error:null===a||void 0===a?void 0:a.message,details:{accessible:!a,existingDocuments:(null===s||void 0===s?void 0:s.length)||0}})}catch(a){e.push({name:"Documents Table Access",success:!1,error:a instanceof Error?a.message:"Unknown error"})}try{const s=(0,T.A)((0,T.A)({},u),{},{user_id:k.id,version:1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}),{data:a,error:t}=await F.NQ.createDocument(s);!t&&a?(v(a.id),e.push({name:"Create Document",success:!0,details:{documentId:a.id,title:a.title,type:a.document_type}})):e.push({name:"Create Document",success:!1,error:(null===t||void 0===t?void 0:t.message)||"No data returned"})}catch(a){e.push({name:"Create Document",success:!1,error:a instanceof Error?a.message:"Unknown error"})}if(j)try{const s={title:u.title+" (Updated)",content:u.content+"\n\n## Updated Section\n\nThis section was added during testing.",version:2,updated_at:(new Date).toISOString()},{data:a,error:t}=await F.NQ.updateDocument(j,s);e.push({name:"Update Document",success:!t,error:null===t||void 0===t?void 0:t.message,details:{updated:!t,newTitle:s.title,newVersion:s.version}})}catch(a){e.push({name:"Update Document",success:!1,error:a instanceof Error?a.message:"Unknown error"})}else e.push({name:"Update Document",success:!1,error:"No document created to update"});try{const s={name:"Test Business Plan Template",description:"A template for creating business plans",document_type:"business_plan",template_content:"# Business Plan Template\n\n## Executive Summary\n[Your executive summary here]\n\n## Market Analysis\n[Your market analysis here]",tags:["template","business","planning"],is_public:!0,created_by:k.id},{data:a,error:t}=await x.ND.from("document_templates").insert([s]).select().single();!t&&a?(A(a.id),e.push({name:"Create Document Template",success:!0,details:{templateId:a.id,name:a.name}})):e.push({name:"Create Document Template",success:!1,error:(null===t||void 0===t?void 0:t.message)||"No data returned"})}catch(a){e.push({name:"Create Document Template",success:!1,error:a instanceof Error?a.message:"Unknown error"})}if(j)try{const s={document_id:j,shared_with_user_id:k.id,permission_level:"read",shared_by_user_id:k.id,created_at:(new Date).toISOString()},{data:a,error:t}=await x.ND.from("document_shares").insert([s]).select().single();e.push({name:"Document Sharing",success:!t,error:null===t||void 0===t?void 0:t.message,details:{shareId:null===a||void 0===a?void 0:a.id,permission:null===a||void 0===a?void 0:a.permission_level}})}catch(a){e.push({name:"Document Sharing",success:!1,error:a instanceof Error?a.message:"Unknown error"})}else e.push({name:"Document Sharing",success:!1,error:"No document created to share"});try{const{data:s,error:a}=await F.NQ.getDocuments(k.id);e.push({name:"Retrieve Documents List",success:!a,error:null===a||void 0===a?void 0:a.message,details:{totalDocuments:(null===s||void 0===s?void 0:s.length)||0,hasTestDocument:(null===s||void 0===s?void 0:s.some(e=>e.id===j))||!1}})}catch(a){e.push({name:"Retrieve Documents List",success:!1,error:a instanceof Error?a.message:"Unknown error"})}d(e),s(!1)},disabled:e||!k,className:"w-full flex items-center gap-2",children:[e?(0,b.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(l.A,{className:"h-4 w-4"}),"Run Docs & Decks Tests"]}),(0,b.jsxs)(r.$,{onClick:async()=>{if(j){s(!0);try{const{error:e}=await F.NQ.updateDocument(j,{title:u.title+" (Test - Archived)",status:"archived",updated_at:(new Date).toISOString()});if(e){const s={name:"Cleanup Test Data",success:!1,error:e.message};d(e=>[...e,s])}else{v(null),A(null);const e={name:"Cleanup Test Data",success:!0,details:{archived:!0}};d(s=>[...s,e])}}catch(e){const s={name:"Cleanup Test Data",success:!1,error:e instanceof Error?e.message:"Unknown error"};d(e=>[...e,s])}s(!1)}},disabled:e||!j,variant:"outline",className:"w-full flex items-center gap-2",children:[(0,b.jsx)(o.A,{className:"h-4 w-4"}),"Cleanup Test Data"]})]}),j&&(0,b.jsxs)(c.Fc,{className:"border-yellow-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{children:["Test document created with ID: ",j]}),w&&(0,b.jsxs)("div",{children:["Template created with ID: ",w]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(p.A,{className:"h-4 w-4"}),"Documents"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(Z.A,{className:"h-4 w-4"}),"Presentations"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(J.A,{className:"h-4 w-4"}),"Templates"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(W.A,{className:"h-4 w-4"}),"Sharing"]})]})]})]}),a.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Test Results"}),a.map((e,s)=>{return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(a=e.success,a?(0,b.jsx)(l.A,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(o.A,{className:"h-5 w-5 text-red-500"})),(0,b.jsx)("span",{className:"font-medium",children:e.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[e.error&&(0,b.jsx)("span",{className:"text-sm text-red-500 max-w-xs truncate",children:e.error}),e.details&&(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:JSON.stringify(e.details)}),_(e.success)]})]},s);var a})]})]})]})})};var H=a(19201),G=a(14215),Q=a(89318);const z=()=>{const[e,s]=(0,t.useState)(!1),[a,d]=(0,t.useState)([]),{user:u}=(0,y.A)(),p=e=>{switch(e){case"Team Space":return(0,b.jsx)(W.A,{className:"h-5 w-5"});case"Task Planner":return(0,b.jsx)(H.A,{className:"h-5 w-5"});case"Investor Radar":return(0,b.jsx)(G.A,{className:"h-5 w-5"});case"Admin Panel":case"User Profile & Settings":return(0,b.jsx)(Q.A,{className:"h-5 w-5"});default:return(0,b.jsx)(l.A,{className:"h-5 w-5"})}},g=e=>(0,b.jsx)(i.E,{variant:e?"default":"destructive",children:e?"PASS":"FAIL"}),j=a.length>0&&a.every(e=>e.overallSuccess);return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,b.jsx)(V.A,{className:"h-6 w-6"}),"Comprehensive Feature Test"]}),(0,b.jsx)(n.BT,{children:"Quick verification of all major features and database connectivity"})]}),(0,b.jsxs)(n.Wu,{className:"space-y-6",children:[(0,b.jsxs)(c.Fc,{className:u?"border-green-500":"border-red-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["User Status: ",u?"Logged in as ".concat(u.email):"Not logged in - tests will fail"]}),(0,b.jsx)(i.E,{variant:u?"default":"destructive",children:u?"AUTHENTICATED":"NOT AUTHENTICATED"})]})})]}),a.length>0&&(0,b.jsxs)(c.Fc,{className:j?"border-green-500":"border-red-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["Overall Status: ",j?"All features working!":"Some features need attention"]}),g(j)]})})]}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsxs)(r.$,{onClick:async()=>{s(!0),d([]);const e=[];if(!u)return d([{feature:"Authentication",tests:[{name:"User Login Check",success:!1,error:"User must be logged in"}],overallSuccess:!1}]),void s(!1);const a=[];try{const{data:e,error:s}=await x.ND.from("teams").select("*").limit(1);a.push({name:"Teams Table Access",success:!s,error:null===s||void 0===s?void 0:s.message});const{data:t,error:r}=await x.ND.from("team_members").select("*").limit(1);a.push({name:"Team Members Table Access",success:!r,error:null===r||void 0===r?void 0:r.message});const{data:n,error:i}=await x.ND.from("team_messages").select("*").limit(1);a.push({name:"Team Messages Table Access",success:!i,error:null===i||void 0===i?void 0:i.message})}catch(c){a.push({name:"Team Space General Test",success:!1,error:c instanceof Error?c.message:"Unknown error"})}e.push({feature:"Team Space",tests:a,overallSuccess:a.every(e=>e.success)});const t=[];try{const{data:e,error:s}=await x.ND.from("projects").select("*").limit(1);t.push({name:"Projects Table Access",success:!s,error:null===s||void 0===s?void 0:s.message});const{data:a,error:r}=await x.ND.from("tasks").select("*").limit(1);t.push({name:"Tasks Table Access",success:!r,error:null===r||void 0===r?void 0:r.message});const{data:n,error:i}=await x.ND.from("project_phases").select("*").limit(1);t.push({name:"Project Phases Table Access",success:!i,error:null===i||void 0===i?void 0:i.message})}catch(c){t.push({name:"Task Planner General Test",success:!1,error:c instanceof Error?c.message:"Unknown error"})}e.push({feature:"Task Planner",tests:t,overallSuccess:t.every(e=>e.success)});const r=[];try{const{data:e,error:s}=await x.ND.from("investors").select("*").limit(1);r.push({name:"Investors Table Access",success:!s,error:null===s||void 0===s?void 0:s.message});const{data:a,error:t}=await x.ND.from("funding_rounds").select("*").limit(1);r.push({name:"Funding Rounds Table Access",success:!t,error:null===t||void 0===t?void 0:t.message})}catch(c){r.push({name:"Investor Radar General Test",success:!1,error:c instanceof Error?c.message:"Unknown error"})}e.push({feature:"Investor Radar",tests:r,overallSuccess:r.every(e=>e.success)});const n=[];try{const{data:e,error:s}=await x.ND.from("admin_users").select("*").limit(1);n.push({name:"Admin Users Table Access",success:!s,error:null===s||void 0===s?void 0:s.message});const{data:a,error:t}=await x.ND.from("system_metrics").select("*").limit(1);n.push({name:"System Metrics Table Access",success:!t,error:null===t||void 0===t?void 0:t.message})}catch(c){n.push({name:"Admin Panel General Test",success:!1,error:c instanceof Error?c.message:"Unknown error"})}e.push({feature:"Admin Panel",tests:n,overallSuccess:n.every(e=>e.success)});const i=[];try{const{data:e,error:s}=await x.ND.from("user_preferences").select("*").limit(1);i.push({name:"User Preferences Table Access",success:!s,error:null===s||void 0===s?void 0:s.message});const{data:a,error:t}=await x.ND.from("notifications").select("*").limit(1);i.push({name:"Notifications Table Access",success:!t,error:null===t||void 0===t?void 0:t.message})}catch(c){i.push({name:"Profile & Settings General Test",success:!1,error:c instanceof Error?c.message:"Unknown error"})}e.push({feature:"User Profile & Settings",tests:i,overallSuccess:i.every(e=>e.success)}),d(e),s(!1)},disabled:e||!u,size:"lg",className:"flex items-center gap-2",children:[e?(0,b.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(l.A,{className:"h-4 w-4"}),e?"Running Tests...":"Run Comprehensive Tests"]})}),a.length>0&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Feature Test Results"}),a.map((e,s)=>(0,b.jsxs)(n.Zp,{className:"border-l-4 ".concat(e.overallSuccess?"border-l-green-500":"border-l-red-500"),children:[(0,b.jsx)(n.aR,{className:"pb-3",children:(0,b.jsxs)(n.ZB,{className:"flex items-center justify-between text-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[p(e.feature),e.feature]}),g(e.overallSuccess)]})}),(0,b.jsx)(n.Wu,{children:(0,b.jsx)("div",{className:"space-y-2",children:e.tests.map((e,s)=>{return(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(a=e.success,a?(0,b.jsx)(l.A,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(o.A,{className:"h-5 w-5 text-red-500"})),(0,b.jsx)("span",{className:"text-sm",children:e.name})]}),e.error&&(0,b.jsx)("span",{className:"text-xs text-red-500 max-w-xs truncate",children:e.error})]},s);var a})})})]},s))]})]})]})})};var q=a(16859);const Y=()=>{const e=[{name:"Database Schema",status:"complete",description:"All 60+ tables verified and accessible",icon:(0,b.jsx)(d.A,{className:"h-5 w-5"})},{name:"Authentication System",status:"complete",description:"Sign up, sign in, sign out, password reset, RLS policies",icon:(0,b.jsx)(W.A,{className:"h-5 w-5"})},{name:"Idea Vault",status:"complete",description:"CRUD operations, history tracking, Zustand integration",icon:(0,b.jsx)(k.A,{className:"h-5 w-5"})},{name:"IdeaForge",status:"complete",description:"AI-powered idea development, wiki pages, journey tracking",icon:(0,b.jsx)(V.A,{className:"h-5 w-5"})},{name:"MVP Studio",status:"complete",description:"MVP creation, management, prompt history, AI integration",icon:(0,b.jsx)(M.A,{className:"h-5 w-5"})},{name:"Docs & Decks",status:"complete",description:"Document creation, templates, sharing, version control",icon:(0,b.jsx)(p.A,{className:"h-5 w-5"})},{name:"Team Space",status:"verified",description:"Database tables verified, real-time features ready",icon:(0,b.jsx)(W.A,{className:"h-5 w-5"})},{name:"Task Planner",status:"verified",description:"Project management tables and structure verified",icon:(0,b.jsx)(H.A,{className:"h-5 w-5"})},{name:"Investor Radar",status:"verified",description:"Investor and funding round management verified",icon:(0,b.jsx)(G.A,{className:"h-5 w-5"})},{name:"Admin Panel",status:"verified",description:"Admin functionality and metrics tracking verified",icon:(0,b.jsx)(Q.A,{className:"h-5 w-5"})}],s=e=>{switch(e){case"complete":return(0,b.jsx)(i.E,{className:"bg-green-500",children:"Fully Tested"});case"verified":return(0,b.jsx)(i.E,{variant:"outline",className:"border-blue-500 text-blue-500",children:"DB Verified"});default:return(0,b.jsx)(i.E,{variant:"secondary",children:"Pending"})}},a=e=>{switch(e){case"high":return(0,b.jsx)(i.E,{variant:"destructive",children:"High Priority"});case"medium":return(0,b.jsx)(i.E,{className:"bg-yellow-500",children:"Medium Priority"});case"low":return(0,b.jsx)(i.E,{variant:"outline",children:"Low Priority"});default:return(0,b.jsx)(i.E,{variant:"secondary",children:"Unknown"})}},t=e.filter(e=>"complete"===e.status).length,r=e.filter(e=>"verified"===e.status).length,o=e.length;return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,b.jsx)(O.A,{className:"h-6 w-6"}),"Testing Summary & Recommendations"]}),(0,b.jsx)(n.BT,{children:"Comprehensive overview of testing progress and next steps"})]}),(0,b.jsxs)(n.Wu,{className:"space-y-6",children:[(0,b.jsxs)(c.Fc,{className:"border-green-500",children:[(0,b.jsx)(l.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"font-semibold",children:"Testing Progress Complete!"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t}),(0,b.jsx)("div",{children:"Fully Tested"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r}),(0,b.jsx)("div",{children:"DB Verified"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:o}),(0,b.jsx)("div",{children:"Total Features"})]})]})]})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Feature Testing Status"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.map((e,a)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[e.icon,(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:e.name}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})]}),s(e.status)]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Next Steps & Recommendations"}),(0,b.jsx)("div",{className:"space-y-3",children:[{priority:"high",title:"User Onboarding Flow",description:"Test the complete user onboarding process from signup to first feature usage",action:"Create test accounts and walk through the entire flow"},{priority:"high",title:"Real-time Features",description:"Test WebSocket connections for team chat and collaborative features",action:"Open multiple browser windows and test real-time updates"},{priority:"medium",title:"AI Integration Testing",description:"Test all AI-powered features with actual API calls",action:"Verify API keys and test prompt generation across all features"},{priority:"medium",title:"File Upload & Storage",description:"Test file attachment functionality across all features",action:"Upload various file types and verify storage in Supabase"},{priority:"low",title:"Performance Testing",description:"Test application performance with larger datasets",action:"Create multiple test records and measure response times"},{priority:"low",title:"Mobile Responsiveness",description:"Test all features on mobile devices and tablets",action:"Use browser dev tools and actual devices for testing"}].map((e,s)=>(0,b.jsx)(n.Zp,{className:"border-l-4 border-l-blue-500",children:(0,b.jsxs)(n.Wu,{className:"pt-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h4",{className:"font-medium",children:e.title}),a(e.priority)]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(k.A,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"font-medium",children:"Action:"}),(0,b.jsx)("span",{children:e.action})]})]})},s))})]}),(0,b.jsxs)(c.Fc,{children:[(0,b.jsx)(q.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"font-semibold",children:"Key Achievements:"}),(0,b.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,b.jsx)("li",{children:"\u2705 Complete database schema with 60+ tables properly configured"}),(0,b.jsx)("li",{children:"\u2705 Authentication system with RLS policies working correctly"}),(0,b.jsx)("li",{children:"\u2705 All core features (Idea Vault, IdeaForge, MVP Studio, Docs & Decks) fully functional"}),(0,b.jsx)("li",{children:"\u2705 Comprehensive test suite for ongoing verification"}),(0,b.jsx)("li",{children:"\u2705 Proper history tracking and analytics integration"}),(0,b.jsx)("li",{children:"\u2705 Supabase integration working seamlessly across all features"})]})]})})]}),(0,b.jsxs)(c.Fc,{className:"border-green-500",children:[(0,b.jsx)(l.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"font-semibold text-lg mb-2",children:"\ud83c\udf89 Application Ready for Production!"}),(0,b.jsx)("div",{className:"text-sm",children:"All major features are working correctly and connected to Supabase with proper history storage. The application is ready for user testing and deployment."})]})})]})]})]})})},K=()=>{const[e,s]=(0,t.useState)(!1),[a,g]=(0,t.useState)(null),[j,f]=(0,t.useState)(null),[N,w]=(0,t.useState)(!1),y=async()=>{try{const e=await async function(){try{console.log("\ud83d\udd0d Checking database schema status...");const s=["user_profiles","ideas","mvps","documents","teams","projects"],a=[];for(const r of s)try{const{data:e,error:s}=await x.ND.from(r).select("*").limit(1);s&&("42P01"===s.code||s.message.includes("does not exist"))&&a.push(r)}catch(e){a.push(r)}const t=0===a.length;return t?console.log("\u2705 Database schema appears to be applied"):(console.log("\u274c Database schema not fully applied"),console.log("Missing tables:",a)),{isApplied:t,missingTables:a}}catch(e){const s=e instanceof Error?e.message:"Unknown error";return console.error("\u274c Failed to check schema status:",s),{isApplied:!1,missingTables:[],error:s}}}();return f(e),e}catch(e){return console.error("Schema check failed:",e),f({isApplied:!1,missingTables:[],error:e instanceof Error?e.message:"Unknown error"}),null}},T=e=>e?(0,b.jsx)(l.A,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(o.A,{className:"h-5 w-5 text-red-500"}),S=e=>(0,b.jsx)(i.E,{variant:e?"default":"destructive",children:e?"PASS":"FAIL"});return(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,b.jsx)(d.A,{className:"h-8 w-8"}),"Database Verification"]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Comprehensive testing of Supabase database schema and operations"})]}),(0,b.jsxs)(r.$,{onClick:async()=>{s(!0),g(null);try{const e=await y();if(null===e||void 0===e||!e.isApplied)return w(!0),void s(!1);const a=await v();g(a)}catch(e){console.error("Test execution failed:",e),g({schema:{success:!1,tables:[],errors:["Test execution failed: ".concat(e instanceof Error?e.message:"Unknown error")],summary:{total_tables:0,existing_tables:0,missing_tables:0,tables_with_rls:0}},operations:{success:!1,operations:[]},overall_success:!1})}finally{s(!1)}},disabled:e,size:"lg",className:"flex items-center gap-2",children:[e?(0,b.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(u.A,{className:"h-4 w-4"}),e?"Running Tests...":"Run Tests"]})]}),j&&!j.isApplied&&(0,b.jsxs)(c.Fc,{className:"border-yellow-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["Database schema not fully applied. Missing tables: ",j.missingTables.join(", ")]}),(0,b.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>w(!N),className:"flex items-center gap-2",children:[(0,b.jsx)(p.A,{className:"h-4 w-4"}),N?"Hide":"Show"," Instructions"]})]})})]}),N&&(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsx)(n.ZB,{children:"Database Schema Application Instructions"}),(0,b.jsx)(n.BT,{children:"Follow these steps to apply the database schema to your Supabase project"})]}),(0,b.jsx)(n.Wu,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Method 1: Supabase Dashboard"}),(0,b.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[(0,b.jsx)("li",{children:"Go to your Supabase project dashboard"}),(0,b.jsx)("li",{children:"Navigate to the SQL Editor"}),(0,b.jsxs)("li",{children:["Open the file: ",(0,b.jsx)("code",{className:"bg-background px-2 py-1 rounded",children:"database/schemas/clean_schema.sql"})]}),(0,b.jsx)("li",{children:"Copy the entire content"}),(0,b.jsx)("li",{children:"Paste it into the Supabase SQL Editor"}),(0,b.jsx)("li",{children:'Click "Run" to execute the schema'}),(0,b.jsx)("li",{children:"Verify all tables are created successfully"})]})]}),(0,b.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold mb-2",children:"Method 2: Supabase CLI"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsx)("p",{children:"If you have Supabase CLI installed:"}),(0,b.jsx)("code",{className:"block bg-background p-2 rounded",children:"supabase db reset"}),(0,b.jsx)("p",{children:"Or:"}),(0,b.jsx)("code",{className:"block bg-background p-2 rounded",children:"supabase db push"})]})]}),(0,b.jsxs)(c.Fc,{children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsx)(c.TN,{children:"After applying the schema, refresh this page and run the tests again."})]})]})})]}),a&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(c.Fc,{className:a.overall_success?"border-green-500":"border-red-500",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsxs)(c.TN,{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{children:["Overall Status: ",a.overall_success?"All tests passed!":"Some tests failed"]}),S(a.overall_success)]})]}),(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Schema Verification"}),S(a.schema.success)]}),(0,b.jsx)(n.BT,{children:"Verification of database tables and structure"})]}),(0,b.jsxs)(n.Wu,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.schema.summary.total_tables}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Tables"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.schema.summary.existing_tables}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Existing"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:a.schema.summary.missing_tables}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Missing"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a.schema.summary.tables_with_rls}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"With RLS"})]})]}),a.schema.errors.length>0&&(0,b.jsxs)(c.Fc,{className:"mb-4",children:[(0,b.jsx)(h.A,{className:"h-4 w-4"}),(0,b.jsxs)(c.TN,{children:[(0,b.jsx)("div",{className:"font-semibold mb-2",children:"Errors found:"}),(0,b.jsx)("ul",{className:"list-disc list-inside space-y-1",children:a.schema.errors.map((e,s)=>(0,b.jsx)("li",{className:"text-sm",children:e},s))})]})]}),(0,b.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:a.schema.tables.map(e=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[T(e.exists),(0,b.jsx)("span",{className:"font-medium",children:e.table_name}),e.has_rls&&(0,b.jsx)(i.E,{variant:"outline",className:"text-xs",children:"RLS"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[void 0!==e.row_count&&(0,b.jsxs)("span",{children:[e.row_count," rows"]}),e.error&&(0,b.jsx)("span",{className:"text-red-500",children:e.error})]})]},e.table_name))})]})]}),(0,b.jsxs)(n.Zp,{children:[(0,b.jsxs)(n.aR,{children:[(0,b.jsxs)(n.ZB,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Operations Testing"}),S(a.operations.success)]}),(0,b.jsx)(n.BT,{children:"Testing of basic database operations and connectivity"})]}),(0,b.jsx)(n.Wu,{children:(0,b.jsx)("div",{className:"space-y-3",children:a.operations.operations.map((e,s)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[T(e.success),(0,b.jsx)("span",{className:"font-medium",children:e.name})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[e.error&&(0,b.jsx)("span",{className:"text-sm text-red-500",children:e.error}),S(e.success)]})]},s))})})]}),(0,b.jsx)(A,{}),(0,b.jsx)(D,{}),(0,b.jsx)(R,{}),(0,b.jsx)(L,{}),(0,b.jsx)($,{}),(0,b.jsx)(z,{}),(0,b.jsx)(Y,{})]})]})}}}]);