/*! For license information please see 7904.43ff8cbc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpromptheroready=self.webpackChunkpromptheroready||[]).push([[7904],{34379:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(77784).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},39763:(e,t,r)=>{r.d(t,{R:()=>o});var a=r(65043),i=r(29066),s=r(62623),n=r(51704);const o=()=>{const{user:e}=(0,i.A)(),{toast:t}=(0,n.dj)(),[r,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[p,m]=(0,a.useState)(!0),[h,g]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),[v,x]=(0,a.useState)(0),f=(0,a.useCallback)(async()=>{if(null!==e&&void 0!==e&&e.id)try{m(!0),g(null);const[t,r]=await Promise.all([s.A.getUserSubscription(e.id),s.A.getUserUsage(e.id)]);if(o(t),c(r),t){const e=s.A.getPlan(t.planId);u(e)}else{const e=s.A.getPlan("free");u(e)}const a=await s.A.isOnTrial(e.id);if(y(a),a){const t=await s.A.getTrialDaysRemaining(e.id);x(t)}}catch(t){console.error("Error fetching subscription data:",t),g("Failed to load subscription data")}finally{m(!1)}else m(!1)},[null===e||void 0===e?void 0:e.id]);(0,a.useEffect)(()=>{f()},[f]);return{subscription:r,usage:l,currentPlan:d,loading:p,error:h,canPerformAction:(0,a.useCallback)(async t=>null!==e&&void 0!==e&&e.id?await s.A.canPerformAction(e.id,t):{allowed:!1,reason:"User not authenticated"},[null===e||void 0===e?void 0:e.id]),trackUsage:(0,a.useCallback)(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(null===e||void 0===e||!e.id)return!1;const a=await s.A.trackUsage(e.id,t,r);if(a){const t=await s.A.getUserUsage(e.id);c(t)}return a},[null===e||void 0===e?void 0:e.id]),startFreeTrial:(0,a.useCallback)(async()=>{if(null===e||void 0===e||!e.id)return!1;const r=await s.A.startFreeTrial(e.id);return r?(t({title:"Trial Started!",description:"Your 7-day Pro trial has begun. Enjoy unlimited access!"}),await f()):t({title:"Error",description:"Failed to start trial. Please try again.",variant:"destructive"}),r},[null===e||void 0===e?void 0:e.id,t,f]),cancelSubscription:(0,a.useCallback)(async function(){let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===e||void 0===e||!e.id)return!1;const a=await s.A.cancelSubscription(e.id,r);return a?(t({title:r?"Subscription Cancelled":"Cancellation Scheduled",description:r?"Your subscription has been cancelled immediately.":"Your subscription will be cancelled at the end of the current period."}),await f()):t({title:"Error",description:"Failed to cancel subscription. Please try again.",variant:"destructive"}),a},[null===e||void 0===e?void 0:e.id,t,f]),isFreeTier:"free"===(null===d||void 0===d?void 0:d.tier)||!r,isProTier:"pro"===(null===d||void 0===d?void 0:d.tier),isEnterpriseTier:"enterprise"===(null===d||void 0===d?void 0:d.tier),isOnTrial:b,trialDaysRemaining:v,hasActiveSubscription:"active"===(null===r||void 0===r?void 0:r.status)||"trial"===(null===r||void 0===r?void 0:r.status),refresh:f}}},42983:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(77784).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},62623:(e,t,r)=>{r.d(t,{A:()=>s,N:()=>i});var a=r(41736);const i=[{id:"free",name:"Free",tier:"free",price:0,currency:"USD",interval:"month",features:["1 idea in Idea Vault","10 AI prompts per month","Basic templates","Community support","Basic AI tools access"],limits:{ideas:1,prompts:10,aiCalls:50,teamMembers:1,storage:"100MB"}},{id:"pro-monthly",name:"Pro",tier:"pro",price:29,currency:"USD",interval:"month",features:["Unlimited ideas","Unlimited AI prompts","Advanced templates","Priority support","MVP Studio access","Team collaboration (5 members)","Export capabilities","Advanced AI tools"],limits:{ideas:"unlimited",prompts:"unlimited",aiCalls:"unlimited",teamMembers:5,storage:"10GB"},popular:!0},{id:"pro-yearly",name:"Pro (Yearly)",tier:"pro",price:290,currency:"USD",interval:"year",features:["Everything in Pro Monthly","2 months free","Priority feature requests","Advanced analytics"],limits:{ideas:"unlimited",prompts:"unlimited",aiCalls:"unlimited",teamMembers:5,storage:"10GB"}},{id:"enterprise",name:"Enterprise",tier:"enterprise",price:99,currency:"USD",interval:"month",features:["Everything in Pro","Unlimited team members","Custom AI training","Dedicated support","Advanced analytics","Custom integrations","SSO support","API access"],limits:{ideas:"unlimited",prompts:"unlimited",aiCalls:"unlimited",teamMembers:"unlimited",storage:"100GB"}}];const s=class{static async getUserSubscription(e){try{const{data:t,error:r}=await a.ND.from("user_subscriptions").select("*").eq("user_id",e).single();return r&&"PGRST116"!==r.code?(console.error("Error fetching user subscription:",r),null):t}catch(t){return console.error("Error in getUserSubscription:",t),null}}static async getUserUsage(e){try{const{data:t,error:r}=await a.ND.from("user_usage_stats").select("*").eq("user_id",e).single();return r&&"PGRST116"!==r.code?(console.error("Error fetching user usage:",r),null):t}catch(t){return console.error("Error in getUserUsage:",t),null}}static async canPerformAction(e,t){try{const r=await this.getUserSubscription(e),a=await this.getUserUsage(e);if(!r)return this.checkFreeTierLimits(a,t);const s=i.find(e=>e.id===r.planId);if(!s)return{allowed:!1,reason:"Invalid subscription plan"};if("active"!==r.status&&"trial"!==r.status)return{allowed:!1,reason:"Subscription is not active",upgradeRequired:!0};if("trial"===r.status&&r.trialEndsAt){if(new Date(r.trialEndsAt)<new Date)return{allowed:!1,reason:"Trial has expired",upgradeRequired:!0}}return this.checkPlanLimits(s,a,t)}catch(r){return console.error("Error in canPerformAction:",r),{allowed:!1,reason:"Error checking permissions"}}}static checkFreeTierLimits(e,t){const r=i.find(e=>"free"===e.tier);return this.checkPlanLimits(r,e,t)}static checkPlanLimits(e,t,r){if(!t)return{allowed:!0};switch(r){case"create_idea":return"unlimited"===e.limits.ideas?{allowed:!0}:t.ideasCreated>=e.limits.ideas?{allowed:!1,reason:"You've reached your limit of ".concat(e.limits.ideas," ideas"),upgradeRequired:!0}:{allowed:!0};case"generate_prompt":return"unlimited"===e.limits.prompts?{allowed:!0}:t.promptsGenerated>=e.limits.prompts?{allowed:!1,reason:"You've reached your limit of ".concat(e.limits.prompts," prompts this month"),upgradeRequired:!0}:{allowed:!0};case"make_ai_call":return"unlimited"===e.limits.aiCalls?{allowed:!0}:t.aiCallsMade>=e.limits.aiCalls?{allowed:!1,reason:"You've reached your limit of ".concat(e.limits.aiCalls," AI calls this month"),upgradeRequired:!0}:{allowed:!0};default:return{allowed:!0}}}static async trackUsage(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{const{error:i}=await a.ND.rpc("increment_user_usage",{user_id:e,action_type:t,increment_amount:r});return!i||(console.error("Error tracking usage:",i),!1)}catch(i){return console.error("Error in trackUsage:",i),!1}}static async updateSubscription(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"active";try{const s=i.find(e=>e.id===t);if(!s)return console.error("Invalid plan ID:",t),!1;const n=new Date,o=new Date(n);"month"===s.interval?o.setMonth(o.getMonth()+1):o.setFullYear(o.getFullYear()+1);const l={user_id:e,plan_id:t,tier:s.tier,status:r,current_period_start:n.toISOString(),current_period_end:o.toISOString(),cancel_at_period_end:!1,updated_at:n.toISOString()},{error:c}=await a.ND.from("user_subscriptions").upsert(l,{onConflict:"user_id"});return!c||(console.error("Error updating subscription:",c),!1)}catch(s){return console.error("Error in updateSubscription:",s),!1}}static async startFreeTrial(e){try{const t=new Date,r=new Date(t);r.setDate(r.getDate()+7);const i={user_id:e,plan_id:"pro-monthly",tier:"pro",status:"trial",current_period_start:t.toISOString(),current_period_end:r.toISOString(),trial_ends_at:r.toISOString(),cancel_at_period_end:!1,updated_at:t.toISOString()},{error:s}=await a.ND.from("user_subscriptions").upsert(i,{onConflict:"user_id"});return!s||(console.error("Error starting trial:",s),!1)}catch(t){return console.error("Error in startFreeTrial:",t),!1}}static async cancelSubscription(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const r=t?{status:"cancelled",updated_at:(new Date).toISOString()}:{cancel_at_period_end:!0,updated_at:(new Date).toISOString()},{error:i}=await a.ND.from("user_subscriptions").update(r).eq("user_id",e);return!i||(console.error("Error cancelling subscription:",i),!1)}catch(r){return console.error("Error in cancelSubscription:",r),!1}}static getPlan(e){return i.find(t=>t.id===e)||null}static getAllPlans(){return i}static getPlansByTier(e){return i.filter(t=>t.tier===e)}static async isOnTrial(e){const t=await this.getUserSubscription(e);if(!t)return!1;if("trial"!==t.status)return!1;if(t.trialEndsAt){return new Date(t.trialEndsAt)>new Date}return!1}static async getTrialDaysRemaining(e){const t=await this.getUserSubscription(e);if(!t||"trial"!==t.status||!t.trialEndsAt)return 0;const r=new Date(t.trialEndsAt),a=new Date,i=r.getTime()-a.getTime(),s=Math.ceil(i/864e5);return Math.max(0,s)}}},72629:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(77784).A)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},85148:(e,t,r)=>{r.d(t,{R:()=>_,A:()=>j});var a=r(65043),i=r(35475),s=r(73216),n=r(34379),o=r(61161),l=r(23165),c=r(72105),d=r(56382),u=r(41680),p=r(7118),m=r(39292),h=r(42489),g=r(84669),b=r(42983),y=r(69772),v=r(8567),x=r(66631),f=r(47631),w=r(15074),A=r(70579);function k(e){let{className:t,variant:r="default",size:a="sm",text:i="BETA",pulse:s=!1}=e;return(0,A.jsx)(v.E,{variant:r,className:(0,w.cn)("font-semibold tracking-wide","sm"===a&&"text-xs px-1.5 py-0.5","default"===a&&"text-sm px-2 py-1","lg"===a&&"text-base px-3 py-1.5",s&&"animate-pulse","default"===r&&"bg-blue-600/20 text-blue-300 border-blue-600/40 hover:bg-blue-600/30","secondary"===r&&"bg-yellow-600/20 text-yellow-300 border-yellow-600/40 hover:bg-yellow-600/30","outline"===r&&"bg-green-600/20 text-green-300 border-green-600/40 hover:bg-green-600/30","destructive"===r&&"bg-red-600/20 text-red-300 border-red-600/40 hover:bg-red-600/30",t),children:i})}const S=e=>{let{icon:t,label:r,path:a,isActive:s,onClick:n,isBeta:o,betaVariant:l="default"}=e;return(0,A.jsxs)(i.N_,{to:a,onClick:n,className:"flex items-center gap-3 w-full px-3 py-2 rounded-md text-sm transition-all duration-200 ".concat(s?"bg-green-600/20 text-green-400 border-l-2 border-green-400":"text-gray-400 hover:bg-black/30 hover:text-white hover:border-l-2 hover:border-green-500/50"),children:[(0,A.jsx)(t,{className:"h-5 w-5"}),(0,A.jsx)("span",{className:"flex-1",children:r}),o&&(0,A.jsx)(k,{variant:l,size:"sm",className:"ml-auto"})]})},_=e=>{let{onClick:t,className:r}=e;return(0,A.jsxs)(y.$,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white hover:bg-black/30 ".concat(r),onClick:t,children:[(0,A.jsx)(b.A,{className:"h-5 w-5"}),(0,A.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})},j=e=>{let{isOpen:t=!1,setIsOpen:r=()=>{}}=e;const i=(0,s.zy)(),b=i.pathname,{isAdmin:y}=(0,f.z8)(),w=()=>{r&&r(!1)};(0,a.useEffect)(()=>{r&&r(!1)},[i.pathname,r]);const k=[{id:"dashboard",name:"Dashboard",icon:n.A,path:"/workspace"},{id:"idea-vault",name:"Idea Vault",icon:o.A,path:"/workspace/idea-vault"},{id:"ideaforge",name:"IdeaForge",icon:l.A,path:"/workspace/ideaforge",isBeta:!0,betaVariant:"secondary"},{id:"mvp-studio",name:"MVP Studio",icon:c.A,path:"/workspace/mvp-studio"},{id:"ai-tools",name:"AI Tools Hub",icon:d.A,path:"/workspace/ai-tools"},{id:"docs-decks",name:"Docs & Decks",icon:u.A,path:"/workspace/docs-decks"},{id:"teamspace",name:"TeamSpace",icon:p.A,path:"/workspace/teamspace",isBeta:!0,betaVariant:"secondary"},{id:"investor-radar",name:"Investor Radar",icon:m.A,path:"/workspace/investor-radar",isBeta:!0,betaVariant:"secondary"}],_=(0,A.jsxs)("div",{className:"h-full flex flex-col workspace-sidebar",children:[(0,A.jsx)("div",{className:"p-4 flex items-center border-b border-white/10",children:(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("div",{className:"rounded-full bg-gradient-to-br from-green-500 to-green-600 w-8 h-8 flex items-center justify-center",children:(0,A.jsx)("span",{className:"font-bold text-white text-sm",children:"SW"})}),(0,A.jsx)("div",{className:"flex flex-col gap-1",children:(0,A.jsxs)("div",{className:"flex items-center gap-2",children:[(0,A.jsx)("span",{className:"font-bold text-lg text-white",children:"StartWise"}),(0,A.jsx)(v.E,{variant:"secondary",className:"bg-blue-600/20 text-blue-300 border-blue-600/40 text-xs font-semibold",children:"BETA"})]})})]})}),(0,A.jsx)("div",{className:"px-2 py-4 flex-1 overflow-y-auto",children:(0,A.jsxs)("nav",{className:"space-y-1",children:[k.map(e=>(0,A.jsx)(S,{icon:e.icon,label:e.name,path:e.path,onClick:w,isBeta:e.isBeta,betaVariant:e.betaVariant,isActive:"/workspace"===e.path?"/workspace"===b:b.startsWith(e.path)},e.id)),y&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:"my-4 border-t border-white/10"}),(0,A.jsx)(S,{icon:h.A,label:"Admin Panel",path:"/admin",onClick:w,isActive:b.startsWith("/admin")})]})]})}),(0,A.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,A.jsxs)("div",{className:"workspace-card p-4",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,A.jsx)("div",{className:"p-1.5 bg-green-500/20 rounded",children:(0,A.jsx)(g.A,{className:"h-4 w-4 text-green-400"})}),(0,A.jsx)("h4",{className:"text-sm font-medium text-white",children:"Founder's GPT"})]}),(0,A.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:"Get advice on your startup journey from your AI co-founder"}),(0,A.jsx)("button",{className:"w-full bg-black/50 hover:bg-black/70 px-3 py-2 rounded text-xs text-left text-gray-300 hover:text-white transition-colors border border-white/10",children:"Ask Founder's GPT..."})]})})]});return(0,A.jsx)(x.cj,{open:t,onOpenChange:r||(()=>{}),children:(0,A.jsx)(x.h,{side:"left",className:"w-64 bg-black/95 backdrop-blur-xl border-r border-white/10 p-0 text-white",children:_})})}}}]);
//# sourceMappingURL=7904.43ff8cbc.chunk.js.map