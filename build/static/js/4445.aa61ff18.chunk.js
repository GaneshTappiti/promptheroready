"use strict";(self.webpackChunkpromptheroready=self.webpackChunkpromptheroready||[]).push([[4445],{54445:(e,s,a)=>{a.r(s),a.d(s,{default:()=>W});var i=a(89379),t=a(9950),r=a(38493),l=a(16255),c=a(73281),n=a(60348),d=a(22869),o=a(41591),m=a(28429),x=a(68108),h=a(89318),p=a(22796),u=a(61041),v=a(81064),j=a(59469),y=a(25692),g=a(45536),N=a(76564),b=a(14697),f=a(27711),w=a(21273),k=a(86311),A=a(96479),P=a(15924),C=a(42989),I=a(81946),S=a(51654),F=a(7838),T=a(66987),$=a(81830),K=a(31641),E=a(8503),R=a(91367),Z=a(44414);const G=[{id:"openai",name:"OpenAI",description:"GPT-4, GPT-3.5, and other OpenAI models",website:"https://platform.openai.com/api-keys",keyFormat:"sk-...",icon:(0,Z.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded"}),pricing:{type:"paid",description:"Pay-per-use, $0.03/1K tokens for GPT-4"}},{id:"claude",name:"Anthropic Claude",description:"Claude 3.5 Sonnet and other Anthropic models",website:"https://console.anthropic.com/account/keys",keyFormat:"sk-ant-...",icon:(0,Z.jsx)("div",{className:"w-6 h-6 bg-orange-500 rounded"}),pricing:{type:"paid",description:"Pay-per-use, competitive pricing"}},{id:"gemini",name:"Google Gemini",description:"Gemini Pro and Flash models",website:"https://aistudio.google.com/app/apikey",keyFormat:"AI...",icon:(0,Z.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded"}),pricing:{type:"freemium",description:"Free tier available, then pay-per-use"}},{id:"deepseek",name:"DeepSeek",description:"Cost-effective coding and reasoning models",website:"https://platform.deepseek.com/api_keys",keyFormat:"sk-...",icon:(0,Z.jsx)("div",{className:"w-6 h-6 bg-purple-500 rounded"}),pricing:{type:"paid",description:"Very cost-effective, $0.14/1M tokens"}}],U=e=>{let{className:s}=e;const{user:a}=(0,R.A)(),{toast:c}=(0,w.dj)(),[d,m]=(0,t.useState)({}),[x,h]=(0,t.useState)({}),[u,v]=(0,t.useState)({}),[j,y]=(0,t.useState)({}),[g,N]=(0,t.useState)(!0),U=(0,t.useCallback)(async()=>{if(null!==a&&void 0!==a&&a.id){N(!0);try{const e={},s={};for(const i of G){const t=await E.F.getUserPreferences(a.id);t&&t.provider===i.id?(e[i.id]="\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",s[i.id]="connected"===t.connectionStatus?"valid":"untested"):s[i.id]="untested"}m(e),y(s)}catch(e){console.error("Error loading API keys:",e),c({title:"Error",description:"Failed to load API keys",variant:"destructive"})}finally{N(!1)}}},[null===a||void 0===a?void 0:a.id,c]);(0,t.useEffect)(()=>{U()},[a,U]);const z=async e=>{const s=d[e];if(s&&null!==a&&void 0!==a&&a.id){v(s=>(0,i.A)((0,i.A)({},s),{},{[e]:!0}));try{const r=await E.F.testConnection(a.id,{provider:e,apiKey:s,modelName:"default"});var t;if(r.success)y(s=>(0,i.A)((0,i.A)({},s),{},{[e]:"valid"})),c({title:"API Key Valid",description:"".concat(null===(t=G.find(s=>s.id===e))||void 0===t?void 0:t.name," connection successful")});else y(s=>(0,i.A)((0,i.A)({},s),{},{[e]:"invalid"})),c({title:"API Key Invalid",description:r.error||"Connection failed",variant:"destructive"})}catch(r){y(s=>(0,i.A)((0,i.A)({},s),{},{[e]:"invalid"})),c({title:"Test Failed",description:"Could not test API key",variant:"destructive"})}finally{v(s=>(0,i.A)((0,i.A)({},s),{},{[e]:!1}))}}},J=e=>{switch(e){case"valid":return(0,Z.jsx)(k.A,{className:"h-4 w-4 text-green-500"});case"invalid":return(0,Z.jsx)(A.A,{className:"h-4 w-4 text-red-500"});default:return(0,Z.jsx)(P.A,{className:"h-4 w-4 text-yellow-500"})}},W=e=>{switch(e){case"valid":return"Valid";case"invalid":return"Invalid";default:return"Not tested"}};return g?(0,Z.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,Z.jsx)(C.A,{className:"h-6 w-6 animate-spin text-gray-400"}),(0,Z.jsx)("span",{className:"ml-2 text-gray-400",children:"Loading API keys..."})]}):(0,Z.jsxs)("div",{className:"space-y-6 ".concat(s),children:[(0,Z.jsxs)("div",{className:"text-center",children:[(0,Z.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"API Key Management"}),(0,Z.jsx)("p",{className:"text-gray-400",children:"Securely manage your AI provider API keys. Keys are encrypted and stored safely."})]}),(0,Z.jsxs)(f.Fc,{className:"border-blue-600/20 bg-blue-600/10",children:[(0,Z.jsx)(I.A,{className:"h-4 w-4 text-blue-400"}),(0,Z.jsx)(f.TN,{className:"text-blue-200",children:"Your API keys are encrypted using industry-standard security practices. We never store your keys in plain text."})]}),(0,Z.jsx)("div",{className:"grid gap-6",children:G.map(e=>{var s,t,v,g;return(0,Z.jsxs)(l.Zp,{className:"bg-black/40 backdrop-blur-sm border-white/10",children:[(0,Z.jsx)(l.aR,{children:(0,Z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-3",children:[e.icon,(0,Z.jsxs)("div",{children:[(0,Z.jsx)(l.ZB,{className:"text-white",children:e.name}),(0,Z.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsx)(n.E,{variant:"free"===(null===(s=e.pricing)||void 0===s?void 0:s.type)?"default":"secondary",className:"free"===(null===(t=e.pricing)||void 0===t?void 0:t.type)?"bg-green-600/20 text-green-400":"freemium"===(null===(v=e.pricing)||void 0===v?void 0:v.type)?"bg-blue-600/20 text-blue-400":"bg-yellow-600/20 text-yellow-400",children:null===(g=e.pricing)||void 0===g?void 0:g.type}),(0,Z.jsxs)("div",{className:"flex items-center gap-1",children:[J(j[e.id]||"untested"),(0,Z.jsx)("span",{className:"text-sm text-gray-400",children:W(j[e.id]||"untested")})]})]})]})}),(0,Z.jsxs)(l.Wu,{className:"space-y-4",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(o.J,{htmlFor:"key-".concat(e.id),className:"text-gray-300",children:"API Key"}),(0,Z.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,Z.jsxs)("div",{className:"relative flex-1",children:[(0,Z.jsx)(b.p,{id:"key-".concat(e.id),type:x[e.id]?"text":"password",placeholder:"Enter your ".concat(e.name," API key (").concat(e.keyFormat,")"),value:d[e.id]||"",onChange:s=>{return a=e.id,t=s.target.value,m(e=>(0,i.A)((0,i.A)({},e),{},{[a]:t})),void y(e=>(0,i.A)((0,i.A)({},e),{},{[a]:"untested"}));var a,t},className:"bg-gray-900/50 border-gray-700 text-white pr-10"}),(0,Z.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>{return s=e.id,void h(e=>(0,i.A)((0,i.A)({},e),{},{[s]:!e[s]}));var s},children:x[e.id]?(0,Z.jsx)(S.A,{className:"h-4 w-4"}):(0,Z.jsx)(F.A,{className:"h-4 w-4"})})]}),(0,Z.jsxs)(r.$,{onClick:()=>z(e.id),disabled:!d[e.id]||u[e.id],variant:"outline",size:"sm",children:[u[e.id]?(0,Z.jsx)(C.A,{className:"h-4 w-4 animate-spin"}):(0,Z.jsx)(T.A,{className:"h-4 w-4"}),"Test"]}),(0,Z.jsxs)(r.$,{onClick:()=>(async e=>{const s=d[e];if(s&&null!==a&&void 0!==a&&a.id)try{var i;await E.F.saveUserPreferences(a.id,{provider:e,apiKey:s,modelName:"default"})?(c({title:"API Key Saved",description:"".concat(null===(i=G.find(s=>s.id===e))||void 0===i?void 0:i.name," API key saved securely")}),await z(e)):c({title:"Save Failed",description:"Could not save API key",variant:"destructive"})}catch(t){c({title:"Error",description:"Failed to save API key",variant:"destructive"})}})(e.id),disabled:!d[e.id],size:"sm",children:[(0,Z.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Save"]})]})]}),(0,Z.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Z.jsx)("div",{className:"text-gray-400",children:e.pricing.description}),(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsxs)(r.$,{variant:"link",size:"sm",className:"text-blue-400 hover:text-blue-300 p-0",onClick:()=>{return s=e.website,navigator.clipboard.writeText(s),void c({title:"Copied",description:"Website URL copied to clipboard"});var s},children:[(0,Z.jsx)($.A,{className:"h-3 w-3 mr-1"}),"Get API Key"]}),(0,Z.jsxs)(r.$,{variant:"link",size:"sm",className:"text-blue-400 hover:text-blue-300 p-0",onClick:()=>window.open(e.website,"_blank"),children:[(0,Z.jsx)(K.A,{className:"h-3 w-3 mr-1"}),"Open"]})]})]})]})]},e.id)})})]})};var z=a(73171),J=a(30446);const W=()=>{const[e,s]=(0,t.useState)(!1),a=(0,m.Zp)(),{toast:b}=(0,w.dj)(),{user:f}=(0,R.A)(),{currentPlan:k,subscription:A,isFreeTier:P,isOnTrial:C,trialDaysRemaining:I,startFreeTrial:S,cancelSubscription:F}=(0,J.R)(),[T,$]=(0,t.useState)({email:!0,push:!1,marketing:!1});return(0,Z.jsxs)("div",{className:"layout-container bg-gradient-to-br from-black via-gray-900 to-green-950",children:[(0,Z.jsx)(N.A,{isOpen:e,setIsOpen:s}),(0,Z.jsxs)("main",{className:"layout-main transition-all duration-300",children:[(0,Z.jsx)("div",{className:"sticky top-0 z-10 bg-black/80 backdrop-blur-xl border-b border-white/10",children:(0,Z.jsx)("div",{className:"px-6 py-4",children:(0,Z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Z.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Z.jsx)(N.R,{onClick:()=>s(!0)}),(0,Z.jsxs)(r.$,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",onClick:()=>a("/workspace"),children:[(0,Z.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Back to Workspace"]})]}),(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Z.jsx)(h.A,{className:"h-5 w-5 text-gray-400"}),(0,Z.jsx)("span",{className:"text-white font-medium",children:"Settings"})]})]})})}),(0,Z.jsx)("div",{className:"px-6 py-2 border-b border-white/10",children:(0,Z.jsx)(z.Ay,{})}),(0,Z.jsx)("div",{className:"px-6 py-8 max-w-6xl mx-auto",children:(0,Z.jsxs)(c.tU,{defaultValue:"api-keys",className:"space-y-6",children:[(0,Z.jsxs)(c.j7,{className:"grid w-full grid-cols-4 bg-gray-900/50",children:[(0,Z.jsxs)(c.Xi,{value:"api-keys",className:"flex items-center gap-2",children:[(0,Z.jsx)(p.A,{className:"h-4 w-4"}),"API Keys"]}),(0,Z.jsxs)(c.Xi,{value:"subscription",className:"flex items-center gap-2",children:[(0,Z.jsx)(u.A,{className:"h-4 w-4"}),"Subscription"]}),(0,Z.jsxs)(c.Xi,{value:"profile",className:"flex items-center gap-2",children:[(0,Z.jsx)(v.A,{className:"h-4 w-4"}),"Profile"]}),(0,Z.jsxs)(c.Xi,{value:"notifications",className:"flex items-center gap-2",children:[(0,Z.jsx)(j.A,{className:"h-4 w-4"}),"Notifications"]})]}),(0,Z.jsx)(c.av,{value:"api-keys",children:(0,Z.jsx)(U,{})}),(0,Z.jsx)(c.av,{value:"subscription",className:"space-y-6",children:(0,Z.jsxs)(l.Zp,{className:"bg-black/40 backdrop-blur-sm border-white/10",children:[(0,Z.jsx)(l.aR,{children:(0,Z.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,Z.jsx)(u.A,{className:"h-5 w-5"}),"Current Subscription"]})}),(0,Z.jsxs)(l.Wu,{className:"space-y-4",children:[(0,Z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h3",{className:"text-lg font-semibold text-white",children:(null===k||void 0===k?void 0:k.name)||"Free Plan"}),(0,Z.jsx)("p",{className:"text-gray-400",children:0===(null===k||void 0===k?void 0:k.price)?"No cost":"$".concat(null===k||void 0===k?void 0:k.price,"/").concat(null===k||void 0===k?void 0:k.interval)})]}),(0,Z.jsxs)("div",{className:"flex items-center gap-2",children:[C&&(0,Z.jsxs)(n.E,{className:"bg-blue-600/20 text-blue-400",children:["Trial - ",I," days left"]}),(0,Z.jsx)(n.E,{className:P?"bg-gray-600/20 text-gray-400":"bg-yellow-600/20 text-yellow-400",children:(null===k||void 0===k?void 0:k.tier)||"free"})]})]}),(null===k||void 0===k?void 0:k.features)&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h4",{className:"text-white font-medium mb-2",children:"Features"}),(0,Z.jsx)("ul",{className:"space-y-1",children:k.features.map((e,s)=>(0,Z.jsxs)("li",{className:"text-gray-300 text-sm flex items-center gap-2",children:[(0,Z.jsx)("div",{className:"w-1 h-1 bg-green-400 rounded-full"}),e]},s))})]}),(0,Z.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[P&&!C&&(0,Z.jsxs)(r.$,{onClick:async()=>{await S()&&b({title:"Trial Started!",description:"Your 7-day Pro trial has begun."})},className:"bg-blue-600 hover:bg-blue-700",children:[(0,Z.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Start Free Trial"]}),P&&(0,Z.jsxs)(r.$,{onClick:()=>b({title:"Upgrade",description:"Payment integration coming soon!"}),className:"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700",children:[(0,Z.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]}),!P&&A&&(0,Z.jsx)(r.$,{variant:"outline",onClick:async()=>{await F(!1)&&b({title:"Subscription Cancelled",description:"Your subscription will be cancelled at the end of the current period."})},className:"border-red-600 text-red-400 hover:bg-red-600/10",children:"Cancel Subscription"})]})]})]})}),(0,Z.jsx)(c.av,{value:"profile",className:"space-y-6",children:(0,Z.jsxs)(l.Zp,{className:"bg-black/40 backdrop-blur-sm border-white/10",children:[(0,Z.jsx)(l.aR,{children:(0,Z.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,Z.jsx)(v.A,{className:"h-5 w-5"}),"Profile Information"]})}),(0,Z.jsxs)(l.Wu,{className:"space-y-4",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(o.J,{className:"text-gray-300",children:"Email"}),(0,Z.jsx)("p",{className:"text-white mt-1",children:null===f||void 0===f?void 0:f.email})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(o.J,{className:"text-gray-300",children:"User ID"}),(0,Z.jsx)("p",{className:"text-gray-400 text-sm mt-1 font-mono",children:null===f||void 0===f?void 0:f.id})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(o.J,{className:"text-gray-300",children:"Account Created"}),(0,Z.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:null!==f&&void 0!==f&&f.created_at?new Date(f.created_at).toLocaleDateString():"Unknown"})]})]})]})}),(0,Z.jsx)(c.av,{value:"notifications",className:"space-y-6",children:(0,Z.jsxs)(l.Zp,{className:"bg-black/40 backdrop-blur-sm border-white/10",children:[(0,Z.jsx)(l.aR,{children:(0,Z.jsxs)(l.ZB,{className:"text-white flex items-center gap-2",children:[(0,Z.jsx)(j.A,{className:"h-5 w-5"}),"Notification Preferences"]})}),(0,Z.jsxs)(l.Wu,{className:"space-y-6",children:[(0,Z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(o.J,{className:"text-white",children:"Email Notifications"}),(0,Z.jsx)("p",{className:"text-gray-400 text-sm",children:"Receive updates about your account and features"})]}),(0,Z.jsx)(d.d,{checked:T.email,onCheckedChange:e=>$(s=>(0,i.A)((0,i.A)({},s),{},{email:e}))})]}),(0,Z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(o.J,{className:"text-white",children:"Push Notifications"}),(0,Z.jsx)("p",{className:"text-gray-400 text-sm",children:"Get notified about important updates"})]}),(0,Z.jsx)(d.d,{checked:T.push,onCheckedChange:e=>$(s=>(0,i.A)((0,i.A)({},s),{},{push:e}))})]}),(0,Z.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(o.J,{className:"text-white",children:"Marketing Communications"}),(0,Z.jsx)("p",{className:"text-gray-400 text-sm",children:"Receive tips, tutorials, and product updates"})]}),(0,Z.jsx)(d.d,{checked:T.marketing,onCheckedChange:e=>$(s=>(0,i.A)((0,i.A)({},s),{},{marketing:e}))})]}),(0,Z.jsx)(r.$,{className:"w-full mt-6",children:"Save Preferences"})]})]})})]})})]})]})}}}]);