"use strict";(self.webpackChunkpromptheroready=self.webpackChunkpromptheroready||[]).push([[1408],{11408:(e,s,a)=>{a.r(s),a.d(s,{default:()=>b});var r=a(9950),t=a(28429),l=a(91367),i=a(38493),n=a(14697),c=a(41591),d=a(73281),o=a(27711),m=a(88276),u=a(42989),h=a(27304),x=a(388),p=a(4084),g=a(1390),j=a(21273),v=a(41376),w=a(69999),N=a(44414);function b(){const[e,s]=(0,r.useState)(!0),[a,b]=(0,r.useState)(!1),[y,f]=(0,r.useState)(""),[k,P]=(0,r.useState)(""),[S,A]=(0,r.useState)(""),[C,E]=(0,r.useState)(""),[F,T]=(0,r.useState)(null),[$,q]=(0,r.useState)(null),[J,G]=(0,r.useState)(!1),[O,R]=(0,r.useState)(!1),{signIn:I,signUp:L,resetPassword:H,updatePassword:U,signInWithProvider:_}=(0,l.A)(),B=(0,t.Zp)(),D=(0,t.zy)(),{toast:W}=(0,j.dj)(),M="/auth/reset-password"===D.pathname;(0,r.useEffect)(()=>{T(null),q(null)},[e,a]);const V=async s=>{s.preventDefault(),T(null),q(null),G(!0);try{if(M){if(S!==C)return void T("Passwords do not match");if(S.length<6)return void T("Password must be at least 6 characters long");const{error:e}=await U(S);e?(T(e.message),W({title:"Error",description:e.message,variant:"destructive"})):(q("Password updated successfully!"),W({title:"Success",description:"Password updated successfully!"}),setTimeout(()=>B("/auth"),2e3))}else if(a){if(!y)return void T("Please enter your email address");if(!(0,v.B9)(y))return void T("Please enter a valid email address");const{error:e}=await H(y);e?(T(e.message),W({title:"Error",description:e.message,variant:"destructive"})):(q("Password reset instructions sent to your email!"),W({title:"Success",description:"Password reset instructions sent to your email!"}),setTimeout(()=>b(!1),3e3))}else{if(!y||!k)return void T("Please fill in all required fields");if(!(0,v.B9)(y))return void T("Please enter a valid email address");if(!e&&k.length<w.oO.PASSWORD_MIN_LENGTH)return void T("Password must be at least ".concat(w.oO.PASSWORD_MIN_LENGTH," characters long"));const{error:s}=e?await I(y,k):await L(y,k);s?(T(s.message),W({title:"Error",description:s.message,variant:"destructive"})):e?(W({title:"Success",description:"Signed in successfully!"}),B("/workspace")):(q("Please check your email to verify your account!"),W({title:"Success",description:"Please check your email to verify your account!"}))}}catch(r){const e=r instanceof Error?r.message:"An unexpected error occurred";T(e),W({title:"Error",description:e,variant:"destructive"})}finally{G(!1)}},X=async e=>{T(null),q(null),G(!0);try{const{error:s}=await _(e);s&&(T(s.message),W({title:"Error",description:s.message,variant:"destructive"}))}catch(s){const e=s instanceof Error?s.message:"An unexpected error occurred";T(e),W({title:"Error",description:e,variant:"destructive"})}finally{G(!1)}};return M?(0,N.jsx)("div",{className:"layout-container items-center justify-center bg-green-glass",children:(0,N.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 workspace-card m-auto",children:[(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Reset Password"}),(0,N.jsx)("p",{className:"text-gray-400",children:"Enter your new password"})]}),(0,N.jsxs)("form",{onSubmit:V,className:"space-y-6",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(c.J,{htmlFor:"new-password",children:"New Password"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,N.jsx)(n.p,{id:"new-password",type:"password",placeholder:"Enter your new password",value:S,onChange:e=>A(e.target.value),required:!0,className:"pl-10 bg-black/20 border-white/10"})]})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(c.J,{htmlFor:"confirm-password",children:"Confirm Password"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,N.jsx)(n.p,{id:"confirm-password",type:"password",placeholder:"Confirm your new password",value:C,onChange:e=>E(e.target.value),required:!0,className:"pl-10 bg-black/20 border-white/10"})]})]}),F&&(0,N.jsx)(o.Fc,{variant:"destructive",children:(0,N.jsx)(o.TN,{children:F})}),$&&(0,N.jsx)(o.Fc,{className:"bg-green-500/20 border-green-500/50",children:(0,N.jsx)(o.TN,{className:"text-green-400",children:$})}),(0,N.jsx)(i.$,{type:"submit",className:"w-full bg-green-600 hover:bg-green-500",disabled:J,children:J?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait..."]}):"Update Password"})]})]})}):(0,N.jsx)("div",{className:"layout-container items-center justify-center bg-green-glass",children:(0,N.jsxs)("div",{className:"w-full max-w-md space-y-8 workspace-card p-8 m-auto",children:[(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,N.jsx)(h.A,{className:"h-8 w-8 text-green-400"}),(0,N.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Pitch Perfect"})]}),(0,N.jsx)("p",{className:"text-gray-400",children:"Sign in to your account or create a new one"})]}),!a&&(0,N.jsxs)(d.tU,{defaultValue:"login",className:"w-full",onValueChange:e=>s("login"===e),children:[(0,N.jsxs)(d.j7,{className:"grid w-full grid-cols-2 mb-8",children:[(0,N.jsx)(d.Xi,{value:"login",children:"Login"}),(0,N.jsx)(d.Xi,{value:"signup",children:"Sign Up"})]}),(0,N.jsx)(d.av,{value:"login",children:(0,N.jsxs)("form",{onSubmit:V,className:"space-y-6",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(c.J,{htmlFor:"email",children:"Email"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,N.jsx)(n.p,{id:"email",type:"email",placeholder:"Enter your email",value:y,onChange:e=>f(e.target.value),required:!0,className:"pl-10 workspace-input"})]})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(c.J,{htmlFor:"password",children:"Password"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,N.jsx)(n.p,{id:"password",type:"password",placeholder:"Enter your password",value:k,onChange:e=>P(e.target.value),required:!0,className:"pl-10 workspace-input"})]})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(g.S,{id:"remember",checked:O,onCheckedChange:e=>R(e)}),(0,N.jsx)("label",{htmlFor:"remember",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-gray-400",children:"Remember me"})]}),(0,N.jsx)(i.$,{type:"button",variant:"link",className:"text-sm text-gray-400 hover:text-white",onClick:()=>{b(!0),T(null),q(null)},children:"Forgot your password?"}),F&&(0,N.jsx)(o.Fc,{variant:"destructive",children:(0,N.jsx)(o.TN,{children:F})}),$&&(0,N.jsx)(o.Fc,{className:"bg-green-500/20 border-green-500/50",children:(0,N.jsx)(o.TN,{className:"text-green-400",children:$})}),(0,N.jsx)(i.$,{type:"submit",className:"w-full workspace-button",disabled:J,children:J?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait..."]}):"Sign In"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,N.jsx)("span",{className:"w-full border-t border-white/10"})}),(0,N.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,N.jsx)("span",{className:"bg-black/20 px-2 text-gray-400",children:"Or continue with"})})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)(i.$,{type:"button",variant:"outline",className:"workspace-button-secondary",onClick:()=>X("github"),disabled:J,children:[(0,N.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"GitHub"]}),(0,N.jsxs)(i.$,{type:"button",variant:"outline",className:"workspace-button-secondary",onClick:()=>X("google"),disabled:J,children:[(0,N.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Google"]})]})]})}),(0,N.jsx)(d.av,{value:"signup",children:(0,N.jsxs)("form",{onSubmit:V,className:"space-y-6",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(c.J,{htmlFor:"signup-email",children:"Email"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,N.jsx)(n.p,{id:"signup-email",type:"email",placeholder:"Enter your email",value:y,onChange:e=>f(e.target.value),required:!0,className:"pl-10 bg-black/20 border-white/10"})]})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(c.J,{htmlFor:"signup-password",children:"Password"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,N.jsx)(n.p,{id:"signup-password",type:"password",placeholder:"Create a password",value:k,onChange:e=>P(e.target.value),required:!0,className:"pl-10 bg-black/20 border-white/10"})]})]}),F&&(0,N.jsx)(o.Fc,{variant:"destructive",children:(0,N.jsx)(o.TN,{children:F})}),$&&(0,N.jsx)(o.Fc,{className:"bg-green-500/20 border-green-500/50",children:(0,N.jsx)(o.TN,{className:"text-green-400",children:$})}),(0,N.jsx)(i.$,{type:"submit",className:"w-full bg-green-600 hover:bg-green-500",disabled:J,children:J?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait..."]}):"Create Account"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,N.jsx)("span",{className:"w-full border-t border-white/10"})}),(0,N.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,N.jsx)("span",{className:"bg-black/20 px-2 text-gray-400",children:"Or continue with"})})]}),(0,N.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,N.jsxs)(i.$,{type:"button",variant:"outline",className:"bg-black/20 border-white/10 hover:bg-black/30",onClick:()=>X("github"),disabled:J,children:[(0,N.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"GitHub"]}),(0,N.jsxs)(i.$,{type:"button",variant:"outline",className:"bg-black/20 border-white/10 hover:bg-black/30",onClick:()=>X("google"),disabled:J,children:[(0,N.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Google"]})]})]})})]}),a&&(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Reset Password"}),(0,N.jsx)("p",{className:"text-gray-400 text-sm",children:"Enter your email to receive reset instructions"})]}),(0,N.jsxs)("form",{onSubmit:V,className:"space-y-6",children:[(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)(c.J,{htmlFor:"reset-email",children:"Email"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,N.jsx)(n.p,{id:"reset-email",type:"email",placeholder:"Enter your email",value:y,onChange:e=>f(e.target.value),required:!0,className:"pl-10 workspace-input"})]})]}),F&&(0,N.jsx)(o.Fc,{variant:"destructive",children:(0,N.jsx)(o.TN,{children:F})}),$&&(0,N.jsx)(o.Fc,{className:"bg-green-500/20 border-green-500/50",children:(0,N.jsx)(o.TN,{className:"text-green-400",children:$})}),(0,N.jsxs)("div",{className:"flex gap-3",children:[(0,N.jsx)(i.$,{type:"button",variant:"outline",className:"flex-1 workspace-button-secondary",onClick:()=>{b(!1),T(null),q(null)},children:"Back to Login"}),(0,N.jsx)(i.$,{type:"submit",className:"flex-1 workspace-button",disabled:J,children:J?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]})]})]})]})})}}}]);