"use strict";(self.webpackChunkpromptheroready=self.webpackChunkpromptheroready||[]).push([[1883],{51883:(e,s,t)=>{t.r(s),t.d(s,{default:()=>A});var a=t(9950),r=t(16255),i=t(38493),n=t(60348),c=t(27711),o=t(91367),l=t(32180),d=t(21273),m=t(27549);async function u(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"admin";try{const{data:t,error:a}=await m.ND.from("admin_users").select("*").eq("user_id",e).single();if(a&&"PGRST116"!==a.code)throw a;if(t)return{success:!1,message:"User is already an admin",data:t};const{data:r,error:i}=await m.ND.from("admin_users").insert([{user_id:e,role:s,is_active:!0,created_by:e}]).select().single();if(i)throw i;return{success:!0,message:"Admin user created successfully with role: ".concat(s),data:r}}catch(t){return console.error("Error creating admin user:",t),{success:!1,message:"Failed to create admin user: ".concat(t.message)}}}async function p(e){try{const s=[{title:"Homepage UI Design",content:"Create a modern, responsive homepage design for a [APP_TYPE] application. Include:\n\n1. Hero section with compelling headline\n2. Feature highlights (3-4 key features)\n3. Social proof section\n4. Call-to-action buttons\n5. Navigation menu\n\nStyle: [UI_STYLE]\nTarget audience: [TARGET_AUDIENCE]\nBrand colors: [BRAND_COLORS]",category:"MVP Studio",tags:["ui","homepage","design","landing"],use_case:"Homepage design generation",output_type:"UI Layout",status:"published",created_by:e},{title:"Feature Breakdown Analysis",content:"Analyze the following startup idea and break it down into core features:\n\nIdea: [STARTUP_IDEA]\n\nProvide:\n1. Core features (must-have)\n2. Secondary features (nice-to-have)\n3. Advanced features (future roadmap)\n4. Technical requirements for each feature\n5. Estimated development complexity (1-5 scale)\n\nFormat the response as a structured list with priorities.",category:"IdeaForge",tags:["analysis","features","planning"],use_case:"Feature analysis and prioritization",output_type:"Feature List",status:"published",created_by:e},{title:"Tech Stack Recommendation",content:"Recommend a suitable tech stack for the following project:\n\nProject type: [PROJECT_TYPE]\nTeam size: [TEAM_SIZE]\nBudget: [BUDGET_RANGE]\nTimeline: [TIMELINE]\nKey requirements: [REQUIREMENTS]\n\nProvide recommendations for:\n1. Frontend framework\n2. Backend technology\n3. Database solution\n4. Hosting/deployment\n5. Third-party services\n\nInclude pros/cons and learning curve for each recommendation.",category:"MVP Studio",tags:["tech-stack","recommendations","development"],use_case:"Technology stack selection",output_type:"Tech Stack",status:"published",created_by:e}],{data:t,error:a}=await m.ND.from("prompt_templates").insert(s).select();if(a)throw a;return{success:!0,message:"Created ".concat(t.length," demo prompt templates"),data:t}}catch(s){return console.error("Error creating demo templates:",s),{success:!1,message:"Failed to create demo templates: ".concat(s.message)}}}async function h(e){try{const s=[{name:"ChatGPT",description:"Advanced AI chatbot for conversations, content creation, and problem-solving",category:"Chatbots",url:"https://chat.openai.com",pricing_model:"freemium",pricing_inr:"Free tier available, \u20b91,600/month for Plus",is_recommended:!0,supported_platforms:["Web","Mobile","API"],input_types:["Text","Image"],tags:["ai","chatbot","content","coding"],created_by:e},{name:"Framer",description:"Design and publish websites with AI-powered design tools",category:"UI/UX Design",url:"https://framer.com",pricing_model:"freemium",pricing_inr:"Free tier, \u20b91,200/month for Pro",is_recommended:!0,supported_platforms:["Web","Desktop"],input_types:["Text","Image","File Upload"],tags:["design","website","prototyping","ai"],created_by:e},{name:"Cursor",description:"AI-powered code editor built for productivity",category:"Development IDEs",url:"https://cursor.sh",pricing_model:"freemium",pricing_inr:"Free tier, \u20b91,600/month for Pro",is_recommended:!0,supported_platforms:["Desktop"],input_types:["Code","Text"],tags:["coding","ide","ai","productivity"],created_by:e},{name:"Supabase",description:"Open source Firebase alternative with real-time database and auth",category:"Backend Services",url:"https://supabase.com",pricing_model:"freemium",pricing_inr:"Free tier, \u20b92,000/month for Pro",is_recommended:!0,supported_platforms:["Web","API","CLI"],input_types:["Code","Text"],tags:["database","backend","auth","realtime"],created_by:e}],{data:t,error:a}=await m.ND.from("ai_tools_directory").insert(s).select();if(a)throw a;return{success:!0,message:"Created ".concat(t.length," demo AI tools"),data:t}}catch(s){return console.error("Error creating demo tools:",s),{success:!1,message:"Failed to create demo tools: ".concat(s.message)}}}async function g(e){try{const s=[{key:"max_api_requests_per_hour",value:1e3,description:"Maximum API requests allowed per hour per user",category:"api",is_public:!1,updated_by:e},{key:"enable_user_registration",value:!0,description:"Allow new users to register for accounts",category:"security",is_public:!0,updated_by:e},{key:"maintenance_mode",value:!1,description:"Enable maintenance mode to restrict access",category:"general",is_public:!0,updated_by:e},{key:"max_ideas_per_free_user",value:5,description:"Maximum number of ideas a free user can create",category:"features",is_public:!1,updated_by:e},{key:"enable_ai_tools_hub",value:!0,description:"Enable the AI Tools Hub feature for all users",category:"features",is_public:!1,updated_by:e}],{data:t,error:a}=await m.ND.from("platform_settings").insert(s).select();if(a)throw a;return{success:!0,message:"Created ".concat(t.length," demo platform settings"),data:t}}catch(s){return console.error("Error creating demo settings:",s),{success:!1,message:"Failed to create demo settings: ".concat(s.message)}}}var x=t(83728),y=t(81064),b=t(81946),f=t(15924),w=t(42989),_=t(53270),j=t(89318),N=t(45833),v=t(44414);const A=()=>{const{user:e}=(0,o.A)(),{isAdmin:s,adminUser:t,refreshAdminStatus:m}=(0,l.z8)(),{toast:A}=(0,d.dj)(),[E,k]=(0,a.useState)(!1),[S,T]=(0,a.useState)([]),I=async s=>{if(e)try{k(!0),T([]);const t=await async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"super_admin";const t=[],a=await u(e,s);if(t.push(a),!a.success)return t;const[r,i,n]=await Promise.all([p(e),h(e),g(e)]);return t.push(r,i,n),t}(e.id,s);T(t);const a=t.filter(e=>e.success).length,r=t.length;a===r?(A({title:"Success",description:"Admin setup completed successfully! You now have ".concat(s," access.")}),await m()):A({title:"Partial Success",description:"".concat(a,"/").concat(r," setup steps completed. Check results below."),variant:"destructive"})}catch(t){console.error("Error setting up admin:",t),A({title:"Error",description:"Failed to set up admin access",variant:"destructive"})}finally{k(!1)}else A({title:"Error",description:"You must be logged in to set up admin access",variant:"destructive"})},C=async s=>{if(e)try{k(!0);const t=await u(e.id,s);T([t]),t.success?(A({title:"Success",description:"Admin user created successfully with ".concat(s," role!")}),await m()):A({title:"Error",description:t.message,variant:"destructive"})}catch(t){console.error("Error creating admin user:",t),A({title:"Error",description:"Failed to create admin user",variant:"destructive"})}finally{k(!1)}else A({title:"Error",description:"You must be logged in to set up admin access",variant:"destructive"})};return e?(0,v.jsxs)("div",{className:"space-y-6",children:[(0,v.jsx)(x.A,{}),(0,v.jsxs)(r.Zp,{className:"workspace-card",children:[(0,v.jsx)(r.aR,{children:(0,v.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,v.jsx)(b.A,{className:"h-5 w-5 text-green-400"}),"Admin Setup Demo"]})}),(0,v.jsxs)(r.Wu,{className:"space-y-4",children:[(0,v.jsxs)(c.Fc,{className:"border-blue-600/20 bg-blue-600/10",children:[(0,v.jsx)(f.A,{className:"h-4 w-4 text-blue-400"}),(0,v.jsxs)(c.TN,{className:"text-blue-200",children:[(0,v.jsx)("strong",{children:"Demo Setup:"})," This will create admin access for your current user account and populate the admin panel with sample data for testing purposes."]})]}),(0,v.jsxs)("div",{className:"space-y-3",children:[(0,v.jsxs)("div",{className:"flex items-center justify-between p-3 bg-black/20 rounded-lg border border-white/10",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"text-white font-medium",children:"Current User"}),(0,v.jsx)("p",{className:"text-gray-400 text-sm",children:e.email}),s&&(0,v.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,v.jsxs)(n.E,{variant:"outline",className:"border-green-500/30 bg-green-500/10 text-green-400",children:[(0,v.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"super_admin"===(null===t||void 0===t?void 0:t.role)?"Super Admin":"Admin"]})})]}),(0,v.jsxs)(n.E,{variant:"outline",className:"border-white/20 text-gray-300",children:["User ID: ",e.id.slice(0,8),"..."]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("h4",{className:"text-white font-medium",children:"Admin Role"}),(0,v.jsx)("p",{className:"text-gray-400 text-sm",children:"Can manage prompt templates and AI tools directory"}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsxs)(i.$,{onClick:()=>C("admin"),disabled:E,variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[E?(0,v.jsx)(w.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,v.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Create Admin User Only"]}),(0,v.jsxs)(i.$,{onClick:()=>I("admin"),disabled:E,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[E?(0,v.jsx)(w.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,v.jsx)(_.A,{className:"mr-2 h-4 w-4"}),"Setup Admin + Demo Data"]})]})]}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsx)("h4",{className:"text-white font-medium",children:"Super Admin Role"}),(0,v.jsx)("p",{className:"text-gray-400 text-sm",children:"Full access including user analytics, settings, and role management"}),(0,v.jsxs)("div",{className:"space-y-2",children:[(0,v.jsxs)(i.$,{onClick:()=>C("super_admin"),disabled:E,variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[E?(0,v.jsx)(w.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,v.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Create Super Admin Only"]}),(0,v.jsxs)(i.$,{onClick:()=>I("super_admin"),disabled:E,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[E?(0,v.jsx)(w.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,v.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Setup Super Admin + Demo Data"]})]})]})]})]})]})]}),S.length>0&&(0,v.jsxs)(r.Zp,{className:"workspace-card",children:[(0,v.jsx)(r.aR,{children:(0,v.jsx)(r.ZB,{className:"text-white",children:"Setup Results"})}),(0,v.jsx)(r.Wu,{className:"space-y-3",children:S.map((e,s)=>(0,v.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg border ".concat(e.success?"bg-green-600/10 border-green-600/20":"bg-red-600/10 border-red-600/20"),children:[e.success?(0,v.jsx)(N.A,{className:"h-5 w-5 text-green-400"}):(0,v.jsx)(f.A,{className:"h-5 w-5 text-red-400"}),(0,v.jsxs)("div",{className:"flex-1",children:[(0,v.jsx)("p",{className:"font-medium ".concat(e.success?"text-green-300":"text-red-300"),children:e.success?"Success":"Error"}),(0,v.jsx)("p",{className:"text-gray-400 text-sm",children:e.message})]})]},s))})]}),(0,v.jsxs)(r.Zp,{className:"workspace-card",children:[(0,v.jsx)(r.aR,{children:(0,v.jsx)(r.ZB,{className:"text-white",children:"Next Steps"})}),(0,v.jsx)(r.Wu,{children:(0,v.jsxs)("div",{className:"space-y-2 text-gray-300",children:[(0,v.jsx)("p",{children:'1. After setup, refresh the page to see the "Admin Panel" link in the sidebar'}),(0,v.jsxs)("p",{children:["2. Navigate to ",(0,v.jsx)("code",{className:"bg-black/30 px-2 py-1 rounded text-green-400",children:"/admin"})," to access the admin dashboard"]}),(0,v.jsx)("p",{children:"3. Explore the different admin sections based on your role permissions"}),(0,v.jsx)("p",{children:"4. The demo data includes sample prompt templates, AI tools, and platform settings"})]})})]})]}):(0,v.jsx)(r.Zp,{className:"workspace-card",children:(0,v.jsxs)(r.Wu,{className:"p-8 text-center",children:[(0,v.jsx)(y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,v.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Authentication Required"}),(0,v.jsx)("p",{className:"text-gray-400",children:"Please sign in to set up admin access."})]})})}}}]);