/*! For license information please see 4424.2bb86f2e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpromptheroready=self.webpackChunkpromptheroready||[]).push([[4424],{9855:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},26533:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},39292:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},41680:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},71360:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},72313:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},84424:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var a=s(89379),l=s(65043),r=s(6742),c=s(8567),i=s(69772),d=s(49954),n=s(47810),h=s(22822),o=s(75990),x=s(70492),p=s(47631),u=s(41736),m=s(51704),g=s(50516),j=s(71360),b=s(88693),v=s(39292),y=s(41680),w=s(72313),N=s(26533),f=s(9855),k=s(70579);const C=["MVP Studio","IdeaForge","AI Tools Hub","General","Marketing","Technical","Business"],A=["UI Layout","Journey Map","Tech Stack","Feature List","Business Plan","Marketing Copy","Code Snippet","Analysis"],_=()=>{const{adminUser:e,checkPermission:t}=(0,p.z8)(),{toast:s}=(0,m.dj)(),[_,S]=(0,l.useState)([]),[T,M]=(0,l.useState)(!0),[F,E]=(0,l.useState)(""),[P,q]=(0,l.useState)("all"),[J,V]=(0,l.useState)("all"),[z,D]=(0,l.useState)(!1),[L,H]=(0,l.useState)(null),[$,O]=(0,l.useState)({title:"",content:"",category:"",tags:"",use_case:"",output_type:"",status:"draft"});(0,l.useEffect)(()=>{U()},[]);const U=async()=>{try{M(!0);const{data:e,error:t}=await u.ND.from("prompt_templates").select("*").order("updated_at",{ascending:!1});if(t)throw t;S(e||[])}catch(e){console.error("Error fetching templates:",e),s({title:"Error",description:"Failed to fetch prompt templates",variant:"destructive"})}finally{M(!1)}},Z=()=>{O({title:"",content:"",category:"",tags:"",use_case:"",output_type:"",status:"draft"})},B=_.filter(e=>{const t=e.title.toLowerCase().includes(F.toLowerCase())||e.content.toLowerCase().includes(F.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(F.toLowerCase())),s="all"===P||e.category===P,a="all"===J||e.status===J;return t&&s&&a}),I=e=>{switch(e){case"published":return(0,k.jsx)(c.E,{className:"bg-green-600/20 text-green-400 border-green-500/30",children:"Published"});case"draft":return(0,k.jsx)(c.E,{className:"bg-yellow-600/20 text-yellow-400 border-yellow-500/30",children:"Draft"});case"archived":return(0,k.jsx)(c.E,{className:"bg-gray-600/20 text-gray-400 border-gray-500/30",children:"Archived"});default:return(0,k.jsx)(c.E,{variant:"secondary",children:e})}};return T?(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Prompt Templates"}),(0,k.jsx)("div",{className:"animate-pulse h-8 w-32 bg-white/10 rounded"})]}),(0,k.jsx)("div",{className:"grid gap-6",children:[...Array(3)].map((e,t)=>(0,k.jsx)(r.Zp,{className:"workspace-card animate-pulse",children:(0,k.jsx)(r.Wu,{className:"p-6",children:(0,k.jsx)("div",{className:"h-24 bg-white/10 rounded"})})},t))})]}):(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"flex items-center justify-between",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Prompt Templates"}),(0,k.jsx)("p",{className:"text-gray-400 mt-1",children:"Manage system-wide prompt templates for all modules"})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsxs)(i.$,{onClick:U,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[(0,k.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,k.jsxs)(x.lG,{open:z,onOpenChange:D,children:[(0,k.jsx)(x.zM,{asChild:!0,children:(0,k.jsxs)(i.$,{className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,k.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Create Template"]})}),(0,k.jsxs)(x.Cf,{className:"max-w-2xl bg-black/90 backdrop-blur-xl border-white/10 text-white",children:[(0,k.jsx)(x.c7,{children:(0,k.jsx)(x.L3,{children:"Create New Prompt Template"})}),(0,k.jsxs)("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"title",children:"Title"}),(0,k.jsx)(d.p,{id:"title",value:$.title,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{title:e.target.value})),className:"bg-black/20 border-white/20 text-white",placeholder:"Enter template title"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"category",children:"Category"}),(0,k.jsxs)(o.l6,{value:$.category,onValueChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{category:e})),children:[(0,k.jsx)(o.bq,{className:"bg-black/20 border-white/20 text-white",children:(0,k.jsx)(o.yv,{placeholder:"Select category"})}),(0,k.jsx)(o.gC,{className:"bg-black/90 border-white/20",children:C.map(e=>(0,k.jsx)(o.eb,{value:e,children:e},e))})]})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"content",children:"Template Content"}),(0,k.jsx)(n.T,{id:"content",value:$.content,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{content:e.target.value})),className:"bg-black/20 border-white/20 text-white min-h-[200px]",placeholder:"Enter the prompt template content..."})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"use_case",children:"Use Case"}),(0,k.jsx)(d.p,{id:"use_case",value:$.use_case,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{use_case:e.target.value})),className:"bg-black/20 border-white/20 text-white",placeholder:"e.g., Homepage design"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"output_type",children:"Output Type"}),(0,k.jsxs)(o.l6,{value:$.output_type,onValueChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{output_type:e})),children:[(0,k.jsx)(o.bq,{className:"bg-black/20 border-white/20 text-white",children:(0,k.jsx)(o.yv,{placeholder:"Select output type"})}),(0,k.jsx)(o.gC,{className:"bg-black/90 border-white/20",children:A.map(e=>(0,k.jsx)(o.eb,{value:e,children:e},e))})]})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,k.jsx)(d.p,{id:"tags",value:$.tags,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{tags:e.target.value})),className:"bg-black/20 border-white/20 text-white",placeholder:"ui, design, homepage"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"status",children:"Status"}),(0,k.jsxs)(o.l6,{value:$.status,onValueChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{status:e})),children:[(0,k.jsx)(o.bq,{className:"bg-black/20 border-white/20 text-white",children:(0,k.jsx)(o.yv,{})}),(0,k.jsxs)(o.gC,{className:"bg-black/90 border-white/20",children:[(0,k.jsx)(o.eb,{value:"draft",children:"Draft"}),(0,k.jsx)(o.eb,{value:"published",children:"Published"}),(0,k.jsx)(o.eb,{value:"archived",children:"Archived"})]})]})]})]}),(0,k.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,k.jsx)(i.$,{variant:"outline",onClick:()=>{D(!1),Z()},className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),(0,k.jsxs)(i.$,{onClick:async()=>{try{const{data:t,error:a}=await u.ND.from("prompt_templates").insert([{title:$.title,content:$.content,category:$.category,tags:$.tags.split(",").map(e=>e.trim()).filter(Boolean),use_case:$.use_case,output_type:$.output_type,status:$.status,created_by:null===e||void 0===e?void 0:e.id}]).select().single();if(a)throw a;S(e=>[t,...e]),D(!1),Z(),s({title:"Success",description:"Prompt template created successfully"})}catch(t){console.error("Error creating template:",t),s({title:"Error",description:"Failed to create prompt template",variant:"destructive"})}},className:"bg-green-600 hover:bg-green-700 text-white",disabled:!$.title||!$.content||!$.category,children:[(0,k.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Create Template"]})]})]})]})]})]})]}),(0,k.jsx)(r.Zp,{className:"workspace-card",children:(0,k.jsx)(r.Wu,{className:"p-4",children:(0,k.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,k.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,k.jsxs)("div",{className:"relative",children:[(0,k.jsx)(v.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,k.jsx)(d.p,{placeholder:"Search templates...",value:F,onChange:e=>E(e.target.value),className:"pl-10 bg-black/20 border-white/20 text-white"})]})}),(0,k.jsxs)(o.l6,{value:P,onValueChange:q,children:[(0,k.jsx)(o.bq,{className:"w-[150px] bg-black/20 border-white/20 text-white",children:(0,k.jsx)(o.yv,{placeholder:"Category"})}),(0,k.jsxs)(o.gC,{className:"bg-black/90 border-white/20",children:[(0,k.jsx)(o.eb,{value:"all",children:"All Categories"}),C.map(e=>(0,k.jsx)(o.eb,{value:e,children:e},e))]})]}),(0,k.jsxs)(o.l6,{value:J,onValueChange:V,children:[(0,k.jsx)(o.bq,{className:"w-[120px] bg-black/20 border-white/20 text-white",children:(0,k.jsx)(o.yv,{placeholder:"Status"})}),(0,k.jsxs)(o.gC,{className:"bg-black/90 border-white/20",children:[(0,k.jsx)(o.eb,{value:"all",children:"All Status"}),(0,k.jsx)(o.eb,{value:"published",children:"Published"}),(0,k.jsx)(o.eb,{value:"draft",children:"Draft"}),(0,k.jsx)(o.eb,{value:"archived",children:"Archived"})]})]})]})})}),(0,k.jsx)("div",{className:"space-y-4",children:0===B.length?(0,k.jsx)(r.Zp,{className:"workspace-card",children:(0,k.jsxs)(r.Wu,{className:"p-8 text-center",children:[(0,k.jsx)(y.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,k.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No templates found"}),(0,k.jsx)("p",{className:"text-gray-400",children:F||"all"!==P||"all"!==J?"Try adjusting your search or filters":"Create your first prompt template to get started"})]})}):B.map(e=>(0,k.jsxs)(r.Zp,{className:"workspace-card",children:[(0,k.jsx)(r.aR,{children:(0,k.jsxs)("div",{className:"flex items-start justify-between",children:[(0,k.jsxs)("div",{className:"flex-1",children:[(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,k.jsx)(r.ZB,{className:"text-white",children:e.title}),I(e.status),(0,k.jsx)(c.E,{variant:"outline",className:"text-xs border-white/20 text-gray-300",children:e.category})]}),(0,k.jsx)("p",{className:"text-gray-400 text-sm",children:e.use_case}),(0,k.jsx)("div",{className:"flex items-center gap-2 mt-2",children:e.tags.map(e=>(0,k.jsx)(c.E,{variant:"secondary",className:"text-xs bg-white/10 text-gray-300",children:e},e))})]}),(0,k.jsxs)("div",{className:"flex items-center gap-2",children:[(0,k.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{O({title:"".concat(e.title," (Copy)"),content:e.content,category:e.category,tags:e.tags.join(", "),use_case:e.use_case,output_type:e.output_type,status:"draft"}),D(!0)})(e),className:"text-gray-400 hover:text-white hover:bg-white/10",children:(0,k.jsx)(w.A,{className:"h-4 w-4"})}),(0,k.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>(e=>{H(e),O({title:e.title,content:e.content,category:e.category,tags:e.tags.join(", "),use_case:e.use_case,output_type:e.output_type,status:e.status})})(e),className:"text-gray-400 hover:text-white hover:bg-white/10",children:(0,k.jsx)(N.A,{className:"h-4 w-4"})}),(0,k.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this template?"))try{const{error:t}=await u.ND.from("prompt_templates").delete().eq("id",e);if(t)throw t;S(t=>t.filter(t=>t.id!==e)),s({title:"Success",description:"Prompt template deleted successfully"})}catch(t){console.error("Error deleting template:",t),s({title:"Error",description:"Failed to delete prompt template",variant:"destructive"})}})(e.id),className:"text-gray-400 hover:text-red-400 hover:bg-red-500/10",children:(0,k.jsx)(f.A,{className:"h-4 w-4"})})]})]})}),(0,k.jsxs)(r.Wu,{children:[(0,k.jsx)("div",{className:"bg-black/20 rounded-lg p-4 border border-white/10",children:(0,k.jsx)("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:e.content.length>200?"".concat(e.content.substring(0,200),"..."):e.content})}),(0,k.jsxs)("div",{className:"flex items-center justify-between mt-4 text-xs text-gray-400",children:[(0,k.jsxs)("span",{children:["Output: ",e.output_type]}),(0,k.jsxs)("span",{children:["Updated: ",new Date(e.updated_at).toLocaleDateString()]})]})]})]},e.id))}),(0,k.jsx)(x.lG,{open:!!L,onOpenChange:e=>!e&&H(null),children:(0,k.jsxs)(x.Cf,{className:"max-w-2xl bg-black/90 backdrop-blur-xl border-white/10 text-white",children:[(0,k.jsx)(x.c7,{children:(0,k.jsx)(x.L3,{children:"Edit Prompt Template"})}),(0,k.jsxs)("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"edit-title",children:"Title"}),(0,k.jsx)(d.p,{id:"edit-title",value:$.title,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{title:e.target.value})),className:"bg-black/20 border-white/20 text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"edit-category",children:"Category"}),(0,k.jsxs)(o.l6,{value:$.category,onValueChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{category:e})),children:[(0,k.jsx)(o.bq,{className:"bg-black/20 border-white/20 text-white",children:(0,k.jsx)(o.yv,{})}),(0,k.jsx)(o.gC,{className:"bg-black/90 border-white/20",children:C.map(e=>(0,k.jsx)(o.eb,{value:e,children:e},e))})]})]})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"edit-content",children:"Template Content"}),(0,k.jsx)(n.T,{id:"edit-content",value:$.content,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{content:e.target.value})),className:"bg-black/20 border-white/20 text-white min-h-[200px]"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"edit-use_case",children:"Use Case"}),(0,k.jsx)(d.p,{id:"edit-use_case",value:$.use_case,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{use_case:e.target.value})),className:"bg-black/20 border-white/20 text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"edit-output_type",children:"Output Type"}),(0,k.jsxs)(o.l6,{value:$.output_type,onValueChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{output_type:e})),children:[(0,k.jsx)(o.bq,{className:"bg-black/20 border-white/20 text-white",children:(0,k.jsx)(o.yv,{})}),(0,k.jsx)(o.gC,{className:"bg-black/90 border-white/20",children:A.map(e=>(0,k.jsx)(o.eb,{value:e,children:e},e))})]})]})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"edit-tags",children:"Tags (comma-separated)"}),(0,k.jsx)(d.p,{id:"edit-tags",value:$.tags,onChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{tags:e.target.value})),className:"bg-black/20 border-white/20 text-white"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)(h.J,{htmlFor:"edit-status",children:"Status"}),(0,k.jsxs)(o.l6,{value:$.status,onValueChange:e=>O(t=>(0,a.A)((0,a.A)({},t),{},{status:e})),children:[(0,k.jsx)(o.bq,{className:"bg-black/20 border-white/20 text-white",children:(0,k.jsx)(o.yv,{})}),(0,k.jsxs)(o.gC,{className:"bg-black/90 border-white/20",children:[(0,k.jsx)(o.eb,{value:"draft",children:"Draft"}),(0,k.jsx)(o.eb,{value:"published",children:"Published"}),(0,k.jsx)(o.eb,{value:"archived",children:"Archived"})]})]})]})]}),(0,k.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,k.jsx)(i.$,{variant:"outline",onClick:()=>{H(null),Z()},className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),(0,k.jsxs)(i.$,{onClick:async()=>{if(L)try{const{data:e,error:t}=await u.ND.from("prompt_templates").update({title:$.title,content:$.content,category:$.category,tags:$.tags.split(",").map(e=>e.trim()).filter(Boolean),use_case:$.use_case,output_type:$.output_type,status:$.status,updated_at:(new Date).toISOString()}).eq("id",L.id).select().single();if(t)throw t;S(t=>t.map(t=>t.id===L.id?e:t)),H(null),Z(),s({title:"Success",description:"Prompt template updated successfully"})}catch(e){console.error("Error updating template:",e),s({title:"Error",description:"Failed to update prompt template",variant:"destructive"})}},className:"bg-green-600 hover:bg-green-700 text-white",disabled:!$.title||!$.content||!$.category,children:[(0,k.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Update Template"]})]})]})]})})]})}},88693:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])}}]);
//# sourceMappingURL=4424.2bb86f2e.chunk.js.map