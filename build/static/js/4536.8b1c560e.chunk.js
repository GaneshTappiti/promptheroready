/*! For license information please see 4536.8b1c560e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkpromptheroready=self.webpackChunkpromptheroready||[]).push([[4536],{7118:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},23165:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},27033:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},28646:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},34537:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},44919:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},46963:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},54536:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(89379),c=a(65043),r=a(6742),i=a(69772),l=a(68181),n=a(47631),d=a(41736),o=a(50516),x=a(7118),h=a(34537),m=a(28646),p=a(44919),y=a(23165),g=a(27033),j=a(55731),u=a(63172),v=a(46963),N=a(70579);const w=()=>{const{isSuperAdmin:e}=(0,n.z8)(),[s,a]=(0,c.useState)({totalUsers:0,activeUsers:{daily:0,weekly:0,monthly:0},newSignups:{today:0,thisWeek:0,thisMonth:0},conversionRates:{ideaToForge:0,forgeToMVP:0,freeToTrial:0,trialToPaid:0},usagePatterns:{avgSessionTime:0,avgIdeasPerUser:0,avgPromptsPerUser:0,mostUsedFeatures:[]},demographics:{countries:[],devices:[]}}),[w,f]=(0,c.useState)(!0);(0,c.useEffect)(()=>{e&&k()},[e]);const k=async()=>{try{f(!0);const{data:e,error:s}=await d.ND.from("user_settings").select("subscription_tier, created_at, settings").not("user_id","is",null);if(s)throw s;const c=(null===e||void 0===e?void 0:e.length)||0,r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),l=new Date(i.getTime()-6048e5),n=new Date(i.getTime()-2592e6),o={today:(null===e||void 0===e?void 0:e.filter(e=>new Date(e.created_at)>=i).length)||0,thisWeek:(null===e||void 0===e?void 0:e.filter(e=>new Date(e.created_at)>=l).length)||0,thisMonth:(null===e||void 0===e?void 0:e.filter(e=>new Date(e.created_at)>=n).length)||0},{count:x,error:h}=await d.ND.from("ideas").select("*",{count:"exact",head:!0}),{count:m,error:p}=await d.ND.from("prompt_history").select("*",{count:"exact",head:!0}),y=c>0?(x||0)/c:0,g=c>0?(m||0)/c:0,j={activeUsers:{daily:Math.floor(.15*c),weekly:Math.floor(.35*c),monthly:Math.floor(.65*c)},conversionRates:{ideaToForge:45.2,forgeToMVP:28.7,freeToTrial:12.3,trialToPaid:8.9},usagePatterns:{avgSessionTime:24.5,avgIdeasPerUser:Math.round(10*y)/10,avgPromptsPerUser:Math.round(10*g)/10,mostUsedFeatures:[{name:"IdeaForge",usage:78},{name:"MVP Studio",usage:65},{name:"AI Tools Hub",usage:52},{name:"Docs & Decks",usage:41},{name:"TeamSpace",usage:33}]},demographics:{countries:[{country:"India",users:Math.floor(.35*c)},{country:"United States",users:Math.floor(.25*c)},{country:"United Kingdom",users:Math.floor(.15*c)},{country:"Canada",users:Math.floor(.1*c)},{country:"Others",users:Math.floor(.15*c)}],devices:[{device:"Desktop",percentage:68},{device:"Mobile",percentage:25},{device:"Tablet",percentage:7}]}};a((0,t.A)({totalUsers:c,newSignups:o},j))}catch(e){console.error("Error fetching user analytics:",e)}finally{f(!1)}};return e?w?(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("h1",{className:"text-3xl font-bold text-white",children:"User Analytics"}),(0,N.jsx)("div",{className:"animate-pulse h-8 w-32 bg-white/10 rounded"})]}),(0,N.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[...Array(8)].map((e,s)=>(0,N.jsx)(r.Zp,{className:"workspace-card animate-pulse",children:(0,N.jsx)(r.Wu,{className:"p-6",children:(0,N.jsx)("div",{className:"h-16 bg-white/10 rounded"})})},s))})]}):(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h1",{className:"text-3xl font-bold text-white",children:"User Analytics"}),(0,N.jsx)("p",{className:"text-gray-400 mt-1",children:"Comprehensive user behavior and engagement metrics"})]}),(0,N.jsxs)(i.$,{onClick:k,variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:[(0,N.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),(0,N.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,N.jsxs)(r.Zp,{className:"workspace-card",children:[(0,N.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,N.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"Total Users"}),(0,N.jsx)(x.A,{className:"h-4 w-4 text-green-400"})]}),(0,N.jsxs)(r.Wu,{children:[(0,N.jsx)("div",{className:"text-2xl font-bold text-white",children:s.totalUsers.toLocaleString()}),(0,N.jsxs)("p",{className:"text-xs text-green-400",children:["+",s.newSignups.thisMonth," this month"]})]})]}),(0,N.jsxs)(r.Zp,{className:"workspace-card",children:[(0,N.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,N.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"Daily Active"}),(0,N.jsx)(h.A,{className:"h-4 w-4 text-green-400"})]}),(0,N.jsxs)(r.Wu,{children:[(0,N.jsx)("div",{className:"text-2xl font-bold text-white",children:s.activeUsers.daily.toLocaleString()}),(0,N.jsxs)("p",{className:"text-xs text-gray-400",children:[(s.activeUsers.daily/s.totalUsers*100).toFixed(1),"% of total"]})]})]}),(0,N.jsxs)(r.Zp,{className:"workspace-card",children:[(0,N.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,N.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"Weekly Active"}),(0,N.jsx)(m.A,{className:"h-4 w-4 text-green-400"})]}),(0,N.jsxs)(r.Wu,{children:[(0,N.jsx)("div",{className:"text-2xl font-bold text-white",children:s.activeUsers.weekly.toLocaleString()}),(0,N.jsxs)("p",{className:"text-xs text-gray-400",children:[(s.activeUsers.weekly/s.totalUsers*100).toFixed(1),"% of total"]})]})]}),(0,N.jsxs)(r.Zp,{className:"workspace-card",children:[(0,N.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,N.jsx)(r.ZB,{className:"text-sm font-medium text-gray-300",children:"Monthly Active"}),(0,N.jsx)(p.A,{className:"h-4 w-4 text-green-400"})]}),(0,N.jsxs)(r.Wu,{children:[(0,N.jsx)("div",{className:"text-2xl font-bold text-white",children:s.activeUsers.monthly.toLocaleString()}),(0,N.jsxs)("p",{className:"text-xs text-gray-400",children:[(s.activeUsers.monthly/s.totalUsers*100).toFixed(1),"% of total"]})]})]})]}),(0,N.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,N.jsxs)(r.Zp,{className:"workspace-card",children:[(0,N.jsx)(r.aR,{children:(0,N.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,N.jsx)(y.A,{className:"h-5 w-5 text-green-400"}),"Conversion Funnel"]})}),(0,N.jsxs)(r.Wu,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-gray-300",children:"Idea \u2192 IdeaForge"}),(0,N.jsxs)("span",{className:"text-white",children:[s.conversionRates.ideaToForge,"%"]})]}),(0,N.jsx)(l.k,{value:s.conversionRates.ideaToForge,className:"h-2"})]}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-gray-300",children:"IdeaForge \u2192 MVP Studio"}),(0,N.jsxs)("span",{className:"text-white",children:[s.conversionRates.forgeToMVP,"%"]})]}),(0,N.jsx)(l.k,{value:s.conversionRates.forgeToMVP,className:"h-2"})]}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-gray-300",children:"Free \u2192 Trial"}),(0,N.jsxs)("span",{className:"text-white",children:[s.conversionRates.freeToTrial,"%"]})]}),(0,N.jsx)(l.k,{value:s.conversionRates.freeToTrial,className:"h-2"})]}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-gray-300",children:"Trial \u2192 Paid"}),(0,N.jsxs)("span",{className:"text-white",children:[s.conversionRates.trialToPaid,"%"]})]}),(0,N.jsx)(l.k,{value:s.conversionRates.trialToPaid,className:"h-2"})]})]})]}),(0,N.jsxs)(r.Zp,{className:"workspace-card",children:[(0,N.jsx)(r.aR,{children:(0,N.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,N.jsx)(g.A,{className:"h-5 w-5 text-green-400"}),"Usage Patterns"]})}),(0,N.jsxs)(r.Wu,{className:"space-y-4",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-gray-300",children:"Avg Session Time"}),(0,N.jsxs)("span",{className:"text-white",children:[s.usagePatterns.avgSessionTime," min"]})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-gray-300",children:"Avg Ideas per User"}),(0,N.jsx)("span",{className:"text-white",children:s.usagePatterns.avgIdeasPerUser})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-gray-300",children:"Avg Prompts per User"}),(0,N.jsx)("span",{className:"text-white",children:s.usagePatterns.avgPromptsPerUser})]}),(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsx)("h4",{className:"text-sm font-medium text-gray-300",children:"Most Used Features"}),s.usagePatterns.mostUsedFeatures.slice(0,3).map((e,s)=>(0,N.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,N.jsx)("span",{className:"text-gray-400",children:e.name}),(0,N.jsxs)("span",{className:"text-white",children:[e.usage,"%"]})]},e.name))]})]})]})]}),(0,N.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,N.jsxs)(r.Zp,{className:"workspace-card",children:[(0,N.jsx)(r.aR,{children:(0,N.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,N.jsx)(j.A,{className:"h-5 w-5 text-green-400"}),"Geographic Distribution"]})}),(0,N.jsx)(r.Wu,{children:(0,N.jsx)("div",{className:"space-y-3",children:s.demographics.countries.map((e,a)=>(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-gray-300",children:e.country}),(0,N.jsxs)("div",{className:"flex items-center gap-2",children:[(0,N.jsx)("span",{className:"text-white",children:e.users}),(0,N.jsx)("div",{className:"w-16 bg-gray-700 rounded-full h-2",children:(0,N.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(e.users/s.totalUsers*100,"%")}})})]})]},e.country))})})]}),(0,N.jsxs)(r.Zp,{className:"workspace-card",children:[(0,N.jsx)(r.aR,{children:(0,N.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,N.jsx)(u.A,{className:"h-5 w-5 text-green-400"}),"Device Usage"]})}),(0,N.jsx)(r.Wu,{children:(0,N.jsx)("div",{className:"space-y-4",children:s.demographics.devices.map((e,s)=>(0,N.jsxs)("div",{className:"space-y-2",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("span",{className:"text-gray-300 flex items-center gap-2",children:["Desktop"===e.device&&(0,N.jsx)(u.A,{className:"h-4 w-4"}),"Mobile"===e.device&&(0,N.jsx)(v.A,{className:"h-4 w-4"}),"Tablet"===e.device&&(0,N.jsx)(u.A,{className:"h-4 w-4"}),e.device]}),(0,N.jsxs)("span",{className:"text-white",children:[e.percentage,"%"]})]}),(0,N.jsx)(l.k,{value:e.percentage,className:"h-2"})]},e.device))})})]})]})]}):(0,N.jsxs)("div",{className:"text-center text-white",children:[(0,N.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),(0,N.jsx)("p",{children:"Only Super Admins can access user analytics."})]})}},55731:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},63172:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(77784).A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])}}]);
//# sourceMappingURL=4536.8b1c560e.chunk.js.map